!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=687)}([function(e,t,n){e.exports=n(77).default},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(t){const r=n(26),o=n(31),i=n(55),a=n(75),s=n(549),l=function(e){return"number"==typeof e},u=function(e){return"string"==typeof e},c=n(548),d=n(112),f=n(41),p=n(109),h=n(40),m=n(544),g=n(543);function y(e,t){const n=[];let r=e.length;r?e.forEach((e,o)=>{e((e,i)=>{n[o]=i,(0==--r||e)&&t(e,n)})}):t(null,n)}const v=n(542),_=n(18),b=n(108),w=n(540),E=n(6)("live"),k=function(e){return e instanceof M},S=function(e){return e instanceof U},x=function(e){return Object.assign({},e)},T=function(e,t){return 0===e.length?[]:d.call(this,e,t)},A=function(e,t){const n=[];let r;for(let o=0,i=t.length;o<i;o++)(r=t[o])in e?n.push(e[r]):n.length++;return n},P=function(e,t){if(!e.length)return[];let n=[];for(let r=0,o=e.length;r<o;r++){const o=e[r];n=n.concat(o.subtract(t))}return n=new _(0,0).merge(n),n=f(n,function(e){return!!e.length})},C=function(e,t){let n=t;for(let t=0,r=e.length;t<r;t++){n=e[t].merge(n)}return n};let O=0;const L=Array.prototype.slice,I=function(e,t){return a(e)?"operations"in e?(new M).update(e.operations):q(e.uri)._update(e,t):Array.isArray(e)?(new M)._update([{type:"insert",index:0,length:e.length,values:e}],t):e};function R(e,t){let n;const r=setTimeout(function(){n=!0,e(new Error(`Timeout Expired: ${t} milliseconds`))},t);return function(){n||(clearTimeout(r),e.apply(this,arguments))}}const M=r({mixin:i,constructor:function(e){this._data=new v(e),this._mergeThrottled=w(this._merge,this),this._waiting=[];let t="";q.debug&&setInterval(()=>{const e=this._waiting.toString();t!==e&&(t=e,this._waiting.length?E(this,"waiting for",this._waiting):E(this,"all done"))},2e3)},get index(){return this._data.index},get length(){return this._data.length},get keys(){return this._data.keys},get values(){return this._data.values},indexOf:function(e){return this._data.indexOf(e)},indexOfMany:function(e){return this._data.indexOfMany(e)},valueOf:function(e){return this._data.valueOf(e)},hasKey:function(e){return this._data.hasKey(e)},forEach:function(e,t){return this._data.forEach(e,t),this},map:function(e,t){return this._data.map(e,t)},_merge:function(){const e=this._data,t=this._publish,n=this._before;if(t){if(delete this._publish,this._listeners&&this._listeners.publish){const n=e.diff(t);n.length&&this.emit("publish",n,z)}}else if(n&&(delete this._before,this._listeners&&this._listeners.update)){const t=n.diff(e);t.length&&this.emit("update",t,z)}return this},_update:function(e,t){let n,r;if(t===J){if(this._before)return this;n=this._publish||(this._publish=this._data.clone())}else t===K&&(this._publish&&delete this._publish,this._before||(this._before=this._data.clone()),n=this._data);for(let o=0,i=e.length;o<i;o++){const i=[],a=(r=e[o]).keys||[];switch(r.type){case"length":n.length=r.length;break;case"sort":n.sort(r.compareFunction);break;case"move":n.move(r.from,r.to,r.length);break;case"remove":n.remove(r.index,r.length);break;case"insert":for(let e=0,n=r.values.length;e<n;e++)r.keys&&r.keys[e]||(a[e]=(O++).toString(36)),i[e]=I(r.values[e],t);n.insert(r.index,a,i);break;default:console.error("Invalid operation type",r.type)}}return t===K&&(this._waiting=P(this._waiting,this.index)),this._mergeThrottled(),this},publish:function(e){return this._update(e,J)},update:function(e){return this._update(e,K)},serialize:function(e){if(0===e)return[];const t=[],n=void 0===e?void 0:e-1;for(let e=0;e<this.length;e++){const r=this.values[e];let o=r;r&&r.serialize&&(o=r.serialize(n)),t.push(o)}return t},_getDataFromMask:function(e){const t=[];if(e.length>0)for(let n=0,r=this.length;n<r;n++){const r=this.get(n);let o;r&&r._getDataFromMask&&(o=r._getDataFromMask(e)),t.push(o)}return t},_query:function(e,t,n){const r=()=>{V(this,e,(r,o,i)=>{r?t(r):i?t(null,o):this._query(e,t,n)})};n===Y?o.immediate(r):r()},query:function(e,t,n,r,o){let i=t,a=n,s=r,u=o;return"function"==typeof i&&(u=s,s=a,a=i,i=[]),a?(s?l(s)&&(u=s,s=Y):s=Y,u&&(a=R(a,u)),this._query(b(e,i),a,s),this):this._getDataFromMask(b(e,i).mask)},_wait:function(e){this._required||(this._required=[],o.immediate(function(){const e=this.missing(this._required),t=P(e,this._waiting);this._waiting=C(this._waiting,t),delete this._required,t.length&&this.emit("wait",t,z)},this)),this._required=C(this._required,e)},missing:function(e){return P(e,this.index)},_get:function(e,t){if(this.missing(e).length){this._wait(e);const n=function(){this.missing(e).length||(this.off("update",n),t.call(this))};this.on("update",n)}else t.call(this,null,!0)},has:function(e,t){let n;return(n=new _(e,void 0!==t?t:e+1)).contained(this.index)},get:function(e,t){if(1===arguments.length){if(l(e))return this.values[e];if(u(e))return this.valueOf(e)}const n=L.call(arguments);let r,i,a;for(let e=0,t=n.length;e<t;e++){if("function"==typeof n[e]){const o=n.splice(e,3);if(t=n.length,r=o[0],o[1]){if(o[1]!==G&&o[1]!==Y&&o[1]!==W){i=Y,r=R(r,o[1]);break}i=o[1],o[2]&&i!==G&&(r=R(r,o[2]))}else i=Y;break}}let s=!1,c=!1;if(e instanceof _)a=n,s=!r&&a.length>1;else if(Array.isArray(e))s=!0,a=e;else{const n=!isNaN(t);a=n?[new _(e,t)]:[new _(e,e+1)],c=!n}const d=()=>h(a,e=>this.values.slice(e.start,e.end)),f=()=>{s?r.call(this,null,d()):c?r.call(this,null,this.values[e]):r.apply(this,[null].concat(d()))};return r?(i===G?f():i!==Y||this.missing(a).length?this._get(a,f):o.immediate(function(){this._get(a,f)},this),this):s?d():d()[0]}}),U=r({mixin:i,constructor:function(e){this.uri=e,this._data={uri:e},this._mergeThrottled=w(this._merge,this),this.index=[],this._waiting=[],this.emit("init",z);let t="";q.debug&&setInterval(()=>{const e=this._waiting.toString();t!==e&&(t=e,this._waiting.length?E(this,this._waiting):E(this,"all done"))},2e3)},emit:function(){const e=this.uri;if(e){const t=$.keys,n=$.values;let r,o;for(let i=0,a=t.length;i<a;i++)if(r=t[i],e.match(r)){if(!o){o=new Array(arguments.length);for(let e=0;e<arguments.length;++e)o[e]=arguments[e];o.splice(1,0,this)}const e=n[i];e.emit.apply(e,o)}}i.prototype.emit.apply(this,arguments)},_merge:function(){const e=this._data,t=this._before,n=this._publish;let r,o;if(n&&(delete this._publish,this.uri||this._listeners&&this._listeners.publish)){const t={};for(o in n)n.hasOwnProperty(o)&&(r=n[o],e[o]!==r&&(t[o]=r));Object.keys(t).length&&this.emit("publish",t,z)}if(t){delete this._before;const n={};if(this.uri||this._listeners&&this._listeners.update){for(o in e)e.hasOwnProperty(o)&&(r=e[o],o in t&&t[o]===r||(n[o]=r));for(o in t)t.hasOwnProperty(o)&&(r=t[o],o in e||(n[o]=void 0));Object.keys(n).length&&this.emit("update",n,z)}}return this},_update:function(e,t){let n,r;t===J?n=this._publish||(this._publish=x(this._data)):t===K&&(this._before||(this._before=x(this._data)),n=this._data);for(const o in e){if(!e.hasOwnProperty(o))continue;r=e[o];const i=o in n?n[o]:void 0;if(k(i)){if(Array.isArray(r)){i._update([{type:"remove",index:0,length:i.length},{type:"insert",index:0,values:r}],t);continue}if(a(r)&&"operations"in r){i._update(r.operations,t);continue}}t===K&&void 0===r?delete n[o]:n[o]=I(r,t)}return t===K&&(this.index=Object.keys(n),this._waiting=T(this._waiting,this.index)),this._mergeThrottled(),this},delete:function(e){const t={};return t[e]=void 0,this.update(t)},update:function(e){return this._update(e,K)},publish:function(e){return this._update(e,J)},serialize:function(e){if(0===e)return{};const t={},n=this._data,r=void 0===e?void 0:e-1;for(const e in n){if(!n.hasOwnProperty(e))continue;const o=n[e];if(void 0===o)continue;let i=o;o&&o.serialize&&(i=o.serialize(r)),t[e]=i}return t},_getDataFromMask:function(e){const t={};for(let n=0,r=e.length;n<r;n++){const r=e[n],o=r.mask,i=r.key,a=this.get(i);let s=a;if(S(a)&&(s={}),k(a)&&(s=[]),o)if(S(a)){const e=a._getDataFromMask(o);m(s,e)}else k(a)&&(s=a._getDataFromMask(o));t[i]=s}return t},_query:function(e,t,n){const r=()=>{F(this,e,(r,o,i)=>{r?t.call(this,r):i?t.call(this,null,o):this._query(e,t,n)})};n===Y?o.immediate(r):r()},query:function(e,t,n,r,o){let i=t,a=n,s=r,u=o;return"function"==typeof i&&(u=s,s=a,a=i,i=[]),a?(s?l(s)&&(u=s,s=Y):s=Y,u&&(a=R(a,u)),this._query(b(e,i),a,s),this):this._getDataFromMask(b(e,i).mask)},_wait:function(e){this._required||(this._required=[],o.immediate(function(){const e=this.missing(this._required),t=T(e,this._waiting);this._waiting=p(this._waiting,t),delete this._required,t.length&&this.emit("wait",t,z)},this)),this._required=p(this._required,e)},missing:function(e){return T(e,this.index)},has:function(e){return this.index.indexOf(e)>-1},_get:function(e,t){if(this.missing(e).length){this._wait(e);const n=function(){this.missing(e).length||(this.off("update",n),t.call(this))};this.on("update",n)}else t.call(this,null,!0)},get:function(e){const t=this._data;if(1===arguments.length&&u(e))return t[e];const n=L.call(arguments);let r,i,a;for(let e=0,t=n.length;e<t;e++){if("function"==typeof n[e]){const o=n.splice(e,3);if(t=n.length,r=o[0],o[1]){if(o[1]!==G&&o[1]!==Y&&o[1]!==W){i=Y,r=R(r,o[1]);break}i=o[1],o[2]&&i!==G&&(r=R(r,o[2]))}else i=Y;break}}let s=!1;Array.isArray(e)?(a=e,s=!0):a=n;const l=()=>{const e=A(t,a);s?r.call(this,null,e):(e.unshift(null),r.apply(this,e))};return r?(i===G?l():i!==Y||this.missing(a).length?this._get(a,l):o.immediate(()=>{this._get(a,l)}),this):A(t,a)}}),D=function(e,t,n){return a(e)||S(e)?F(e,t,n):Array.isArray(e)||k(e)?V(e,t,n):n(null,e,!0)},F=function(e,t,n){const r={};let o=!0;t||n(null,r,o);const i=h(t.mask,"key"),a=function(e){y(e.map(function(e,n){return function(a){D(e,t.mask[n],function(e,t,s){e?a(e):(s||(o=!1),r[i[n]]?m(r[i[n]],t):r[i[n]]=t,a())})}}),function(e){n(e,r,o)})};if(S(e))e._get(i,function(t,r){if(t)n(t);else{r||(o=!1);const t=h(i,function(t){return e._data[t]});a(t)}});else{const t=g(e,i);a(t)}},N=function(e,t,n){if(!t)return!!e;if(s(n))return n.test(e);if("="===t)return e===n;if("!="===t)return e!==n;if(l(n)){if(">"===t)return e>n;if(">="===t)return e>=n;if("<"===t)return e<n;if("<="===t)return e<=n}if(u(n)){const r=c(n);if("^="===t)return new RegExp(`^${r}`).test(e);if("$="===t)return new RegExp(`${r}$`).test(e);if("~="===t)return new RegExp(`(^|\\s)${r}(\\s|$)`).test(e);if("|="===t)return new RegExp(`^${r}(-|$)`).test(e);if(" *="===t)return-1!==e.toString().indexOf(n)}return!1},j=function(e,t,n,r,o){let i=!0;const s=[];let l=e.length,u=!1;function c(e){if(e)return void(u||(u=!0,o(e)));if(u||--l>0)return;const t=[];for(let e=0;e<s.length;e++)e in s&&t.push(s[e]);o(null,t,i)}for(let o=0;o<e.length;o++){const l=e[o];S(l)?l._get([t],function(e,a){if(e)return void c(e);a||(i=!1);let u=l._data[t];N(u,n,r)&&(s[o]=l),c()}):(a(l)&&N(l[t],n,r)&&(s[o]=l),c())}},B=[[{left:0,op:":"}]];const V=function(e,t,n){let r=!0;t.filters||(t.filters=B),function e(t,n,r,o){n>=t.length?o():r(t[n],function(i){i?o(i):e(t,n+1,r,o)})}(t.filters,0,function(t,n){let o=[];y(t.map(function(t){return function(n){!function(t,n){let i=t.left,a=t.right,s=t.op;if("left"in t&&!("right"in t)&&l(i)&&(s?":"===s&&(a=e.length):a=i+1,s=":"),"right"in t&&!("left"in t)&&l(a)&&":"===s&&(i=0),l(i)&&l(a)&&":"===s)if(Array.isArray(e)){const t=L.call(e,i,a);o=o.concat(t),n()}else e._get([new _(i,a)],function(t,s){if(t)n(t);else{for(let t=i;t<a;t++)o.push(e.values[t]);s||(r=!1),n()}});else{const t=function(e){j(e,i,s,a,function(e,t,i){e?n(e):(i||(r=!1),o=o.concat(t),n())})};Array.isArray(e)?t(e):e._get([new _(0,e.length)],function(o,i){if(o)n(o);else{const n=[];for(let t=0;t<e.length;t++)n.push(e.values[t]);i||(r=!1),t(n)}})}}(t,n)}}),function(t){t?n(t):(e=o,n())})},function(o){if(o)n(o);else{const o=[];y(e.map(function(e,n){return function(i){D(e,t,function(e,t,a){a||(r=!1),o[n]?m(o[n],t):o[n]=t,i(e)})}}),function(e){n(e,o,r)})}})};let H={};const q=function(e){return Array.isArray(e)?(new M).update([{type:"insert",index:0,length:e.length,values:e}]):l(e)?new M(e):u(e)?H[e]||(H[e]=new U(e)):a(e)?q(e.uri).update(e):k(e)||S(e)?e:new U};t.localStorage&&t.localStorage.debug&&(t.localStorage.debug.indexOf("live")>-1||t.localStorage.debug.indexOf("*")>-1)&&(q.debug=!0);const $={keys:[],values:[]};q.subscribe=function(e,t,n){let r=e;e.matches&&(r=r.matches);const o=r.toString(),a=$.keys,s=$.values;let l;for(let e=0,t=a.length;e<t;e++){if(a[e].toString()===o&&(l=s[e]))break}return l||(a.push(e),s.push(l=new i)),l.on(t,n),this},q.unsubscribe=function(e,t,n){let r=e;r.matches&&(r=r.matches);const o=e.toString(),i=$.keys,a=$.values;let s;for(let e=0,t=i.length;e<t;e++){if(i[e].toString()===o&&(s=a[e]))break}return s&&s.off(t,n),this},q.delete=function(e){return delete H[e],this},q.purge=function(){return H={},this},q.has=function(e){return!!H[e]};const z=q.EMIT_SYNC=i.EMIT_SYNC,Y=q.ASYNC="ASYNC",G=q.SYNC="SYNC",W=q.ASAP="ASAP",J=3,K=4;q.Object=U,q.List=M,e.exports=q}).call(this,n(1))},function(e,t,n){t.assert=n(667),t.check=n(35),t.clone=n(666),t.compare=n(199),t.conforms=n(665),t.define=n(664),t.equals=n(663),t.extend=n(118),t.fallback=n(662),t.fixture=n(661),t.is=n(19),t.mock=n(660),t.name=n(81),t.spy=n(659),t.stub=n(658)},function(e,t,n){"use strict";var r=n(645),o=new TypeError("Invalid Spotify URI!"),i=(new TypeError("Not implemented!"),0),a=1,s=function(e,t){return e=encodeURIComponent(e),t===i&&(e=e.replace(/%20/g,"+")),e=(e=e.replace(/[!'()]/g,escape)).replace(/\*/g,"%2A")},l=function(e,t){var n=t==i?e.replace(/\+/g,"%20"):e;return decodeURIComponent(n)},u=function(e,t){var n,r,i,a;switch(e.id&&(n=e._base62Id),e.type){case p.Type.ALBUM:return r=[p.Type.ALBUM,n],e.disc&&r.push(e.disc),r;case p.Type.AD:return[p.Type.AD,e._base62Id];case p.Type.ARTIST:return[p.Type.ARTIST,n];case p.Type.ARTIST_TOPLIST:return[p.Type.ARTIST,n,p.Type.TOP,e.toplist];case p.Type.DAILY_MIX:return[p.Type.DAILY_MIX,n];case p.Type.SEARCH:return[p.Type.SEARCH,s(e.query,t)];case p.Type.TRACK:return(e.context||e.play)&&(n+=c({context:e.context,play:e.play})),e.anchor&&(n+="#"+e.anchor),[p.Type.TRACK,n];case p.Type.TRACKSET:var l=[];for(i=0,a=e.tracks.length;i<a;i++)l.push(e.tracks[i]._base62Id);return l=[l.join(",")],null!==e.index&&l.push("#",e.index),[p.Type.TRACKSET,s(e.name)].concat(l);case p.Type.FACEBOOK:return[p.Type.USER,p.Type.FACEBOOK,e.uid];case p.Type.AUDIO_FILE:return[p.Type.AUDIO_FILE,e.extension,e._base62Id];case p.Type.FOLDER:return[p.Type.USER,s(e.username,t),p.Type.FOLDER,e._base62Id];case p.Type.FOLLOWERS:return[p.Type.USER,s(e.username,t),p.Type.FOLLOWERS];case p.Type.FOLLOWING:return[p.Type.USER,s(e.username,t),p.Type.FOLLOWING];case p.Type.PLAYLIST:return[p.Type.USER,s(e.username,t),p.Type.PLAYLIST,n];case p.Type.PLAYLIST_V2:return[p.Type.PLAYLIST,n];case p.Type.STARRED:return[p.Type.USER,s(e.username,t),p.Type.STARRED];case p.Type.TEMP_PLAYLIST:return[p.Type.TEMP_PLAYLIST,e.origin,e.data];case p.Type.CONTEXT_GROUP:return[p.Type.CONTEXT_GROUP,e.origin,e.name];case p.Type.USER_TOPLIST:return[p.Type.USER,s(e.username,t),p.Type.TOP,e.toplist];case p.Type.USER_TOP_TRACKS:return[p.Type.USER,s(e.username,t),p.Type.TOPLIST];case p.Type.TOPLIST:return[p.Type.TOP,e.toplist].concat(e.global?[p.Type.GLOBAL]:["country",e.country]);case p.Type.INBOX:return[p.Type.USER,s(e.username,t),p.Type.INBOX];case p.Type.ROOTLIST:return[p.Type.USER,s(e.username,t),p.Type.ROOTLIST];case p.Type.PUBLISHED_ROOTLIST:return[p.Type.USER,s(e.username,t),p.Type.PUBLISHED_ROOTLIST];case p.Type.COLLECTION_TRACK_LIST:return[p.Type.USER,s(e.username,t),p.Type.COLLECTION_TRACK_LIST,n];case p.Type.PROFILE:return e.args&&e.args.length>0?[p.Type.USER,s(e.username,t)].concat(e.args):[p.Type.USER,s(e.username,t)];case p.Type.LOCAL_ARTIST:return[p.Type.LOCAL,s(e.artist,t)];case p.Type.LOCAL_ALBUM:return[p.Type.LOCAL,s(e.artist,t),s(e.album,t)];case p.Type.LOCAL:return[p.Type.LOCAL,s(e.artist,t),s(e.album,t),s(e.track,t),e.duration];case p.Type.LIBRARY:return[p.Type.USER,s(e.username,t),p.Type.LIBRARY].concat(e.category?[e.category]:[]);case p.Type.IMAGE:return[p.Type.IMAGE,e._base62Id];case p.Type.MOSAIC:return(r=e.ids.slice(0)).unshift(p.Type.MOSAIC),r;case p.Type.RADIO:return[p.Type.RADIO,e.args];case p.Type.SPECIAL:for(r=[p.Type.SPECIAL],i=0,a=(u=e.args||[]).length;i<a;++i)r.push(s(u[i],t));return r;case p.Type.STATION:for(r=[p.Type.STATION],i=0,a=(u=e.args||[]).length;i<a;i++)r.push(s(u[i],t));return r;case p.Type.APPLICATION:var u;for(r=[p.Type.APP,e._base62Id],i=0,a=(u=e.args||[]).length;i<a;++i)r.push(s(u[i],t));return r;case p.Type.COLLECTION_ALBUM:return[p.Type.USER,s(e.username,t),p.Type.COLLECTION,p.Type.ALBUM,n];case p.Type.COLLECTION_MISSING_ALBUM:return[p.Type.USER,s(e.username,t),p.Type.COLLECTION,p.Type.ALBUM,n,"missing"];case p.Type.COLLECTION_ARTIST:return[p.Type.USER,s(e.username,t),p.Type.COLLECTION,p.Type.ARTIST,n];case p.Type.COLLECTION:return[p.Type.USER,s(e.username,t),p.Type.COLLECTION].concat(e.category?[e.category]:[]);case p.Type.EPISODE:return(e.context||e.play)&&(n+=c({context:e.context,play:e.play})),[p.Type.EPISODE,n];case p.Type.SHOW:return[p.Type.SHOW,n];case p.Type.CONCERT:return[p.Type.CONCERT,n];default:throw o}},c=function(e){var t="?";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t.length>1&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]));return t},d=function(e){return e.split("&").reduce(function(e,t){return e[(t=t.split("="))[0]]=decodeURIComponent(t[1]),e},{})},f=function(e,t,n){var r=0;n=n||{};var a,u,c,d=function(){return e[r++]},f=function(){var e=d();if(e.length>22)throw new Error("Invalid ID");return e},h=function(){return e.slice(r)},m=function(){var n=t==i?":":"/";return e.slice(r).join(n)},g=d();switch(g){case p.Type.ALBUM:return p.albumURI(f(),parseInt(d(),10));case p.Type.AD:return p.adURI(d());case p.Type.ARTIST:return a=f(),d()==p.Type.TOP?p.artistToplistURI(a,d()):p.artistURI(a);case p.Type.AUDIO_FILE:return p.audioFileURI(d(),d());case p.Type.DAILY_MIX:return p.dailyMixURI(f());case p.Type.TEMP_PLAYLIST:return p.temporaryPlaylistURI(d(),m());case p.Type.PLAYLIST:return p.playlistV2URI(f());case p.Type.SEARCH:return p.searchURI(l(m(),t));case p.Type.TRACK:return p.trackURI(f(),d(),n.context,n.play);case p.Type.TRACKSET:var y=l(d()),v=d(),_=d(),b=parseInt(d(),10);("%23"!==_||isNaN(b))&&(b=null);var w=[];if(v)for(u=0,c=(v=l(v).split(",")).length;u<c;u++){var E=v[u];w.push(p.trackURI(E))}return p.tracksetURI(w,y,b);case p.Type.CONTEXT_GROUP:return p.contextGroupURI(d(),d());case p.Type.TOP:var k=d();return d()==p.Type.GLOBAL?p.toplistURI(k,null,!0):p.toplistURI(k,d(),!1);case p.Type.USER:var S=l(d(),t),x=d();if(S==p.Type.FACEBOOK&&null!=x)return p.facebookURI(parseInt(x,10));if(null!=x)switch(x){case p.Type.PLAYLIST:return p.playlistURI(S,f());case p.Type.FOLDER:return p.folderURI(S,f());case p.Type.COLLECTION_TRACK_LIST:return p.collectionTrackList(S,f());case p.Type.COLLECTION:var T=d();switch(T){case p.Type.ALBUM:return a=f(),"missing"===d()?p.collectionMissingAlbumURI(S,a):p.collectionAlbumURI(S,a);case p.Type.ARTIST:return p.collectionArtistURI(S,f());default:return p.collectionURI(S,T)}case p.Type.STARRED:return p.starredURI(S);case p.Type.FOLLOWERS:return p.followersURI(S);case p.Type.FOLLOWING:return p.followingURI(S);case p.Type.TOP:return p.userToplistURI(S,d());case p.Type.INBOX:return p.inboxURI(S);case p.Type.ROOTLIST:return p.rootlistURI(S);case p.Type.PUBLISHED_ROOTLIST:return p.publishedRootlistURI(S);case p.Type.TOPLIST:return p.userTopTracksURI(S);case p.Type.LIBRARY:return p.libraryURI(S,d())}var A=h();return null!=x&&A.length>0?p.profileURI(S,[x].concat(A)):null!=x?p.profileURI(S,[x]):p.profileURI(S);case p.Type.LOCAL:var P=d(),C=P&&l(P,t),O=d(),L=O&&l(O,t),I=d(),R=I&&l(I,t),M=d(),U=parseInt(M,10);return void 0!==I?p.localURI(C,L,R,U):void 0!==O?p.localAlbumURI(C,L):p.localArtistURI(C);case p.Type.IMAGE:return p.imageURI(f());case p.Type.MOSAIC:return p.mosaicURI(e.slice(r));case p.Type.RADIO:return p.radioURI(m());case p.Type.SPECIAL:for(u=0,c=(D=h()).length;u<c;++u)D[u]=l(D[u],t);return p.specialURI(D);case p.Type.STATION:return p.stationURI(h());case p.Type.EPISODE:return p.episodeURI(f(),n.context,n.play);case p.Type.SHOW:return p.showURI(f());case p.Type.CONCERT:return p.concertURI(f());case"":break;default:a=g===p.Type.APP?d():g;var D,F=l(a,t);if(s(F,t)!==a)break;for(u=0,c=(D=h()).length;u<c;++u)D[u]=l(D[u],t);return p.applicationURI(F,D)}throw o};function p(e,t){for(var n in this.type=e,t)"function"!=typeof t[n]&&(this[n]=t[n])}Object.defineProperty(p.prototype,"id",{get:function(){return this._hexId||(this._hexId=this._base62Id?p.idToHex(this._base62Id):void 0),this._hexId},set:function(e){this._base62Id=e?p.hexToId(e):void 0,this._hexId=void 0},enumerable:!0,configurable:!0}),p.prototype.toAppType=function(){if(this.type==p.Type.APPLICATION)return p.applicationURI(this.id,this.args);var e=u(this,a),t=e.shift(),n=e.length;if(n)for(;n--;)e[n]=l(e[n],a);return this.type==p.Type.RADIO&&(e=e.shift().split(":")),p.applicationURI(t,e)},p.prototype.toRealType=function(){return this.type==p.Type.APPLICATION?f([this.id].concat(this.args),i):new p(null,this)},p.prototype.toURI=function(){return"spotify:"+u(this,i).join(":")},p.prototype.toString=function(){return this.toURI()},p.prototype.toURLPath=function(e){var t=u(this,a);t[0]===p.Type.APP&&t.shift();var n=t[0]===p.Type.TRACKSET,r=t[0]===p.Type.LOCAL;if(!n&&!r){for(var o=[],i=0,s=t.length;i<s;i++){var l=t[i];l&&o.push(l)}t=o}var c=t.join("/");return e?"/"+c:c},p.prototype.toPlayURL=function(){return"https://play.spotify.com/"+this.toURLPath()},p.prototype.toURL=function(){return this.toPlayURL()},p.prototype.toOpenURL=function(){return"https://open.spotify.com/"+this.toURLPath()},p.prototype.toSecurePlayURL=function(){return this.toPlayURL()},p.prototype.toSecureURL=function(){return this.toPlayURL()},p.prototype.toSecureOpenURL=function(){return this.toOpenURL()},p.prototype.idToByteString=function(){var e=r.toHex(this._base62Id);if(!e){for(var t="",n=0;n<16;n++)t+=String.fromCharCode(0);return t}var o="";for(n=0;n<32;n+=2){var i=(r.ID16[e.charCodeAt(n)]<<4)+r.ID16[e.charCodeAt(n+1)];o+=String.fromCharCode(i)}return o},p.prototype.getPath=function(){return this.toString().replace(/[#?].*/,"")},p.prototype.getBase62Id=function(){return this._base62Id},p.prototype.isSameIdentity=function(e){var t=p.from(e);if(!t)return!1;if(this.toString()===e.toString())return!0;if(this.type!==p.Type.PLAYLIST&&this.type!==p.Type.PLAYLIST_V2||t.type!==p.Type.PLAYLIST&&t.type!==p.Type.PLAYLIST_V2){if(this.type===p.Type.STATION&&t.type===p.Type.STATION){var n=f(this.args,i);return!!n&&n.isSameIdentity(f(t.args,i))}return!1}return this.id===t.id},p.Type={EMPTY:"empty",ALBUM:"album",AD:"ad",APP:"app",APPLICATION:"application",ARTIST:"artist",ARTIST_TOPLIST:"artist-toplist",AUDIO_FILE:"audiofile",COLLECTION:"collection",COLLECTION_ALBUM:"collection-album",COLLECTION_MISSING_ALBUM:"collection-missing-album",COLLECTION_ARTIST:"collection-artist",CONTEXT_GROUP:"context-group",DAILY_MIX:"dailymix",EPISODE:"episode",FACEBOOK:"facebook",FOLDER:"folder",FOLLOWERS:"followers",FOLLOWING:"following",GLOBAL:"global",IMAGE:"image",INBOX:"inbox",LOCAL_ARTIST:"local-artist",LOCAL_ALBUM:"local-album",LOCAL:"local",LIBRARY:"library",MOSAIC:"mosaic",PLAYLIST:"playlist",PLAYLIST_V2:"playlist-v2",PROFILE:"profile",PUBLISHED_ROOTLIST:"published-rootlist",RADIO:"radio",ROOTLIST:"rootlist",COLLECTION_TRACK_LIST:"collectiontracklist",SEARCH:"search",SHOW:"show",CONCERT:"concert",SPECIAL:"special",STARRED:"starred",STATION:"station",TEMP_PLAYLIST:"temp-playlist",TOP:"top",TOPLIST:"toplist",TRACK:"track",TRACKSET:"trackset",USER:"user",USER_TOPLIST:"user-toplist",USER_TOP_TRACKS:"user-top-tracks",USET_TOP_TRACKS:"user-top-tracks"},p.fromString=function(e){var t=function(e){var t,n,r,s,l=e.split("?");if(l.length>1){e=l.shift();var u=(r=l.pop()).split("#");u.length>1&&(r=u.shift(),s=u.pop()),r=d(r)}var c=e.split("#");if(c.length>1&&(e=c.shift(),s=c.pop()),0===e.indexOf("spotify:"))t=e.slice("spotify:".length).split(":"),n=i;else{if(0===(e=e.split("?")[0]).indexOf("http://play.spotify.com/"))t=e.slice("http://play.spotify.com/".length).split("/");else if(0===e.indexOf("https://play.spotify.com/"))t=e.slice("https://play.spotify.com/".length).split("/");else if(0===e.indexOf("http://open.spotify.com/"))t=e.slice("http://open.spotify.com/".length).split("/");else{if(0!==e.indexOf("https://open.spotify.com/"))throw o;t=e.slice("https://open.spotify.com/".length).split("/")}n=a}return s&&t.push(s),{format:n,components:t,query:r}}(e);return f(t.components,t.format,t.query)},p.from=function(e){try{return e instanceof p?e:"object"==typeof e&&e.type?new p(null,e):p.fromString(e.toString())}catch(e){return null}},p.fromByteString=function(e,t,n){for(;16!=t.length;)t=String.fromCharCode(0)+t;for(var o="",i=0;i<t.length;i++){var a=t.charCodeAt(i);o+=r.HEX256[a]}var s=r.fromHex(o),l=n||{};return l.id=s,new p(e,l)},p.clone=function(e){return e instanceof p?new p(null,e):null},p.getCanonical=function(e){return this.getCanonical(e)},p.getCanonicalUsername=function(e){return s(e,i)},p.getDisplayUsername=function(e){return l(e,i)},p.idToHex=function(e){return 22==e.length?r.toHex(e):e},p.hexToId=function(e){return 32==e.length?r.fromHex(e):e},p.emptyURI=function(){return new p(p.Type.EMPTY,{})},p.albumURI=function(e,t){return new p(p.Type.ALBUM,{id:e,disc:t})},p.adURI=function(e){return new p(p.Type.AD,{id:e})},p.audioFileURI=function(e,t){return new p(p.Type.AUDIO_FILE,{id:t,extension:e})},p.artistURI=function(e){return new p(p.Type.ARTIST,{id:e})},p.artistToplistURI=function(e,t){return new p(p.Type.ARTIST_TOPLIST,{id:e,toplist:t})},p.dailyMixURI=function(e){return new p(p.Type.DAILY_MIX,{id:e})},p.searchURI=function(e){return new p(p.Type.SEARCH,{query:e})},p.trackURI=function(e,t,n,r){return new p(p.Type.TRACK,{id:e,anchor:t,context:n?p.fromString(n):n,play:r})},p.tracksetURI=function(e,t,n){return new p(p.Type.TRACKSET,{tracks:e,name:t||"",index:isNaN(n)?null:n})},p.facebookURI=function(e){return new p(p.Type.FACEBOOK,{uid:e})},p.followersURI=function(e){return new p(p.Type.FOLLOWERS,{username:e})},p.followingURI=function(e){return new p(p.Type.FOLLOWING,{username:e})},p.playlistURI=function(e,t){return new p(p.Type.PLAYLIST,{username:e,id:t})},p.playlistV2URI=function(e){return new p(p.Type.PLAYLIST_V2,{id:e})},p.folderURI=function(e,t){return new p(p.Type.FOLDER,{username:e,id:t})},p.collectionTrackList=function(e,t){return new p(p.Type.COLLECTION_TRACK_LIST,{username:e,id:t})},p.starredURI=function(e){return new p(p.Type.STARRED,{username:e})},p.userToplistURI=function(e,t){return new p(p.Type.USER_TOPLIST,{username:e,toplist:t})},p.userTopTracksURI=function(e){return new p(p.Type.USER_TOP_TRACKS,{username:e})},p.toplistURI=function(e,t,n){return new p(p.Type.TOPLIST,{toplist:e,country:t,global:!!n})},p.inboxURI=function(e){return new p(p.Type.INBOX,{username:e})},p.rootlistURI=function(e){return new p(p.Type.ROOTLIST,{username:e})},p.publishedRootlistURI=function(e){return new p(p.Type.PUBLISHED_ROOTLIST,{username:e})},p.localArtistURI=function(e){return new p(p.Type.LOCAL_ARTIST,{artist:e})},p.localAlbumURI=function(e,t){return new p(p.Type.LOCAL_ALBUM,{artist:e,album:t})},p.localURI=function(e,t,n,r){return new p(p.Type.LOCAL,{artist:e,album:t,track:n,duration:r})},p.libraryURI=function(e,t){return new p(p.Type.LIBRARY,{username:e,category:t})},p.collectionURI=function(e,t){return new p(p.Type.COLLECTION,{username:e,category:t})},p.temporaryPlaylistURI=function(e,t){return new p(p.Type.TEMP_PLAYLIST,{origin:e,data:t})},p.contextGroupURI=function(e,t){return new p(p.Type.CONTEXT_GROUP,{origin:e,name:t})},p.profileURI=function(e,t){return new p(p.Type.PROFILE,{username:e,args:t})},p.imageURI=function(e){return new p(p.Type.IMAGE,{id:e})},p.mosaicURI=function(e){return new p(p.Type.MOSAIC,{ids:e})},p.radioURI=function(e){return e=void 0===e?"":e,new p(p.Type.RADIO,{args:e})},p.specialURI=function(e){return e=void 0===e?[]:e,new p(p.Type.SPECIAL,{args:e})},p.stationURI=function(e){return e=void 0===e?[]:e,new p(p.Type.STATION,{args:e})},p.applicationURI=function(e,t){return t=void 0===t?[]:t,new p(p.Type.APPLICATION,{id:e,args:t})},p.collectionAlbumURI=function(e,t){return new p(p.Type.COLLECTION_ALBUM,{username:e,id:t})},p.collectionMissingAlbumURI=function(e,t){return new p(p.Type.COLLECTION_MISSING_ALBUM,{username:e,id:t})},p.collectionArtistURI=function(e,t){return new p(p.Type.COLLECTION_ARTIST,{username:e,id:t})},p.episodeURI=function(e,t,n){return new p(p.Type.EPISODE,{id:e,context:t?p.fromString(t):t,play:n})},p.showURI=function(e){return new p(p.Type.SHOW,{id:e})},p.concertURI=function(e){return new p(p.Type.CONCERT,{id:e})},p.isAlbum=function(e){return(p.from(e)||{}).type===p.Type.ALBUM},p.isAd=function(e){return(p.from(e)||{}).type===p.Type.AD},p.isApplication=function(e){return(p.from(e)||{}).type===p.Type.APPLICATION},p.isArtist=function(e){return(p.from(e)||{}).type===p.Type.ARTIST},p.isCollection=function(e){return(p.from(e)||{}).type===p.Type.COLLECTION},p.isCollectionAlbum=function(e){return(p.from(e)||{}).type===p.Type.COLLECTION_ALBUM},p.isCollectionArtist=function(e){return(p.from(e)||{}).type===p.Type.COLLECTION_ARTIST},p.isDailyMix=function(e){return(p.from(e)||{}).type===p.Type.DAILY_MIX},p.isEpisode=function(e){return(p.from(e)||{}).type===p.Type.EPISODE},p.isFacebook=function(e){return(p.from(e)||{}).type===p.Type.FACEBOOK},p.isFolder=function(e){return(p.from(e)||{}).type===p.Type.FOLDER},p.isLocalArtist=function(e){return(p.from(e)||{}).type===p.Type.LOCAL_ARTIST},p.isLocalAlbum=function(e){return(p.from(e)||{}).type===p.Type.LOCAL_ALBUM},p.isLocalTrack=function(e){return(p.from(e)||{}).type===p.Type.LOCAL},p.isMosaic=function(e){return(p.from(e)||{}).type===p.Type.MOSAIC},p.isPlaylistV1=function(e){return(p.from(e)||{}).type===p.Type.PLAYLIST},p.isPlaylistV2=function(e){return(p.from(e)||{}).type===p.Type.PLAYLIST_V2},p.isRadio=function(e){return(p.from(e)||{}).type===p.Type.RADIO},p.isRootlist=function(e){return(p.from(e)||{}).type===p.Type.ROOTLIST},p.isSearch=function(e){return(p.from(e)||{}).type===p.Type.SEARCH},p.isShow=function(e){return(p.from(e)||{}).type===p.Type.SHOW},p.isConcert=function(e){return(p.from(e)||{}).type===p.Type.CONCERT},p.isStation=function(e){return(p.from(e)||{}).type===p.Type.STATION},p.isTrack=function(e){return(p.from(e)||{}).type===p.Type.TRACK},p.isProfile=function(e){return(p.from(e)||{}).type===p.Type.PROFILE},p.isPlaylistV1OrV2=function(e){var t=p.from(e);return!!t&&(t.type===p.Type.PLAYLIST||t.type===p.Type.PLAYLIST_V2)},e.exports=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(3)),o=d(n(16)),i=d(n(139)),a=d(n(23)),s=d(n(36)),l=d(n(64)),u=d(n(137)),c=d(n(47));function d(e){return e&&e.__esModule?e:{default:e}}class f{constructor(e,t,n,l,u,d,p,h){if(this.constructor===f)throw new Error("Instances may not be created from abstract classes!");if(r.default.check.object(e),r.default.check.type(t,s.default),r.default.check.type(n,c.default),r.default.check.type(l,o.default),r.default.check.type(u,a.default),r.default.check.type(d,HTMLDocument),r.default.check.type(p,Window),r.default.check.object(h),!r.default.conforms(e,h,!0))throw new Error;this._model=r.default.clone(e),this._eventDispatcher=t,this._serviceRouter=n,this._configuration=l,this._environment=u,this._eventListeners=[],this._parentView=null,this._childViews=[],this._interactionHandlers=[],this._documentFragment=new i.default(d,p,this._render()),this._childContainerElement=this._documentFragment.find("[data-child-container]")}addChild(e){return r.default.check.type(e,f),e._removeFromParent(),this._childViews.push(e),e._parentView=this,this._documentFragment.isAttached()&&null!==this._childContainerElement&&e.attach(this._childContainerElement),this}attach(e){if(r.default.check.type(e,Element),null!==this._childContainerElement)for(let e=0;e<this._childViews.length;e++)this._childViews[e].attach(this._childContainerElement);this._documentFragment.attach(e)}destroy(){for(let e=0;e<this._childViews.length;e++)this._childViews[e].destroy();for(let e=0;e<this._eventListeners.length;e++)this._eventDispatcher.unregister(this._eventListeners[e]);for(let e=0;e<this._interactionHandlers.length;e++)this._interactionHandlers[e].detach();this._documentFragment.destroy(),this._model=null,this._eventDispatcher=null,this._serviceRouter=null,this._configuration=null,this._environment=null,this._eventListeners=null,this._parentView=null,this._childViews=null,this._interactionHandlers=null,this._documentFragment=null,this._childContainerElement=null}detach(){this._documentFragment.detach();for(let e=0;e<this._childViews.length;e++)this._childViews[e].detach()}handlesArgumentsChange(e){r.default.check.array(e);for(let t=0;t<this._childViews.length;t++)if(this._childViews[t].handlesArgumentsChange(e))return!0;return!1}hasVisibleChildren(){return this._childViews.length>0}totalNrOfDeferredContentLoads(){let e=this._nrOfDeferredContentLoads();if(this.hasVisibleChildren())for(let t=0;t<this._childViews.length;t++)e+=this._childViews[t].totalNrOfDeferredContentLoads();return e}_addEventListener(e,t){r.default.check.string(e),r.default.check.function(t);const n=new l.default(e,t,this);return this._eventListeners.push(n),this._eventDispatcher.register(n),this}_addInteractionHandler(e,t,n){r.default.check.type(e,Element),r.default.check.string(t),r.default.check.function(n);const o=new u.default(e,t,n,this);this._interactionHandlers.push(o),o.attach()}_logUIImpression5(e){r.default.check.object(e),this._configuration.getCurrentState(t=>{const n=t.getBooleanOr("logging/enabled",!1);this._environment.logUIImpression5(e,n)})}_logUIInteraction5(e){r.default.check.object(e),this._configuration.getCurrentState(t=>{const n=t.getBooleanOr("logging/enabled",!1);this._environment.logUIInteraction5(e,n)})}_nrOfDeferredContentLoads(){return 0}_removeEventListener(e,t){r.default.check.string(e),r.default.check.function(t);for(let n=this._eventListeners.length-1;n>=0;n--){const r=this._eventListeners[n];if(r.getType()===e&&r.getCallback()===t){this._eventDispatcher.unregister(r),this._eventListeners.splice(n,1);break}}}_removeFromParent(){if(null!==this._parentView){this.detach();const e=this._parentView._childViews.indexOf(this);-1!==e&&this._parentView._childViews.splice(e,1),this._parentView=null}}_render(){throw new Error("Abstract method called!")}_setUpStandardImpressionLogging(){"logs"in this._model&&"impression"in this._model.logs&&this._addEventListener("periodic-update",function e(t){r.default.check.object(t),this._documentFragment.isPartiallyVisible()&&(this._logUIImpression5(this._model.logs.impression),this._removeEventListener("periodic-update",e))})}}t.default=f},function(e,t,n){"use strict";let r,o=!1;e.exports=function e(t){if(!o){if(r=n(674),e.enable=r.enable.bind(r),e.disable=r.disable.bind(r),"undefined"!=typeof window&&window.frameElement){const e=window.frameElement.getAttribute("data-debug");e&&r.enable(e)}const t="undefined"!=typeof __spotify&&__spotify.product_state?__spotify.product_state:{},i=t.debugEnable||t.debugenable;i&&r.enable(i),"undefined"!=typeof __spotify&&__spotify.product_state&&"1"===__spotify.product_state["ta-environment"]&&(r.useColors=(()=>!1),r.formatters.o=(e=>{try{return JSON.stringify(e)}catch(e){return console.error("Unable to stringify object",e),""}})),o=!0}return r(t)}},function(e,t,n){"use strict";const r=n(53);n(480),n(164),n(476),n(163),n(473),e.exports=r},function(e,t,n){"use strict";const r=n(55);e.exports=new r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.resolver=t.Resolver=t.Response=t.Request=t.Action=void 0;var r=n(202),o=n(200),i=n(678);const a=e.window||{},s=a._getSpotifyModule&&"function"==typeof a._getSpotifyModule&&a._getSpotifyModule("bridge"),l=s?new i.Resolver(s):new i.NullResolver;t.default={Action:r.Action,Request:r.Request,Response:o.Response,Resolver:i.Resolver,resolver:l},t.Action=r.Action,t.Request=r.Request,t.Response=o.Response,t.Resolver=i.Resolver,t.resolver=l}).call(this,n(1))},function(e,t,n){var r=n(30);e.exports=function(e,t){return-1!==r(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(6)),o=i(n(9));function i(e){return e&&e.__esModule?e:{default:e}}const a=Date.now(),s=(0,r.default)("saf:cosmos-connector"),l="hm://sponsoredplaylist/v1/sponsored",u="sp://ads/v1/slots",c="sp://ads/v1/formats/",d="sp://ads/v1/settings",f=`${d}/request_header`,p=["audio","video","banner"],h={"Content-Type":"application/json"};let m="hm://ads/v1/ads",g=l;function y(e){return new Promise((t,n)=>{o.default.resolver.resolve(e,(r,o)=>{s("resolve req=%o, err=%o, res=%o",e,r,o),r?n(new Error(r)):t(o)})})}function v(e){return y(e).then(e=>e.getJSONBody())}function _(e,t){const n=new o.default.Request("SUB",c+e,{});o.default.resolver.resolve(n,(e,n)=>{e||t(n.getJSONBody())})}function b(e){return y(new o.default.Request("GET",`${d}/${e}`,h,{}))}function w(e,t){return v(new o.default.Request("POST",`${u}/${e}/${t}`,{}))}t.default={subscribeToFormat:_,getSlotConfigurations:b,getAdSlotConfig:e=>b(e).then(t=>t.getJSONBody().settings.filter(t=>t.id===e)[0]),getAdForSlot(e,t,n){s("fetch ad for slot=%o, localTargeting=%o",t,e,m);const r="hm://ads/v1/ads"!==m?m:`${m}/${t}`;return v(new o.default.Request("GET",r,{},{targeting:e,pod:{},session_id:a,overrides:n||{}})).then(e=>{if(!e.pod)throw new Error("pod-not-defined");if(!e.pod[t])throw new Error("slot-not-defined");if(0===e.pod[t].length)throw new Error("no-ads");return e.pod[t][0]})},fetchAdForSlot(e,t=null){const n=`sp://ads/v1/ads/${e}`;return s("fetchAdForSlot endpoint=%o",n),v(new o.default.Request("GET",n,{},t)).then(t=>{if(!t[e])throw new Error("slot-not-defined");if(0===t[e].length)throw new Error("no-ads");return t[e][0]})},getPreviewAd:e=>v(new o.default.Request("GET","hm://asp/v2/preview/{adId}".replace("{adId}",e),{})),requestPreviewAd:e=>(s("Requesting preview ad, adid=%o",e),v(new o.default.Request("POST",`sp://ads/v1/preview/${e}`,null,{}))),patchTargeting:(e,t)=>new Promise((n,r)=>{const i=new o.default.Request("PUT",`sp://ads/v1/targeting/${e}`,{"Content-Type":"application/json"},{value:t});o.default.resolver.resolve(i,o=>{s("patchTargeting key=%o val=%o req=%o err=%o",e,t,i,o),o?r(new Error(o)):n(!0)})}),putCrashData(e,t){const n=new o.default.Request("PUT",`sp://crash-data/v1/value/${e}`,{"Content-Type":"application/json"},String(t));return new Promise((e,t)=>{o.default.resolver.resolve(n,n=>{n?t(new Error(n)):e(!0)})})},increaseStreamTime:e=>new Promise((t,n)=>{const r=new o.default.Request("POST","sp://ads/v1/testing/playtime",{"Content-Type":"application/json"},{value:e});o.default.resolver.resolve(r,r=>{s("increaseStreamTime inc=%o err=%o",e,r),r?n(new Error(r)):t(!0)})}),addNewSlot:(e,t)=>new Promise((n,r)=>{const i=new o.default.Request("PUT",`${u}/${e}`,{"Content-Type":"application/json"},{formats:[t]});o.default.resolver.resolve(i,o=>{s("addNewSlot slotId=%o format=%o err=%o",e,t,o),o?r("addNewSlot error: ",new Error(o)):n(`${u}/${e}/${t}`)})}),subscribeToSlot(e,t){const n=new o.default.Request("SUB",e,{});o.default.resolver.resolve(n,(n,r)=>{s("slot updated uri=%o err=%o res=%o",e,n,r),n||t(r.getJSONBody())})},subscribeToSlotType(e,t){const n=new o.default.Request("SUB",`${u}/${e}`,{});o.default.resolver.resolve(n,(n,r)=>{s("slot updated type=%o err=%o res=%o",e,n,r),n||t(r.getJSONBody())})},subscribeToAllFormats(e){p.map(t=>{_(t,n=>{e(t,n)})})},postEvent(e,t,n){const r="sp://ads/v1/events/{eventType}/{adId}".replace("{adId}",e).replace("{eventType}",t);if(n&&n.event_data){if(Object.keys(n.event_data).some(e=>"string"!=typeof n.event_data[e]))return Promise.reject(new TypeError("Invalid Payload. All event_data values need to be strings"))}return new Promise((i,a)=>{const l=new o.default.Request("POST",r,{"Content-Type":"application/json"},n||{});o.default.resolver.resolve(l,(n,r)=>{if(s("posted event type=%o adId=%o req=%o err=%o res=%o",t,e,l,n,r),n){const e=r?r.getJSONBody().error:"unknown";a(new Error(`postEvent error: ${e}`))}else i(r)})})},postToSlot(e,t,n){const r=`${u}/${e}/${t}`;return new Promise((t,i)=>{const a=new o.default.Request("POST",r,{"Content-Type":"application/json"},n||{});o.default.resolver.resolve(a,(n,r)=>{s("posted to slot id=%o req=%o err=%o res=%o",e,a,n,r),n?i(new Error(n)):t(r)})})},getSlotConfiguration:(e,t)=>b(e).then(n=>{let r;return n.getJSONBody().settings.forEach(n=>{n.id===e&&(r=n[t])}),r}),configureSlot:(e,t,n)=>y(new o.default.Request("PUT",`${d}/${e}/${t}`,h,{value:n})),enableSlot:e=>y(new o.default.Request("PUT",`${d}/${e}/slot_enabled`,h,{value:!0})),logMessage:e=>y(new o.default.Request("POST","sp://logging/v3/log",h,e)),getSponsoredUris:()=>v(new o.default.Request("GET",l,{})),getSponsorshipAd(e){const t=g!==l?g:`${l}/${e}`;return s("getSponsorshipAd",t),v(new o.default.Request("GET",t,{}))},subToState(e){const t=new o.default.Request("SUB","sp://ads/v1/state",{});o.default.resolver.resolve(t,(t,n)=>{s("state update err=%o, res=%o",t,n),t||e(n.getJSONBody())})},subToAdState(e){const t=new o.default.Request("SUB","sp://ads/v2/state",{});o.default.resolver.resolve(t,(t,n)=>{s("ad state update err=%o, res=%o",t,n),t||e(n.getJSONBody())})},getState:()=>v(new o.default.Request("GET","sp://ads/v1/state",{})),getAdState:()=>v(new o.default.Request("GET","sp://ads/v2/state",{})),getFeatureFlags:e=>v(new o.default.Request("POST","sp://abba/v1/flags",h,{flags:e})),setAdSlotEndpoint(e){m=e,s("setAdSlotEndpoint",e)},setAdStatePusherEndpoint:e=>(s("setAdStatePusherEndpoint",e),v(new o.default.Request("PUT","sp://ads/v2/settings/state/ad_state_endpoint",h,{value:e}))),setSponsoredUri(e){g=e,s("setSponsoredUri",e)},triggerSlotFetch:e=>w(e,"fetch"),triggerSlotPlay:e=>w(e,"now"),triggerSlotClear:e=>w(e,"clear"),triggerSlotClearAll:e=>w(e,"clear_all"),setRequestHeader:(e,t,n)=>y(new o.default.Request("PUT",`${f}/${e}`,h,{value:t,refresh_inventory:n})),removeRequestHeader:(e,t)=>y(new o.default.Request("DELETE",`${f}/${e}`,h,{refresh_inventory:t})),setAdStateKey:(e,t)=>y(new o.default.Request("PUT",`sp://ads/v2/state/${e}`,h,{value:t})),setAdState:e=>y(new o.default.Request("PUT","sp://ads/v2/state",h,e)),registerRenderer:e=>y(new o.default.Request("PUT",`sp://ads/v2/renderer/${e}`,h,{})),unregisterRenderer:e=>y(new o.default.Request("DELETE",`sp://ads/v2/renderer/${e}`,h,{})),loadAdPod:e=>(s("Loading ad pod via cosmos",e),v(new o.default.Request("PUT","sp://ads/v2/testing/insert_ads",h,{value:JSON.stringify(e)})))}},function(e,t,n){"use strict";(function(e){const r=n(9).default;function o(e,n){const r=e.method;let o,a;return delete e.method,i(e.url,function(i,s){if(i)n&&n(i);else if(!a){const i=new t.cosmos.Request(r||t.cosmos.Action.GET,s,e.headers,e.body);o=t.cosmos.resolver.resolve(i,function(e,t){if(n)if(n&&e)n(e);else try{n(null,{body:JSON.parse(t.getBody()||"{}"),headers:t.getHeaders(),status:t.getStatusCode()})}catch(e){e.response=t,n(e)}})}}),{cancel:function(){return o&&o.cancel?(o.cancel(),o=null):a||(a=!0),null}}}function i(t,n){t.indexOf("@")>-1?n(null,t.replace("@",encodeURIComponent(e.__spotify.username))):n(null,t)}t.request=o,t.get=function(e,n){return e.method=t.cosmos.Action.GET,o(e,n)},t.post=function(e,n){return e.method=t.cosmos.Action.POST,o(e,n)},t.subscribe=function(e,n){return e.method=t.cosmos.Action.SUB,o(e,n)},t.delete=function(e,n){return e.method=t.cosmos.Action.DELETE,o(e,n)},t.put=function(e,n){return e.method=t.cosmos.Action.PUT,o(e,n)},t.head=function(e,n){return e.method=t.cosmos.Action.HEAD,o(e,n)},t.cosmos=r,t.sanitizeURL=i}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={APP_NOTIFY_LOADED:"notify_loaded",CONNECTION_STATE_CHANGE:"connection-state-change",CONNECTION_OFFLINE_ERROR:"offline-error",WINDOW_ENTER_FULLSCREEN:"enter_fullscreen",WINDOW_LEAVE_FULLSCREEN:"leave_fullscreen",SPCONNECT_DEVICE_STATE:"connectdevice",SOCIAL_ERROR:"socialerror",NAVIGATION_OPEN_URI:"open_uri",NAVIGATION_LOGOUT:"logout",NAVIGATION_HISTORY_BACK:"browse_backward",NAVIGATION_HISTORY_CHANGE:"historychange",NAVIGATION_HISTORY_FORWARD:"browse_forward",NAVIGATION_HISTORY_GO:"history_go",NAVIGATION_HISTORY_REMOVE:"history_remove",NAVIGATION_STATE_CHANGE:"statechange",NAVIGATION_SHOW_AD_SETTINGS:"show_ad_settings",NAVIGATION_SHOW_SHARE:"show_share",NAVIGATION_SHOW_ABOUT:"show_about",NAVIGATION_SHOW_SCANNABLE:"show_scannable",NAVIGATION_SHOW_PREFERENCES:"show_preferences",NAVIGATION_SHOW_HELP:"show_help",NAVIGATION_SHOW_COMMUNITY:"show_community",NAVIGATION_SHOW_ACCOUNT:"show_account",NAVIGATION_SHOW_LICENSES:"show_licenses",NAVIGATION_SHOW_LICENSING_INFORMATION:"show_licensing_information",NAVIGATION_SHOW_SCTA_INFORMATION:"show_scta_information",NAVIGATION_SHOW_SEARCH:"show_search",NAVIGATION_SHOW_FULL_SCREEN_MODAL:"show_full_screen_modal",NAVIGATION_SHOW_FIND_FRIENDS:"show_find_friends",NAVIGATION_SHOW_NPS_SURVEY:"show_nps_survey",NAVIGATION_REFRESH_VIEWS:"refresh-view",NAVIGATION_UPGRADE:"upgrade_premium",VIEW_LOADED:"view_loaded",VIEW_UNLOADED:"view_unloaded",VIEW_ACTIVATE:"view_activate",VIEW_DEACTIVATE:"view_deactivate",CONTEXT_CLIENT_SHOW_UI:"client_show_context_ui",CONTEXT_SHOW_UI:"show_context_ui",MESSAGE_NOTIFICATION:"notification_message",MESSAGE_USER:"user-message",PLAYER_EVENT:"player_event",PLAYER_SYNC_PROGRESS:"sync_progress",PLAYER_VOLUME:"volume",PLAYER_VOLUME_UP:"volume_up",PLAYER_VOLUME_DOWN:"volume_down",PLAYER_SEEK:"seek",PLAYER_SHUFFLE:"set_shuffle",PLAYER_REPEAT:"set_repeat",PLAYER_PAUSE:"pause",PLAYER_RESUME:"resume",PLAYER_NEXT:"skip_to_next",PLAYER_PREV:"skip_to_prev",PLAYER_PROGRESS_DRAG_START:"player_progress_drag_start",PLAYER_PROGRESS_DRAG_END:"player_progress_drag_end",VIDEO_LOADED:"video_loaded",VIDEO_UNLOADED:"video_unloaded",VIDEO_SUBTITLE_CHANGE:"video_subtitle_change",AD_BILLBOARD_STARTED:"ad:billboard:started",AD_BILLBOARD_FINISHED:"ad:billboard:finished",AD_BILLBOARD_DISCARDED:"ad:billboard:discarded",AD_BILLBOARD_VISIBLE:"ad:billboard:visible",AD_BILLBOARD_MINIMIZED:"ad:billboard:minimized",AD_VIDEO_STARTED:"ad:video:started",AD_VIDEO_FINISHED:"ad:video:finished",AD_LEADERBOARD_PLACEMENT:"ad:leaderboard:placement",AD_SPONSORSHIP_ACTIVE:"ad:sponsorship:active",AD_CLICK_VIDEO_STARTED:"ad:clickvideo:started",AD_CLICK_VIDEO_ENDED:"ad:clickvideo:ended",AD_LEADERBOARD_USED_DEFAULT:"ad:leaderboard:used:default",AD_PLAYER_STATE_EVENT:"ad:player:event",DEBUG_SET_BILLBOARD_TIMEOUT:"debug:ad:set:billboard_timeout",DEBUG_DISABLE_AD_LEADERBOARD_REFRESH_ON_NAVIGATE_OR_REFOCUS:"debug:ad:override:leaderboard:refreshnavigation",DEBUG_ENABLE_AD_LEADERBOARD_REFRESH_ON_NAVIGATE_OR_REFOCUS:"debug:ad:enable:leaderboard:refreshnavigation",DEBUG_FORCE_REFRESH_LEADERBOARD:"debug:ad:force_refresh:leaderboard",DEBUG_FORCE_REFRESH_HPTO:"debug:ad:force_refresh:hpto",DEBUG_FORCE_REFRESH_BILLBOARD:"debug:ad:force_refresh:billboard",DEBUG_OVERRIDE_AD_LEADERBOARD_HTML:"debug:ad:override:leaderboard:html",DEBUG_RECEIVED_AD_LEADERBOARD_HTML:"debug:received:ad:leaderboard:html",DEBUG_OVERRIDE_AD_LEADERBOARD_FLAGS:"debug:ad:override:leaderboard:flags",DEBUG_OVERRIDE_AD_LEADERBOARD_REFRESH_INTERVAL:"debug:ad:override:leaderboard:refreshinterval",UI_SIDEBAR_RESIZE:"ui:sidebar:resized",APPLICATION_INACTIVE:"application:inactive",APPLICATION_INITIALIZED:"application:initialized",POPOVER_OPENED:"popover:opened",POPOVER_CLOSED:"popover:closed",LAYOUT_SIDEBAR_RESIZED:"layout:sidebar:resized",CONTROL_MESSAGE_DELETE:"delete",CONTROL_MESSAGE_NEW_PLAYLIST:"create_new_playlist",CONTROL_MESSAGE_NEW_FOLDER:"create_new_folder",CONTROL_MESSAGE_UNDO:"undo_action",THUMB_UP:"thumb-up",THUMB_DOWN:"thumb-down",HEART:"heart",BAN_TRACK:"ban-track",BAN_ARTIST:"ban-artist",BAN_TRACK_WITH_SCOPE:"ban-track-with-scope",BAN_ARTIST_WITH_SCOPE:"ban-artist-with-scope",UNDO_FEEDBACK:"undo-feedback",SHOW_NOTIFICATION_BUBBLE:"show-notification-bubble",CAPPING_OPEN_UPSELL_MESSAGE:"capping:open:upsellmessage",CAPPING_OPEN_WELCOME_MESSAGE:"capping:open:welcomemessage",USABLE_STATE_NOT_SUCCESSFUL:"usable_state_not_successful",TOGGLE_VIEW_LOAD_TIMER_DEBUGGING:"toggle_view_load_timer_debugging",RIGHT_SIDEBAR_SHOWN:"right_sidebar_shown",RIGHT_SIDEBAR_HIDDEN:"right_sidebar_hidden",MESSAGE_BAR_SHOWN:"message_bar_shown",MESSAGE_BAR_HIDDEN:"message_bar_hidden",VIDEO_PLAYER_MODE_CHANGED:"video_player_mode_changed",SHOW_CREDITS:"show_credits",TOGGLE_EXPERIMENT:"experiments:toggle_experiment",DELETE_ROOTLIST_ITEM:"delete_rootlist_item"}},function(e,t,n){"use strict";const r=n(29),o=n(67);t.create=function(e){let t=e.originUri;return e.filter&&(t=o.create(t,e.filter.query)),e.sort&&(t=r.create(t,e.sort.direction,e.sort.query)),t},t.getOriginUri=function(e){const n=t.parse(e);return n&&n.originUri||""},t.parse=function(e){const t=r.parse(e),n=o.parse(t&&t.originUri||e);return t||n?{originUri:n&&n.originUri||t&&t.originUri,sort:t,filter:n}:null},t.isValid=function(e){return!!t.parse(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(11));const o={isSkippableAd:e=>!!e&&!!e.track&&!!e.track.metadata&&"true"===e.track.metadata["ad.is_skippable"],getProp(e,t){const n=e.trim().toLowerCase(),r=n.replace(/\s+/g,"-"),o=n.replace(/\s+([a-z])/g,(e,t)=>t.toUpperCase()),i=n.replace(/\s+/g,"_");return t[r]||t[o]||t[i]},getType(e){const t=e.split(":");let n=null;return"user"!==t[1]?n=t[1]:t.length>3&&t.length<=5&&"facebook"!==t[2]&&(n="playlist"),n},appendTrackingPixel(e,t,n){const r=this.createTrackingPixel(e);n&&r.classList.add(n),t.appendChild(r)},createTrackingPixel(e){const t=document.createElement("img");t.style.display="none",t.width="1px",t.height="1px",t.classList.add("pixel");const n=decodeURIComponent(e.replace(/&amp;/g,"&"));return t.src=decodeURIComponent(n),t},createInteractiveIframe(e){const t=encodeURIComponent(e),n=document.createElement("iframe");return n.className="ad-iframe",n.src=`data:text/html;charset=utf-8,${t}`,n.srcdoc=e,n.scrolling="no",n.marginWidth=0,n.marginHeight=0,n.hspace=0,n.vspace=0,n},createSandboxedIframe(){const e=document.createElement("iframe");return e.sandbox=["allow-forms","allow-pointer-lock","allow-popups","allow-same-origin","allow-scripts"].join(" "),e},isPreviewServiceAd:(e={})=>!(!e.metadata||"true"!==e.metadata.is_preview),parseGID(e){const t=e.split(":");return t.length>=2&&"ad"===t[t.length-2]?t[t.length-1]:null},getSponsoredUris:async function(){return await r.default.getSponsoredUris().sponsorships}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(23));function i(e){return e&&e.__esModule?e:{default:e}}const a="configuration-v1";t.default=class{constructor(e,t,n){r.default.check.type(e,o.default),r.default.check.function(t),r.default.check.object(n),this._environment=e,this._configurationStateCreator=t,this._configJson=r.default.clone(n)}getCurrentState(e){r.default.check.function(e);const t=this.getDefaultState();this._environment.queryClientSessionState((n,r,o,i,a,s)=>{this._copyIntoConfigurationState(t,{"client/version":n,"user/catalogue":r,"user/country":o,"user/employee":i,"user/language":a,"user/username":s}),this._fetchFromLocalStorage(n=>{this._copyIntoConfigurationState(t,n),e(t)})})}getDefaultState(){const e=this._configurationStateCreator();return this._copyIntoConfigurationState(e,this._configJson),e}removeValue(e){r.default.check.string(e),this._fetchFromLocalStorage(t=>{delete t[e],this._storeInLocalStorage(t)})}storeValue(e,t){r.default.check.string(e),this._fetchFromLocalStorage(n=>{n[e]=t,this._storeInLocalStorage(n)})}_copyIntoConfigurationState(e,t){for(const n in t)r.default.is.boolean(t[n])?e.setBoolean(n,t[n]):r.default.is.number(t[n])?e.setNumber(n,t[n]):r.default.is.string(t[n])&&e.setString(n,t[n])}_fetchFromLocalStorage(e){r.default.check.function(e);const t=a;this._environment.fetchFromSpotifyLocalStorage(t,e)}_storeInLocalStorage(e){r.default.check.object(e);const t=a;this._environment.storeInSpotifyLocalStorage(t,e)}}},function(e,t,n){"use strict";(function(e){const r=n(6)("bridge"),o=n(178),i=n(538);let a=!1,s=null;function l(){s||(s={});const e=[s,u];return i.apply(null,e.concat(Array.prototype.slice.call(arguments)))}function u(e,n,i){const s=n||[],l=function(e,t,n){const o=n||function(){};return function(n,i){if(n&&"timeout"===n.name){const i=300+Math.floor(100*Math.random());return r("timeout",n.message),void setTimeout(function(){u(e,t,o)},i)}r(`res:${e}`,t,i),o(n,i)}}(e,s,i);return r(`req:${e}`,s),t._request(e,s,l),e.endsWith("_metadata")&&!a&&(a=!0,o(c)),t}function c(){a=!1,u("core_flush")}t.cosmos=l,t.cosmosJSON=function(e,t){e.body&&(e.body=JSON.stringify(e.body));const n=t?function(e){return function(t,n){let r=t;if(r)e(r,n);else{if(n&&!n.body&&n.status>=400)return r=new Error(`${n.uri} responded with status ${n.status}`),void e(r,n);let t;try{t=JSON.parse(n.body)}catch(t){return t.message=`Failed to parse cosmos response: ${t.message}`,void e(t)}e(null,t)}}}(t):null;return l(e,n)},t.request=u,t._request=function(t,n,o){e&&"function"==typeof e._getSpotifyModule&&e._getSpotifyModule("bridge").executeRequest(JSON.stringify({name:t,args:n}),{onSuccess:function(e){return function(t){let n;r("success",t);try{n=JSON.parse(t)}catch(t){e(t)}n&&e(null,n)}}(o),onFailure:function(e,t,n){return function(o){let i;r("failure",o);try{i=JSON.parse(o)}catch(t){o instanceof Error?e(o):(t.message+=`\nResponse Data: ${o}`,e(t))}i&&e(function(e,t,n){const r=JSON.stringify(t),o=` (bridge message: '${e}', args: ${r})`,i=n.message+o,a=new Error(i);return a.name=n.error,a}(t,n,i))}}(o,t,n)})}}).call(this,n(1))},function(e,t,n){"use strict";const r=n(26),o=n(40),i=Array.prototype.push,a=Array.prototype.slice,s=r({constructor:function(e,t){this.update(e,t)},update:function(e,t){if(null!==e&&(this.start=e),null!==t&&(this.end=t),null===this.start||null===this.end||this.start>this.end)throw new Error(`invalid range: [${this.start}, ${this.end}]`);return this.length=this.end-this.start,this},copy:function(){return new s(this.start,this.end)},above:function(e){return!!e&&this.start>=e.end},below:function(e){return!!e&&this.end<=e.start},adjacent:function(e){return!!e&&(this.end===e.start||this.start===e.end)},intersects:function(e){return!!e&&(!this.above(e)&&!this.below(e))},contains:function(e){return!!e&&(this.start<=e.start&&this.end>=e.end)},contained:function(e){let t;if(!(t=e instanceof s?arguments:e))return!1;for(let e=0;void 0!==t[e];e++){const n=t[e];if(n.start<=this.start&&n.end>=this.end)return!0}return!1},fits:function(e,t){return!e&&!t||(e?t?this.start>=e.end&&this.end<=t.start:this.start>=e.end:this.end<=t.start)},between:function(e,t){return e||t?e?t?this.end>e.end&&this.start<t.start?new s(Math.max(e.end,this.start),Math.min(t.start,this.end)):null:this.end<=e.end?null:new s(Math.max(e.end,this.start),this.end):this.start>=t.start?null:new s(this.start,Math.min(this.end,t.start)):this.copy()},intersection:function(e){const t=[];let n;n=e instanceof s?arguments:e;for(let e=0;e<n.length;e++){const r=n[e];if(this.below(r))break;r.intersects(this)&&t.push(new s(Math.max(this.start,r.start),Math.min(this.end,r.end)))}return t},subtract:function(e){const t=[];let n;n=e instanceof s?arguments:e;for(let e=-1;e<n.length;e++){const r=n[e],o=n[e+1],i=this.between(r,o);i&&t.push(i)}return t},extract:function(e){const t=e instanceof s?a.call(arguments):e.slice();for(let e=0;e<t.length;e++){const n=t[e-1],r=t[e];let o=null;if(this.below(r))o=new s(r.start-this.length,r.end-this.length);else if(this.intersects(r)){const n=r.subtract(this);2===n.length?o=new s(n[0].start,n[1].end-this.length):1===n.length?r.end>this.end?o=new s(n[0].start-this.length,n[0].end-this.length):this.start>r.start&&(o=new s(n[0].start,n[0].end)):t.splice(e--,1)}else t.splice(e,1,r.copy());o&&(n&&n.end===o.start?t.splice(e---1,2,new s(n.start,o.end)):t.splice(e,1,o))}return t},insert:function(e){const t=e instanceof s?a.call(arguments):e.slice();for(let e=0;e<t.length;e++){const n=t[e];this.start>=n.end?t.splice(e,1,n.copy()):this.start>n.start&&this.start<n.end?t.splice(e,1,new s(n.start,this.start),new s(this.start,n.end)):t.splice(e,1,new s(n.start+this.length,n.end+this.length))}return this.merge(t)},merge:function(e){let t,n,r;if(!(t=o(t=e instanceof s?arguments:e,function(e){return e.copy()})).length)return[this.copy()];for(n=-1,r=t.length;n<r;n++){const e=t[n],r=t[n+1],o=this.between(e,r);o&&(!e&&r?o.end===r.start?r.update(o.start,r.end):(n++,t.unshift(o)):e&&r?e.end===o.start&&o.end===r.start?(e.update(e.start,r.end),t.splice(1+n--,1)):e.end===o.start?e.update(e.start,o.end):o.end===r.start?r.update(o.start,r.end):t.splice(n+1,0,o):e&&!r&&(e.end===o.start?e.update(e.start,o.end):(n++,t.push(o))))}return t},remove:function(e){let t;t=e instanceof s?arguments:e;const n=[];for(let e=0;e<t.length;e++){const r=t[e].subtract(this);r.length&&i.apply(n,r)}return n},toIndices:function(){const e=[];for(let t=this.start;t<this.end;t++)e.push(t);return e},toString:function(){return`${[this.start,this.end]}`}});s.fromString=function(e){const t=e.split(",");return new s(+t[0],+t[1])},s.fromIndices=function(e){e.sort(function(e,t){return e>t?1:-1});const t=[];let n,r;for(let o=0;o<e.length;o++){for(r=n=e[o];e[o+1]-e[o]==1;)r=e[o+1],o++;t.push(new s(n,r+1))}return t},e.exports=s},function(e,t,n){(function(e){t.array=function(t){return null!=t&&t.constructor===e.Array},t.boolean=function(t){return null!=t&&t.constructor===e.Boolean},t.function=function(t){return null!=t&&t.constructor===e.Function},t.null=function(e){return null===e},t.number=function(t){return null!=t&&t.constructor===e.Number},t.object=function(t){return null!=t&&t.constructor===e.Object},t.string=function(t){return null!=t&&t.constructor===e.String},t.type=function(e,t){return null!=e&&null!=t&&e instanceof t},t.undefined=function(t){return t===e.undefined}}).call(this,n(1))},function(e,t,n){"use strict";const r=n(7),o=n(2),i=n(14).getOriginUri,a=n(8),s=n(463),l=n(52),u=n(101),c=n(157),d=n(66),f=n(65),p=n(100),h=n(51);let m;t.attach=function(){const e=r(document);e.on("mousedown",s.handleMouseDown),e.on("touchstart",s.handleMouseDown),e.on("mouseup",s.handleMouseUp),e.on("touchend",s.handleMouseUp),e.on("keydown",s.handleKeyDown),e.on("focus",s.handleFocus,!0),a.on("scroll-show-after",s.handleScrollShowAfter),a.on("selection-set-hidden",s.handleSetHidden),a.on("list-swap",s.handleListSwap),m=h.subscribe({url:"sp://messages/v1/container/control"},function(e,t){if(e)throw e;const n=t.body;n&&p.isActiveAndFocused()&&("select_all"===n.type?s.handleSelectAll():"copy"===n.type?s.handleCopy():"copy_advanced"===n.type?s.handleCopyAdvanced():"cut"===n.type&&s.handleCut())})},t.detach=function(){const e=r(document);e.off("mousedown",s.handleMouseDown),e.off("touchstart",s.handleMouseDown),e.off("mouseup",s.handleMouseUp),e.off("touchend",s.handleMouseUp),e.off("keydown",s.handleKeyDown),e.off("focus",s.handleFocus,!0),a.off("scroll-show-after",s.handleScrollShowAfter),a.off("selection-set-hidden",s.handleSetHidden),a.off("list-swap",s.handleListSwap),m&&(m.cancel(),m=null)},t.update=function(){l.update(),s.updateListListeners()},t.add=function(e,t){s.handleAddByUri(e,t)},t.hasHoles=function(){return u.hasHoles()},t.isNodeSelected=function(e){const t="innerHTML"in e?e:e[0];if(!t)return!1;const n=d.getFromNode(t);return!!n&&u.isSelected(n)},t.reset=function(){s.resetListListeners(),u.reset(),c.update(),l.reset()},t.clear=function(){u.clear(),c.update()},t.setOrigin=function(e,t){u.setOrigin(new f(e,t))},t.setFocus=function(e,t){u.setFocus(new f(e,t))},t.getOrigin=function(){const e=u.getOrigin();return e?{containerIndex:e.containerIndex,index:e.index}:null},t.getFocus=function(){const e=u.getFocus();return e?{containerIndex:e.containerIndex,index:e.index}:null},t.getIndicesPerList=function(){const e=u.selections,t=[];let n;const r=e=>n.keys[e];for(let a=0;a<e.length;a++){const s=e[a];if(s&&Object.keys(s).length){const e=l.getUri(a);if(!e)continue;if(!(n=l.getLiveList(a)))continue;const s=u.getIndicesForContainer(a);if(!s)continue;const c=s.map(r),d=u.getIndicesWithHiddenForContainer(a),f={containerIndex:a,uri:e,indices:s,keys:c,indicesWithHidden:d,keysWithHidden:d.map(r)},p=i(e);if(p){const t=o(e).get("rows"),n=o(p).get("rows");let r,i;if(t&&n){let e;const o={};r=new Array(s.length),i=new Array(s.length);const a=n.keys;for(let e=0;e<a.length;e++)o[a[e]]=e;for(let a=0;a<s.length;a++)e=t.keys[s[a]],r[a]=o[e],i[a]=n.keys[r[a]]}f.origin={uri:p,indices:r||[],keys:i||[]}}t.push(f)}}return t},t.getIndicesGlobal=function(){const e=u.selections,t=l.elements,n=[],o=[];if(0===t.length)return null;const i=t[0].closest("[data-context]"),a=i&&i.getAttribute("data-uri");if(!a)return null;let s;const c=e=>!!s[e];for(let i=0;i<e.length;i++){s=e[i];const a=l.getLiveList(i);if(a&&s){const e=a.keys.filter(c);for(let s=0,l=e.length;s<l;s++){const l=a.keys.indexOf(e[s]);n.push(d.getGlobalIndexFromPosition(new f(i,l))),o.push(r(t[i]))}}}return{uri:a,indices:n,containers:o}},t.getUris=function(){return s.handleGetUris()},t.getNodes=function(){return c.getSelectedRows()}},function(e,t,n){"use strict";t.__esModule=!0,t.extend=s,t.indexOf=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!i.test(e))return e;return e.replace(o,a)},t.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},t.createFrame=function(e){var t=s({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,i=/[&<>"'`=]/;function a(e){return r[e]}function s(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var l=Object.prototype.toString;t.toString=l;var u=function(e){return"function"==typeof e};u(/x/)&&(t.isFunction=u=function(e){return"function"==typeof e&&"[object Function]"===l.call(e)}),t.isFunction=u;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===l.call(e)};t.isArray=c},function(e,t,n){"use strict";function r(){this._listeners=Object.create(null)}r.prototype.addEventListener=function(e,t,n=0){if(!e||!t)throw new Error("Both event type and callback need to be defined");this._listeners[e]||(this._listeners[e]=[]);const r=this._listeners[e];if(r.every(function(e){return e.callback!==t})){const e={callback:t,priority:n};let o=0;for(;o<r.length&&r[o].priority>e.priority;)o++;r.splice(o,0,e)}},r.prototype.removeEventListener=function(e,t){const n=this._listeners[e]||[];for(let e=0;e<n.length;e++)if(n[e].callback===t)return void n.splice(e,1)},r.prototype.addEventListenerOnce=function(e,t,n=(()=>!0),r=0){const o=r=>{n(r)&&(this.removeEventListener(e,o),t(r))};this.addEventListener(e,o,r)},r.prototype.dispatchEvent=function(e){const t=this._listeners[e.type]?this._listeners[e.type].slice():[];for(let n=0,r=t.length;n<r;n++){t[n].callback(e)}},r.prototype.reset=function(){this._listeners=Object.create(null)},e.exports=new r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(117));function i(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e,t){r.default.check.type(e,Window),r.default.check.function(t),this._window=e,this._dateCreator=t,this._adFormats=n(657),this._glue=n(105),this._glueStrings=n(187),this._spotifyCosmosApi=n(9).default,this._spotifyEvents=n(483),this._spotifyHandlebars=n(393),this._spotifyHandlebarsHelpers=n(167),this._spotifyLive=n(2),this._spotifyLiveModels=n(392),this._spotifyLocales=n(78),this._spotifyLocalStorage=n(173),this._spotifyLoggerUiImpression5=n(345),this._spotifyLoggerUiInteraction5=n(151),this._spotifyNavigationPageIdentifiers=n(160)}addToLiveCache(e){r.default.check.object(e),this._spotifyLive(e)}attachSpotifyEvents(){this._spotifyEvents.attach()}createHomePageTakeOverFor(e,t,n){r.default.check.type(e,Element),r.default.check.function(t),r.default.check.function(n),this._adFormats.HptoAd.subscribeToRender(t),this._adFormats.HptoAd.subscribeToHide(n),this._adFormats.HptoAd.init(e)}destroyHomePageTakeOver(e,t){r.default.check.function(e),r.default.check.function(t),this._adFormats.HptoAd.unsubscribeToRender(e),this._adFormats.HptoAd.unsubscribeToHide(t),this._adFormats.HptoAd.destroy()}fetchFromSpotifyLocalStorage(e,t){r.default.check.string(e),r.default.check.function(t);const n=this._spotifyLocalStorage.get(e);let i=(0,o.default)(n);r.default.is.object(i)||(i={}),t(i)}isSupportedLocale(e){return r.default.check.string(e),-1!==this._spotifyLocales.all().indexOf(e)}listenForOverlayGrid(){this._glue.gridOverlay.listen()}listenForApplicationArgumentsChanges(e){r.default.check.function(e),this._spotifyLive("spotify:application").on("update",t=>{if(r.default.conforms(t,{arguments:""})){const n=t.arguments.split(":");e(n)}})}listenForSessionOnlineStatusChanges(e){r.default.check.function(e);const t=this._spotifyLive("spotify:client");t.query("session(online)",()=>{t.get("session").on("update",t=>{r.default.conforms(t,{online:!1})&&e(t.online)})})}listenForAppActiveChanges(e){r.default.check.function(e),this._spotifyLive("spotify:application").on("update",t=>{if(r.default.conforms(t,{active:!0})){const n=t.active;e(n)}})}logUIImpression5(e,t){r.default.check.object(e),r.default.check.boolean(t);const n={};r.default.is.string(e.request_id)&&(n.request_id=e.request_id),r.default.is.string(e.feature_id)&&(n.feature_id=e.feature_id),r.default.is.string(e.section_id)&&(n.section_id=e.section_id),r.default.is.string(e.pageuri)&&(n.pageuri=e.pageuri),r.default.is.number(e.item_index)&&(n.item_index=e.item_index),r.default.is.string(e.target_uri)&&(n.target_uri=e.target_uri),r.default.is.string(e.impression_type)&&(n.impression_type=e.impression_type),r.default.is.string(e.render_type)&&(n.render_type=e.render_type),n.timestamp=this._dateCreator().getTime(),t?console.log(JSON.stringify(n,null,2)):this._spotifyLoggerUiImpression5.log(n)}logUIInteraction5(e,t){r.default.check.object(e),r.default.check.boolean(t);const n={};r.default.is.string(e.request_id)&&(n.request_id=e.request_id),r.default.is.string(e.pageuri)&&(n.pageuri=e.pageuri),r.default.is.string(e.feature_id)&&(n.feature_id=e.feature_id),r.default.is.string(e.section_id)&&(n.section_id=e.section_id),r.default.is.number(e.item_index)&&(n.item_index=e.item_index),r.default.is.string(e.target_uri)&&(n.target_uri=e.target_uri),r.default.is.string(e.interaction_type)&&(n.interaction_type=e.interaction_type),r.default.is.string(e.user_intent)&&(n.user_intent=e.user_intent),n.timestamp=this._dateCreator().getTime(),t?console.log(JSON.stringify(n,null,2)):this._spotifyLoggerUiInteraction5.log(n)}makeTracklistLiveModel(e,t){r.default.check.string(e),r.default.check.object(t),this._spotifyLive.has(e)?this._spotifyLive(e).update(t):this._spotifyLive(t)}queryApplicationArguments(e){r.default.check.function(e),this._spotifyLive("spotify:application").query("arguments",(t,n)=>{if(r.default.conforms(n,{arguments:""})){const t=n.arguments.split(":");e(t)}})}queryClientSessionState(t){r.default.check.function(t),this._spotifyLive("spotify:client").query("currentUser(username), session(country, employee, language)",(n,o)=>{let i=null,a=null,s=null,l=null,u=null,c=null;const d=e.__spotify;r.default.conforms(d,{client_version:""})&&(i=(i=d.client_version).split("-").pop()),r.default.conforms(d,{product_state:{catalogue:""}})&&(a=d.product_state.catalogue),r.default.conforms(o,{session:{country:""}})&&(s=o.session.country),r.default.conforms(o,{session:{employee:!1}})&&(l=o.session.employee),r.default.conforms(o,{session:{language:""}})&&(u=o.session.language),r.default.conforms(o,{currentUser:{username:""}})&&(c=o.currentUser.username),t(i,a,s,l,u,c)})}querySessionOnline(e){this._spotifyLive("spotify:client").query("session(online)",(t,n)=>{if(r.default.conforms(n,{session:{online:!1}})){const t=n.session.online;e(t)}})}registerSpotifyHandlebarsHelpersFor(e){r.default.check.string(e),this._spotifyHandlebarsHelpers.loc.register(this._glueStrings[e]),this._spotifyHandlebarsHelpers.loc.setLocale(e),this._spotifyHandlebarsHelpers.numeral.setLocale(e),this._spotifyHandlebars.register(this._spotifyHandlebarsHelpers)}registerSpotifyLiveModels(){this._spotifyLiveModels.register()}resolveSpotifyCosmosApiGetRequest(e,t){r.default.check.string(e),r.default.check.function(t),this._spotifyCosmosApi.resolver.get(e,(e,n)=>{let r;r=n?n.getJSONBody():null,t(r)})}sendViewReady(e,t=null){if(r.default.check.string(e),t){const n=this._window.parent;n.addEventListener("message",function r(o){"notify_ready"===o.data.type&&o.data.pageId===e&&(n.removeEventListener("message",r),t())})}this._window.parent.postMessage({type:"notify_ready",pageId:e},"*")}sendViewLoaded(e){r.default.check.string(e),this.queryApplicationArguments(t=>{const n=this._getPageId(e,t);this._window.parent.postMessage({type:"notify_loaded",pageId:n,now:this._window.parent.performance.now()},"*"),this._spotifyCosmosApi.resolver.post({url:"sp://messages/v1/container/control",body:{name:e,type:"view_loaded"}})})}storeInSpotifyLocalStorage(e,t){r.default.check.string(e),r.default.check.object(t);const n=JSON.stringify(t);this._spotifyLocalStorage.set(e,n)}updateSpotifyEventsIn(e){r.default.check.type(e,Element),this._spotifyEvents.update(e)}_getPageId(e,t){return r.default.check.string(e),r.default.check.array(t),this._spotifyNavigationPageIdentifiers.getPageIdFromAppArguments(e,t)}}}).call(this,n(1))},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"      card-video\n"},3:function(e,t,n,r,o){return"card-type-station-"+e.escapeExpression((n.type||t&&t.type||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.seedUri:t,{name:"type",hash:{},data:o}))},5:function(e,t,n,r,o){return"      card-show-attention-highlight\n"},7:function(e,t,n,r,o){return"added"},9:function(e,t,n,r,o){return"no-image-url"},11:function(e,t,n,r,o){return"data-context"},13:function(e,t,r,o,i){var a;return'      <div class="card-image-hit-area" data-log-click="media-image">\n'+(null!=(a=e.invokePartial(n(85),t,{name:"./internal/image-with-overlay.hbs",data:i,indent:"        ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"\n"+(null!=(a=r.unless.call(null!=t?t:e.nullContext||{},null!=t?t.noPlayButton:t,{name:"unless",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?a:"")+"      </div>\n"},14:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(334),t,{name:"./internal/controls.hbs",data:i,indent:"          ",helpers:r,partials:o,decorators:e.decorators}))?a:""},16:function(e,t,r,o,i){var a;return'      <div class="card-image-hit-area" data-card-trigger-pressed-state>\n'+(null!=(a=e.invokePartial(n(333),t,{name:"./internal/linked-image.hbs",data:i,indent:"        ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"\n"+(null!=(a=r.unless.call(null!=t?t:e.nullContext||{},null!=t?t.noPlayButton:t,{name:"unless",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?a:"")+"      </div>\n"},18:function(e,t,n,r,o){var i;return'      <div class="card-progress">\n        <div class="card-progress__bar" style="--progress: '+e.escapeExpression("function"==typeof(i=null!=(i=n.progress||(null!=t?t.progress:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"progress",hash:{},data:o}):i)+'"></div>\n      </div>\n'},20:function(e,t,n,r,o,i,a){var s,l=null!=t?t:e.nullContext||{};return'  <div\n    class="\n      card-info-wrapper\n'+(null!=(s=n.if.call(l,null!=t?t.subtitleLinks:t,{name:"if",hash:{},fn:e.program(21,o,0,i,a),inverse:e.program(23,o,0,i,a),data:o}))?s:"")+(null!=(s=n.if.call(l,null!=t?t.metadata:t,{name:"if",hash:{},fn:e.program(26,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'    "\n  >\n    <div class="card-info-title">\n'+(null!=(s=n.if.call(l,null!=t?t.noLink:t,{name:"if",hash:{},fn:e.program(28,o,0,i,a),inverse:e.program(30,o,0,i,a),data:o}))?s:"")+"    </div>\n\n"+(null!=(s=n.if.call(l,null!=t?t.subtitleLinks:t,{name:"if",hash:{},fn:e.program(35,o,0,i,a),inverse:e.program(46,o,0,i,a),data:o}))?s:"")+"\n"+(null!=(s=n.if.call(l,null!=t?t.metadata:t,{name:"if",hash:{},fn:e.program(49,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"  </div>\n"},21:function(e,t,n,r,o){return"        card-info-with-subtitle-links\n"},23:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.description:t,{name:"if",hash:{},fn:e.program(24,o,0),inverse:e.noop,data:o}))?i:""},24:function(e,t,n,r,o){return"          card-info-with-description\n"},26:function(e,t,n,r,o){return"        card-info-with-metadata\n"},28:function(e,t,n,r,o){var i;return'        <span data-log-click="media-title" dir="auto">\n          '+e.escapeExpression("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:o}):i)+"\n        </span>\n"},30:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'      <a\n        href="'+(null!=(i=n.if.call(s,null!=t?t.targetUri:t,{name:"if",hash:{},fn:e.program(31,o,0),inverse:e.program(33,o,0),data:o}))?i:"")+'"\n        data-uri="'+u("function"==typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:l)?a.call(s,{name:"uri",hash:{},data:o}):a)+'"\n        data-log-click="media-title"\n        data-ta-id="card-title-link"\n        title="'+u("function"==typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:l)?a.call(s,{name:"title",hash:{},data:o}):a)+'"\n        data-interaction-target="title"\n        dir="auto"\n      >\n        '+u("function"==typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:l)?a.call(s,{name:"title",hash:{},data:o}):a)+"\n      </a>\n"},31:function(e,t,n,r,o){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.targetUri||(null!=t?t.targetUri:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"targetUri",hash:{},data:o}):i)},33:function(e,t,n,r,o){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.uri||(null!=t?t.uri:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"uri",hash:{},data:o}):i)},35:function(e,t,n,r,o,i,a){var s;return'    <div class="card-info-subtitle-links" data-interaction-context="subtitle-links">\n'+(null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.subtitleLinks:t,{name:"each",hash:{},fn:e.program(36,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"    </div>\n"},36:function(e,t,n,r,o,i,a){var s;return null!=(s=(n.compare||t&&t.compare||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.uri:t,"spotify:artist:0LyfQWJT6nXafLPZqxe9Of",{name:"compare",hash:{},fn:e.program(37,o,0,i,a),inverse:e.program(39,o,0,i,a),data:o}))?s:""},37:function(e,t,n,r,o){return"          "+e.escapeExpression((n.loc||t&&t.loc||n.helperMissing).call(null!=t?t:e.nullContext||{},"VariousArtistsCapitalized",{name:"loc",hash:{},data:o}))+"\n"},39:function(e,t,n,r,o,i,a){var s,l,u=null!=t?t:e.nullContext||{},c=n.helperMissing,d="function",f=e.escapeExpression;return'          <a\n            dir="auto"\n            title="'+f(typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:c)===d?l.call(u,{name:"name",hash:{},data:o}):l)+'"\n            href="'+f(typeof(l=null!=(l=n.uri||(null!=t?t.uri:t))?l:c)===d?l.call(u,{name:"uri",hash:{},data:o}):l)+'"\n            data-uri="'+f(typeof(l=null!=(l=n.uri||(null!=t?t.uri:t))?l:c)===d?l.call(u,{name:"uri",hash:{},data:o}):l)+'"\n            data-ta-id="card-subtitle-link"\n            data-interaction-target="'+f(typeof(l=null!=(l=n.index||o&&o.index)?l:c)===d?l.call(u,{name:"index",hash:{},data:o}):l)+'"\n'+(null!=(s=(n.compare||t&&t.compare||c).call(u,(n.type||t&&t.type||c).call(u,null!=a[1]?a[1].uri:a[1],{name:"type",hash:{},data:o}),"album",{name:"compare",hash:{operator:"=="},fn:e.program(40,o,0,i,a),inverse:e.noop,data:o}))?s:"")+(null!=(s=(n.compare||t&&t.compare||c).call(u,(n.type||t&&t.type||c).call(u,null!=a[1]?a[1].uri:a[1],{name:"type",hash:{},data:o}),"playlist",{name:"compare",hash:{operator:"=="},fn:e.program(42,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"          >"+f(typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:c)===d?l.call(u,{name:"name",hash:{},data:o}):l)+"</a>"+(null!=(s=n.unless.call(u,o&&o.last,{name:"unless",hash:{},fn:e.program(44,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"\n"},40:function(e,t,n,r,o){return'              data-log-click="artist-name"\n'},42:function(e,t,n,r,o){return'              data-log-click="owner-name"\n'},44:function(e,t,n,r,o){return", "},46:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.description:t,{name:"if",hash:{},fn:e.program(47,o,0),inverse:e.noop,data:o}))?i:""},47:function(e,t,n,r,o){var i;return'      <div class="card-info-subtitle-description" data-ta-id="card-description">\n        <span dir="auto">'+e.escapeExpression("function"==typeof(i=null!=(i=n.description||(null!=t?t.description:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"description",hash:{},data:o}):i)+"</span>\n      </div>\n"},49:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{};return'    <div class="card-info-subtitle-metadata" data-ta-id="card-metadata">\n'+(null!=(i=n.if.call(s,null!=t?t.isNew:t,{name:"if",hash:{},fn:e.program(50,o,0),inverse:e.noop,data:o}))?i:"")+"      "+e.escapeExpression("function"==typeof(a=null!=(a=n.metadata||(null!=t?t.metadata:t))?a:n.helperMissing)?a.call(s,{name:"metadata",hash:{},data:o}):a)+"\n    </div>\n"},50:function(e,t,n,r,o){return'      <div class="card-info-subtitle-new-mark"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o,i,a){var s,l,u,c=null!=t?t:e.nullContext||{},d=n.helperMissing,f=e.escapeExpression,p='<div\n  class="\n    card\n    card-type-'+f((n.type||t&&t.type||d).call(c,null!=t?t.uri:t,{name:"type",hash:{},data:o}))+"\n"+(null!=(s=(n.compare||t&&t.compare||d).call(c,null!=t?t.isVideo:t,!0,{name:"compare",hash:{},fn:e.program(1,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"    "+(null!=(s=n.if.call(c,null!=t?t.seedUri:t,{name:"if",hash:{},fn:e.program(3,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"\n"+(null!=(s=n.if.call(c,null!=t?t.showAttentionHighlight:t,{name:"if",hash:{},fn:e.program(5,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"    "+(null!=(s=n.if.call(c,null!=t?t.added:t,{name:"if",hash:{},fn:e.program(7,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"\n    "+(null!=(s=n.unless.call(c,null!=t?t.imageUrl:t,{name:"unless",hash:{},fn:e.program(9,o,0,i,a),inverse:e.noop,data:o}))?s:"")+'\n  "\n  data-log-context="media-object"\n  data-interaction-context="card"\n  data-log-data=\'{ "name": "'+f("function"==typeof(l=null!=(l=n.title||(null!=t?t.title:t))?l:d)?l.call(c,{name:"title",hash:{},data:o}):l)+'", "target_uri": "'+f("function"==typeof(l=null!=(l=n.uri||(null!=t?t.uri:t))?l:d)?l.call(c,{name:"uri",hash:{},data:o}):l)+'" }\'\n  data-uri="'+f("function"==typeof(l=null!=(l=n.uri||(null!=t?t.uri:t))?l:d)?l.call(c,{name:"uri",hash:{},data:o}):l)+'"\n  data-contextmenu\n  ';return l=null!=(l=n.noContext||(null!=t?t.noContext:t))?l:d,u={name:"noContext",hash:{},fn:e.noop,inverse:e.program(11,o,0,i,a),data:o},s="function"==typeof l?l.call(c,u):l,n.noContext||(s=n.blockHelperMissing.call(t,s,u)),null!=s&&(p+=s),p+'\n  data-card-pressed-container\n  data-ta-id="card"\n>\n  <div class="card-attention-highlight-box">\n  </div>\n  <div class="card-image-wrapper" data-contextmenu-spy data-ta-id="card-image-wrapper">\n'+(null!=(s=n.if.call(c,null!=t?t.noLink:t,{name:"if",hash:{},fn:e.program(13,o,0,i,a),inverse:e.program(16,o,0,i,a),data:o}))?s:"")+(null!=(s=n.if.call(c,null!=t?t.progress:t,{name:"if",hash:{},fn:e.program(18,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"  </div>\n\n"+(null!=(s=n.if.call(c,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(20,o,0,i,a),inverse:e.noop,data:o}))?s:"")+"\n</div>\n"},usePartial:!0,useData:!0,useDepths:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return"card-horizontal-size-"+e.escapeExpression("function"==typeof(i=null!=(i=n.size||(null!=t?t.size:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"size",hash:{},data:o}):i)},3:function(e,t,n,r,o){return"      card-video\n"},5:function(e,t,n,r,o){return"card-type-station-"+e.escapeExpression((n.type||t&&t.type||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.seedUri:t,{name:"type",hash:{},data:o}))},7:function(e,t,n,r,o){return"      card-show-attention-highlight\n"},9:function(e,t,n,r,o){return"no-image-url"},11:function(e,t,n,r,o){return"card-hidden-image"},13:function(e,t,n,r,o){return"card--with-remove-button"},15:function(e,t,n,r,o){return"data-context"},17:function(e,t,r,o,i){var a,s,l=null!=t?t:e.nullContext||{},u=r.helperMissing;return'    <div\n      class="card-image-wrapper"\n      data-contextmenu-spy\n      data-ta-id="card-image-wrapper"\n    >\n      <div class="card-image-hit-area">\n        <a\n          href="'+(null!=(a=r.if.call(l,null!=t?t.targetUri:t,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.program(20,i,0),data:i}))?a:"")+'"\n          data-log-click="media-image"\n          data-drag-text="'+e.escapeExpression("function"==typeof(s=null!=(s=r.dragText||(null!=t?t.dragText:t))?s:u)?s.call(l,{name:"dragText",hash:{},data:i}):s)+'"\n          draggable="true"\n          class="card-image-link '+(null!=(a=r.unless.call(l,null!=t?t.imageUrl:t,{name:"unless",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?a:"")+'"\n          data-interaction-target="image"\n        >\n          <div class="card-hit-area-counter-scale-left"></div>\n'+(null!=(a=e.invokePartial(n(86),t,{name:"./internal/image.hbs",data:i,indent:"          ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"        </a>\n"+(null!=(a=(r.compare||t&&t.compare||u).call(l,null!=t?t.size:t,"small",{name:"compare",hash:{operator:"!="},fn:e.program(22,i,0),inverse:e.noop,data:i}))?a:"")+"      </div>\n    </div>\n"},18:function(e,t,n,r,o){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.targetUri||(null!=t?t.targetUri:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"targetUri",hash:{},data:o}):i)},20:function(e,t,n,r,o){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.uri||(null!=t?t.uri:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"uri",hash:{},data:o}):i)},22:function(e,t,n,r,o){var i;return null!=(i=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.noPlayButton:t,{name:"unless",hash:{},fn:e.program(23,o,0),inverse:e.noop,data:o}))?i:""},23:function(e,t,r,o,i){var a;return'            <div class="card-overlay"></div>\n'+(null!=(a=e.invokePartial(n(132),t,{name:"./internal/controls-play-button.hbs",data:i,indent:"            ",helpers:r,partials:o,decorators:e.decorators}))?a:"")},25:function(e,t,n,r,o){var i,a;return"              "+(null!=(i="function"==typeof(a=null!=(a=n.titleHTML||(null!=t?t.titleHTML:t))?a:n.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"titleHTML",hash:{},data:o}):a)?i:"")+"\n"},27:function(e,t,n,r,o){var i;return"              "+e.escapeExpression("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:o}):i)+"\n"},29:function(e,t,n,r,o){var i;return'          <div class="card-info-subtitle-links">\n            <span dir="auto">\n'+(null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.subtitleLinks:t,{name:"each",hash:{},fn:e.program(30,o,0),inverse:e.noop,data:o}))?i:"")+"            </span>\n          </div>\n"},30:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{};return"              <span>"+e.escapeExpression("function"==typeof(a=null!=(a=n.name||(null!=t?t.name:t))?a:n.helperMissing)?a.call(s,{name:"name",hash:{},data:o}):a)+"</span>"+(null!=(i=n.unless.call(s,o&&o.last,{name:"unless",hash:{},fn:e.program(31,o,0),inverse:e.noop,data:o}))?i:"")+"\n"},31:function(e,t,n,r,o){return", "},33:function(e,t,n,r,o){var i;return null!=(i=(n.compare||t&&t.compare||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.size:t,"small",{name:"compare",hash:{operator:"!="},fn:e.program(34,o,0),inverse:e.noop,data:o}))?i:""},34:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.description:t,{name:"if",hash:{},fn:e.program(35,o,0),inverse:e.noop,data:o}))?i:""},35:function(e,t,n,r,o){var i;return'              <div class="card-info-subtitle-description" data-ta-id="card-description">\n                <span dir="auto">'+e.escapeExpression("function"==typeof(i=null!=(i=n.description||(null!=t?t.description:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"description",hash:{},data:o}):i)+"</span>\n              </div>\n"},37:function(e,t,n,r,o){var i,a;return'          <div class="card-info-subtitle-links">\n            '+(null!=(i="function"==typeof(a=null!=(a=n.subtitleHTML||(null!=t?t.subtitleHTML:t))?a:n.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"subtitleHTML",hash:{},data:o}):a)?i:"")+"\n          </div>\n"},39:function(e,t,n,r,o){var i;return null!=(i=(n.compare||t&&t.compare||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.size:t,"small",{name:"compare",hash:{operator:"!="},fn:e.program(40,o,0),inverse:e.noop,data:o}))?i:""},40:function(e,t,n,r,o){var i;return'            <div class="card-info-subtitle-metadata" data-ta-id="card-metadata">\n              '+e.escapeExpression("function"==typeof(i=null!=(i=n.metadata||(null!=t?t.metadata:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"metadata",hash:{},data:o}):i)+"\n            </div>\n"},42:function(e,t,n,r,o){var i;return'        <button\n          type="button"\n          class="card__remove-button button button-icon-only spoticon-x-16"\n          data-card-remove-button\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.removeButtonTooltip:t,{name:"if",hash:{},fn:e.program(43,o,0),inverse:e.noop,data:o}))?i:"")+'          data-interaction-target="remove-button"\n          data-interaction-intent="remove-card"\n        >\n        </button>\n'},43:function(e,t,n,r,o){var i;return'          data-tooltip="'+e.escapeExpression("function"==typeof(i=null!=(i=n.removeButtonTooltip||(null!=t?t.removeButtonTooltip:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"removeButtonTooltip",hash:{},data:o}):i)+'"\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c=e.escapeExpression,d="function",f='<div\n  class="\n    card\n    card-horizontal\n    '+(null!=(i=n.if.call(l,null!=t?t.size:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"\n    card-type-"+c((n.type||t&&t.type||u).call(l,null!=t?t.uri:t,{name:"type",hash:{},data:o}))+"\n"+(null!=(i=(n.compare||t&&t.compare||u).call(l,null!=t?t.isVideo:t,!0,{name:"compare",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+"    "+(null!=(i=n.if.call(l,null!=t?t.seedUri:t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.showAttentionHighlight:t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o}))?i:"")+"    "+(null!=(i=n.unless.call(l,null!=t?t.imageUrl:t,{name:"unless",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o}))?i:"")+"\n    "+(null!=(i=n.if.call(l,null!=t?t.noImage:t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o}))?i:"")+"\n    "+(null!=(i=n.if.call(l,null!=t?t.removeButton:t,{name:"if",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o}))?i:"")+'\n  "\n  data-log-context="media-object"\n  data-log-data=\'{ "name": "'+c(typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:u)===d?a.call(l,{name:"title",hash:{},data:o}):a)+'", "target_uri": "'+c(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===d?a.call(l,{name:"uri",hash:{},data:o}):a)+'" }\'\n  data-uri="'+c(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===d?a.call(l,{name:"uri",hash:{},data:o}):a)+'"\n  data-contextmenu\n  ';return a=null!=(a=n.noContext||(null!=t?t.noContext:t))?a:u,s={name:"noContext",hash:{},fn:e.noop,inverse:e.program(15,o,0),data:o},i=typeof a===d?a.call(l,s):a,n.noContext||(i=n.blockHelperMissing.call(t,i,s)),null!=i&&(f+=i),f+'\n  data-contextmenu-spy\n  data-card-pressed-container\n  data-card-trigger-pressed-state\n  data-ta-id="card"\n  data-interaction-context="card"\n>\n  <div class="card-attention-highlight-box">\n  </div>\n  <div class="card-horizontal-interior-wrapper">\n'+(null!=(i=n.unless.call(l,null!=t?t.noImage:t,{name:"unless",hash:{},fn:e.program(17,o,0),inverse:e.noop,data:o}))?i:"")+'\n    <div class="card-info-wrapper">\n      <a\n        href="'+(null!=(i=n.if.call(l,null!=t?t.targetUri:t,{name:"if",hash:{},fn:e.program(18,o,0),inverse:e.program(20,o,0),data:o}))?i:"")+'"\n        data-log-click="media-title"\n        data-drag-text="'+c(typeof(a=null!=(a=n.dragText||(null!=t?t.dragText:t))?a:u)===d?a.call(l,{name:"dragText",hash:{},data:o}):a)+'"\n        draggable="true"\n        data-interaction-target="title"\n      >\n        <div class="card-hit-area-counter-scale-right"></div>\n        <div class="card-info-content-wrapper">\n          <div class="card-info-title">\n            <span dir="auto" class="card-info-title-text">\n'+(null!=(i=n.if.call(l,null!=t?t.titleHTML:t,{name:"if",hash:{},fn:e.program(25,o,0),inverse:e.program(27,o,0),data:o}))?i:"")+"            </span>\n          </div>\n\n"+(null!=(i=n.if.call(l,null!=t?t.subtitleLinks:t,{name:"if",hash:{},fn:e.program(29,o,0),inverse:e.program(33,o,0),data:o}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.subtitleHTML:t,{name:"if",hash:{},fn:e.program(37,o,0),inverse:e.noop,data:o}))?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.metadata:t,{name:"if",hash:{},fn:e.program(39,o,0),inverse:e.noop,data:o}))?i:"")+"        </div>\n"+(null!=(i=n.if.call(l,null!=t?t.removeButton:t,{name:"if",hash:{},fn:e.program(42,o,0),inverse:e.noop,data:o}))?i:"")+"      </a>\n    </div>\n  </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){"use strict";const r=n(56),o=n(44),i=n(552),a=n(43);let s=!0;try{Object.defineProperty({},"~",{}),Object.getOwnPropertyDescriptor({},"~")}catch(e){s=!1}const l=!{valueOf:0}.propertyIsEnumerable("valueOf"),u=["toString","valueOf"],c=/^constructor|inherits|mixin$/,d=function(e){const t=this.prototype;for(const n in e)if(!n.match(c)){if(s){const r=Object.getOwnPropertyDescriptor(e,n);if(r){Object.defineProperty(t,n,r);continue}}t[n]=e[n]}return l&&u.forEach(n=>{const r=e[n];r!==Object.prototype[n]&&(t[n]=r)}),this};e.exports=function(e){let t=e;"Function"===a(t)&&(t={constructor:e});const n=t.inherits;let s;if(s=r(t,"constructor")?t.constructor:n?function(){return n.apply(this,arguments)}:function(){},n){o(s,n);const e=n.prototype,t=s.prototype=i(e);s.parent=e,t.constructor=s}s.implement||(s.implement=d);let l=t.mixin;if(l){"Array"!==a(l)&&(l=[l]);for(let e=0;e<l.length;e++)s.implement(i(l[e].prototype))}return s.implement(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.messageProxy=function(e,t){if("undefined"==typeof window||!window.top||!window.top.postMessage)return!1;const n=e.uri;if(!e)throw new Error("Need a request object.");if(-1===a.indexOf(e.method))throw new Error("Need a valid method:",a);if(!t&&"POST"===!e.method)throw new Error("Callback needed");if(!o.default.hasOwnProperty(n))throw new Error("Uri need to be one of these: ",Object.keys(o.default));const r={},i=o.default[n][e.method]||[];if("GET"===e.method){i.forEach(t=>{if(!e.body.hasOwnProperty(t))throw new Error(`Uri 'GET' request body missing\n                        a required key: ${t}`);r[t]=e.body[t]});const o=e=>{c(e,`${s}-${n}-reply`)&&(l("getListener",n,e.data),e.data.error?t(e.data.error):(delete e.data.uri,t(null,e.data)),window.removeEventListener("message",o))};window.addEventListener("message",o),r.uri=`${s}-${n}-get`,l("get",n,r);const a=d(e.target,r);return a||(window.removeEventListener("message",o),t("No frame found to post to.")),!0}if("REPLY"===e.method){const e=e=>{c(e,`${s}-${n}-get`)&&(l("reply listener",n,e.data),delete e.data.uri,t(e.data,function(t,r){const o={};t?o.error=t:i.forEach(e=>{if(!r.hasOwnProperty(e))throw new Error(`Reply data missing\n                              a required key: ${e}`);o[e]=r[e]}),o.uri=`${s}-${n}-reply`,l("reply post",n,o),e.source.postMessage(o,e.origin)}))};return window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e)}}if("POST"===e.method){i.forEach(t=>{if(!e.body.hasOwnProperty(t))throw new Error(`Uri 'POST' request body missing\n                        a required key: ${t}`);r[t]=e.body[t]}),r.uri=`${s}-${n}`,l("post",n,r);const o=d(e.target,r);return t&&t(o?null:"No frame found to post to."),!0}const u=e=>{c(e,`${s}-${n}`)&&(l("subscription event",n,e.data),t(e.data))};return l("subscription",n),window.addEventListener("message",u,!1),()=>{window.removeEventListener("message",u)}};var r=i(n(6)),o=i(n(671));function i(e){return e&&e.__esModule?e:{default:e}}const a=["POST","SUB","GET","REPLY"],s="message-proxy",l=(0,r.default)("message-proxy");const u=new RegExp("^https?://[a-zA-Z-]*.app.spotify.com");function c(e,t){return!!u.test(e.origin)&&e.data.uri===t}function d(e,t){if(("top"===e||!e)&&(l("postMessageToFrame target=top data=%o",t),window.top.postMessage(t,"*"),"top"===e))return!0;let n,r;if(window===window.top)n=window.top.frames;else{const e=Array.prototype.slice.call(window.top.frames,0,window.top.frames.length),t=Array.prototype.slice.call(window.frames,0,window.frames.length);n=e.concat(t)}const o=n.length;for(let i=0;i<o;i++)e&&e!==n[i].frameElement.src||(l("postMessageToFrame target=%o data=%o",n[i].frameElement.target,t),n[i].postMessage(t,"*"),r=!0);return l("postMessageToFrame framesLength=%o frameFound=%o",o,r),r}},function(e,t,n){var r=n(180),o=n(41),i=n(104),a=n(10),s=n(110);e.exports=function(e){var t=s(arguments,1);return o(r(e),function(e){return i(t,function(t){return a(t,e)})})}},function(e,t,n){"use strict";const r="spotify:internal:sortlist",o=/^spotify:internal:sortlist:(asc|desc):([^:]*):(.*)$/;t.create=function(e,t,n){const o=e.replace(/^spotify:/,""),i=encodeURIComponent(n).replace(/%20/g,"");return[r,t,i,o].join(":")},t.getDirection=function(e){const t=e.match(o);return t?t[1]:""},t.getQuery=function(e){const t=e.match(o);return t?decodeURIComponent(t[2]):""},t.getOriginUri=function(e){const t=e.match(o);return t?`spotify:${t[3]}`:""},t.parse=function(e){const t=e.match(o);return t?{direction:t[1],query:decodeURIComponent(t[2]),originUri:`spotify:${t[3]}`}:null},t.isValid=function(e){return o.test(e)},t.regExp=o},function(e,t){e.exports=function(e,t,n){if(n=n||0,null==e)return-1;for(var r=e.length,o=n<0?r+n:n;o<r;){if(e[o]===t)return o;o++}return-1}},function(e,t,n){"use strict";(function(t,r,o){const i=n(550),a=n(42),s=n(30),l={timeout:{},frame:[],immediate:[]},u=function(e){const t=i();a(e.splice(0),function(e){e.callback.call(e.context,t)})},c=function(e,t,n,r){e.length||r(function(){u(e)});const o={callback:t,context:n};return e.push(o),function(){const t=s(e,o);t>-1&&e.splice(t,1)}},d={};let f;t.process&&r.nextTick?d.immediate=function(e,t){return c(l.immediate,e,t,r.nextTick)}:t.setImmediate?d.immediate=function(e,t){return c(l.immediate,e,t,o)}:t.postMessage&&t.addEventListener?(addEventListener("message",function(e){e.source===t&&"@deferred"===e.data&&(e.stopPropagation(),u(l.immediate))},!0),d.immediate=function(e,t){return c(l.immediate,e,t,function(){postMessage("@deferred","*")})}):d.immediate=function(e,t){return c(l.immediate,e,t,function(e){setTimeout(e,0)})},d.timeout=function(e,t,n){const r=l.timeout;return f||(f=d.immediate(function(){f=null,l.timeout={}})),c(r[t]||(r[t]=[]),e,n,function(e){setTimeout(e,t)})},e.exports=d}).call(this,n(1),n(46),n(181).setImmediate)},function(e,t,n){var r=n(56),o=n(553);e.exports=function(e,t,n){o(e,function(o,i){if(r(e,i))return t.call(n,e[i],i,e)})}},function(e,t,n){"use strict";const r=n(571),o=n(9).default,i=n(6);let a=0;e.exports=function(e,t){const n=r(e,Object.assign({},{message_name:e.name,message_version:e.schema_version},t));n.fields=n.fields.map(function(e){return"string"==typeof e?e:null===e?"":JSON.stringify(e)});const s=e.name+e.schema_version,l=i(`logger:${s}`),u=++a;l("REQ %s#%s %s",s,u,JSON.stringify(n)),o.resolver.post({url:"sp://logging/v3/log",body:n},function(e,t){e?console.error(e,n):l("RES %s#%s %d",s,u,t.getStatusCode())})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(197);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(196);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=n(655);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})})},function(e,t,n){(function(e){var r=n(19);t.array=function(t){if(!r.array(t))throw new e.TypeError("Expected array!")},t.boolean=function(t){if(!r.boolean(t))throw new e.TypeError("Expected boolean!")},t.function=function(t){if(!r.function(t))throw new e.TypeError("Expected function!")},t.null=function(t){if(!r.null(t))throw new e.TypeError("Expected null!")},t.number=function(t){if(!r.number(t))throw new e.TypeError("Expected number!")},t.object=function(t){if(!r.object(t))throw new e.TypeError("Expected object!")},t.string=function(t){if(!r.string(t))throw new e.TypeError("Expected string!")},t.type=function(t,n){if(!r.type(t,n))throw new e.TypeError("Expected type!")},t.undefined=function(t){if(!r.undefined(t))throw new e.TypeError("Expected undefined!")}}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(64));function i(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(){this._eventListeners=new Map}dispatch(e,t){if(r.default.check.string(e),r.default.check.object(t),this._eventListeners.has(e)){const n=this._eventListeners.get(e).slice();for(let e=0;e<n.length;e++)n[e].trigger(t)}}register(e){r.default.check.type(e,o.default);const t=e.getType();this._eventListeners.has(t)||this._eventListeners.set(t,[]);const n=this._eventListeners.get(t);-1===n.indexOf(e)&&n.push(e)}unregister(e){r.default.check.type(e,o.default);const t=e.getType();if(this._eventListeners.has(t)){const n=this._eventListeners.get(t),r=n.indexOf(e);-1!==r&&n.splice(r,1),0===n.length&&this._eventListeners.delete(t)}}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.addAlbumToPlaylist=f,t.addStationToPlaylist=p,t.addStuffToPlaylist=h,t.getRefreshedPlaylistData=m,t.createRefreshedPlaylist=g,t.shouldPlaylistBeOffline=y,t.getPlaylist2ShowsCell=v,t.isPlaylist2Shows=_,t.resyncPlaylist=b;var r=d(n(4)),o=d(n(17)),i=d(n(2)),a=n(380),s=n(145),l=c(n(144)),u=c(n(148));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){const r=[t.toString(),0,-1];return o.default.request("album_tracks_snapshot",r,(t,r)=>{t?n(t):(0,a.addTracksToPlaylist)(e,r.array,n)})}function p(e,t,n){(0,i.default)(t.toString()).query("rows(track(uri))",(t,r)=>{if(t)return void n(t);const o=r.rows.map(e=>e.track.uri);(0,a.addTracksToPlaylist)(e,o,n)})}function h(e,t,n){if(t[0].type===r.default.Type.ALBUM)f(e,t[0],n),t.length>1&&console.warn("Passed more than a single album to addStuffToPlaylist(). Adding only one.");else if(t[0].type===r.default.Type.STATION||t[0].type===r.default.Type.DAILY_MIX)p(e,t[0],n);else{const r=t.map(e=>e.toString());(0,a.addTracksToPlaylist)(e,r,n)}}function m(e,t){!function(e,t){(0,s.fetchPlaylistMetadata)(e,{name:!0},(e,n)=>{n&&n.name?t(e,n.name):t(e)})}(e,async(n,r)=>{if(n)return void t(n);const i=await(0,s.fetchPlaylistV1UriFromPlaylist)(e.toString()),l=(0,a.refreshedPlaylistName)(r);o.default.cosmosJSON({method:"POST",uri:"hm://playlistfreshener/freshen",body:{playlistURI:i,type:"W2V_freshener"}},(e,n)=>{if(e)return void t(e);const r=n.recommendedTracks.map(e=>`spotify:track:${e.id}`);t(null,{name:l,tracks:r})})})}function g(e,t){m(e,(e,{name:n,tracks:r}={})=>{e?t(e):(0,a.createNewPlaylist)(n,(e,n)=>{e?t(e):(0,a.addTracksToPlaylist)(n,r,e=>{t(e,n)})})})}function y(e,t){(0,s.fetchPlaylistMetadata)(e,{offline:!0},(e,n)=>{if(n&&n.offline){const r=l.shouldBeOffline(n.offline);t(e,r)}else t(e,n)})}function v(){return(e.initialState||e.top&&e.top.initialState||{}).playlist2ShowsCell||null}function _(e){if(!("Enabled"===v()))return!1;return["format-shows","format-shows-shuffle"].includes(e)}function b(e,t){const n={method:"POST",uri:`sp://core-playlist/v1/playlist/${e}/resync`};return o.default.cosmos(n,(e,n)=>{if(t)if(e)t(e);else if(200!==n.status&&204!==n.status){const e=new Error(`Cosmos Request Error. Status: ${n.status}`);e.status=n.status,t(e)}else t(null,n)})}const w={OfflineStatus:l,addTracksToPlaylist:a.addTracksToPlaylist,getCollaborativeStatus:s.getCollaborativeStatus,createNewPlaylist:a.createNewPlaylist,createNewPlaylistBefore:a.createNewPlaylistBefore,createNewPlaylistAfter:a.createNewPlaylistAfter,setPlaylistCollaborative:a.setPlaylistCollaborative,setPlaylistPublished:a.setPlaylistPublished,logAddToPlaylist:a.logAddToPlaylist,setPlaylistName:a.setPlaylistName,removePlaylist:a.removePlaylist,removePlaylistFolderRecursively:a.removePlaylistFolderRecursively,followPlaylist:a.followPlaylist,offlineSyncPlaylist:a.offlineSyncPlaylist,fetchPlaylistMetadata:s.fetchPlaylistMetadata,subscribeToMetadata:s.subscribeToMetadata,fetchPlaylistV1UriFromPlaylist:s.fetchPlaylistV1UriFromPlaylist,getPlaylistV2UriFromPlaylist:s.getPlaylistV2UriFromPlaylist,fetchIsPlaylistOwnedByCurrentUser:s.fetchIsPlaylistOwnedByCurrentUser,playlistRequest:s.playlistRequest,getAvailablePlaylistName:s.getAvailablePlaylistName,formatListUtils:u,isPlaylist2Shows:_,getPlaylist2ShowsCell:v,addStuffToPlaylist:h,resyncPlaylist:b,createRefreshedPlaylist:g,shouldPlaylistBeOffline:y};t.default=w}).call(this,n(1))},function(e,t,n){"use strict";const r=n(7),o={},i={};let a=0,s=!1,l=null,u=null,c=null,d=!1;function f(){s=!1,l=null,u=null,c=null,d=!1}function p(e){const t=function(e){switch(e){case"dragenter":return h;case"dragleave":return m;case"dragend":return y;case"drop":return g}return null}(e.type);t?t(e):b(e)}function h(e){d=!0,s?l!==e.target&&(c=e):(s=!0,l=e.target,b(e))}function m(e){d=!1,l=null,b(e),s&&(c?(l=c.target,b(c),c=null):s=!1)}function g(e){f(),b(e)}function y(e){f(),b(e)}function v(e,t,n){t!==u&&(u=t,w(e,t,n))}function _(e,t,n,o){let i=!1;const a=c&&c.target;if(a){const e=t===a,n=!e&&t.contains(a),s=r(a).matches(o);e||n&&!s||(i=!0)}d||(i=!0),i&&(u=null,w(e,t,n))}function b(e){const t=e.type,n=i[t];n&&n.length>0&&n.forEach(function(n){const r=n.selector,o=e.target!==document&&e.target.closest(r);if(o){((function(e){switch(e){case"dragenter":return v;case"dragleave":return _}return null})(t)||w)(e,o,n.handler,r)}})}function w(e,n,r){r.call(t,e,n)}function E(e){switch(e){case"dragenter":case"dragleave":case"dragend":case"drop":return!0}return!1}function k(e){o[e]||(o[e]=!0,document.addEventListener(e,p,!1))}function S(e){o[e]&&(o[e]=!1,document.removeEventListener(e,p,!1))}t.delegate=function(e,t,n){E(e)?1==++a&&(k("dragenter"),k("dragleave"),k("dragend"),k("drop")):o[e]||k(e),i[e]||(i[e]=[]),i[e].push({selector:t,handler:n})},t.undelegate=function(e,t,n){E(e)&&0===(a=Math.max(0,a-1))&&(S("dragenter"),S("dragleave"),S("dragend"),S("drop"));const r=i[e];if(r){for(let e=0,o=r.length;e<o;e++){const o=r[e];if(o.selector===t&&o.handler===n){r.splice(e,1);break}}E||0!==r.length||S(e)}}},function(e,t,n){"use strict";const r={};t.add=function(e,t){r[e]||(r[e]=[]),r[e].push(t)},t.remove=function(e,t){if(r[e]){const n=r[e].indexOf(t);n>-1&&r[e].splice(n,1)}},t.run=function(e){const t=r[e];if(t&&t.length>0){const e=Array.prototype.slice.call(arguments,1);for(let n=0,r=t.length;n<r;n++)t[n].apply(null,e)}}},function(e,t,n){var r=n(54);e.exports=function(e,t,n){t=r(t,n);var o=[];if(null==e)return o;for(var i=-1,a=e.length;++i<a;)o[i]=t(e[i],i,e);return o}},function(e,t,n){var r=n(54);e.exports=function(e,t,n){t=r(t,n);var o=[];if(null==e)return o;for(var i,a=-1,s=e.length;++a<s;)t(i=e[a],a,e)&&o.push(i);return o}},function(e,t){e.exports=function(e,t,n){if(null!=e)for(var r=-1,o=e.length;++r<o&&!1!==t.call(n,e[r],r,e););}},function(e,t){e.exports=function(e){return Object.prototype.toString.call(e).slice(8,-1)}},function(e,t,n){var r=n(32);function o(e,t){this[t]=e}e.exports=function(e,t){for(var n,i=0,a=arguments.length;++i<a;)null!=(n=arguments[i])&&r(n,o,e);return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));class o{constructor(){if(this.constructor===o)throw new Error("Instances may not be created from interface classes!")}request(e,t){throw r.default.check.string(e),r.default.check.function(t),new Error("Abstract method called!")}}t.default=o},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&p())}function p(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(90));function i(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(){this._services=[]}register(e){r.default.check.type(e,o.default),-1===this._services.indexOf(e)&&this._services.push(e)}request(e,t){r.default.check.string(e),r.default.check.function(t);for(let n=0;n<this._services.length;n++){const r=this._services[n];if(r.responds(e))return void r.request(e,t)}t(null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(5));function i(e){return e&&e.__esModule?e:{default:e}}const a={id:"",model:{},"views?":[]};t.default=class{constructor(e){r.default.check.function(e),this._viewCreator=e,this._viewConstructors=new Map}parse(e){if(r.default.conforms(e,a)){const t=this._create(e.id,e.model);if(null!==t&&"views"in e)for(let n=0;n<e.views.length;n++){const r=this.parse(e.views[n]);null!==r&&t.addChild(r)}return t}return null}register(e,t){r.default.check.string(e),r.default.check.type(t.prototype,o.default),this._viewConstructors.set(e,t)}_create(e,t){if(r.default.check.string(e),r.default.check.object(t),this._viewConstructors.has(e)){const n=this._viewConstructors.get(e);try{return this._viewCreator(n,t)}catch(t){console.warn(`Constructor threw error for type "${e}"!`,t)}}else console.warn(`Constructor not registered for type "${e}"!`);return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default=class{constructor(){this._values=new Map}getBoolean(e){r.default.check.string(e);const t=this._values.get(e);if(!r.default.is.boolean(t)){const t=`There is no boolean value stored for the key "${e}"!`;throw new Error(t)}return t}getBooleanOr(e,t){r.default.check.string(e),r.default.check.boolean(t);const n=this._values.get(e);return r.default.is.boolean(n)?n:t}getNumber(e){r.default.check.string(e);const t=this._values.get(e);if(!r.default.is.number(t)){const t=`There is no number value stored for the key "${e}"!`;throw new Error(t)}return t}getNumberOr(e,t){r.default.check.string(e),r.default.check.number(t);const n=this._values.get(e);return r.default.is.number(n)?n:t}getString(e){r.default.check.string(e);const t=this._values.get(e);if(!r.default.is.string(t)){const t=`There is no string value stored for the key "${e}"!`;throw new Error(t)}return t}getStringOr(e,t){r.default.check.string(e),r.default.check.string(t);const n=this._values.get(e);return r.default.is.string(n)?n:t}hasBoolean(e){return r.default.check.string(e),r.default.is.boolean(this._values.get(e))}hasNumber(e){return r.default.check.string(e),r.default.is.number(this._values.get(e))}hasString(e){return r.default.check.string(e),r.default.is.string(this._values.get(e))}setBoolean(e,t){r.default.check.string(e),r.default.check.boolean(t),this._values.set(e,t)}setNumber(e,t){r.default.check.string(e),r.default.check.number(t),this._values.set(e,t)}setString(e,t){r.default.check.string(e),r.default.check.string(t),this._values.set(e,t)}}},function(e,t,n){"use strict";const r=n(17);e.exports={request:r.request}},function(e,t,n){"use strict";const r=n(2),o=n(9).default,i=n(4),a=r.ASAP;function s(e,n){const r=e.method;let o,i;return delete e.method,l(e.url,function(a,s){if(a)return void n(a);if(i)return;const l=new t.cosmos.Request(r||t.cosmos.Action.GET,s,e.headers,e.body);o=t.cosmos.resolver.resolve(l,function(e,t){if(n)if(e)n(e);else try{n(null,{body:JSON.parse(t.getBody()||"{}"),headers:t.getHeaders(),status:t.getStatusCode()})}catch(e){e.response=t,n(e)}})}),{cancel:function(){return o&&o.cancel?(o.cancel(),o=null):i||(i=!0),null}}}function l(e,t){e.indexOf("@")>-1?r("spotify:client").query("currentUser(username)",function(n,r){n?t(n):t(null,e.replace("@",i.getCanonicalUsername(r.currentUser.username)))},a):t(null,e)}t.request=s,t.get=function(e,n){return e.method=t.cosmos.Action.GET,s(e,n)},t.post=function(e,n){return e.method=t.cosmos.Action.POST,s(e,n)},t.subscribe=function(e,n){return e.method=t.cosmos.Action.SUB,s(e,n)},t.delete=function(e,n){return e.method=t.cosmos.Action.DELETE,s(e,n)},t.put=function(e,n){return e.method=t.cosmos.Action.PUT,s(e,n)},t.head=function(e,n){return e.method=t.cosmos.Action.HEAD,s(e,n)},t.cosmos=o,t.sanitizeURL=l},function(e,t,n){"use strict";const r=n(7),o=n(2),i=[];function a(e){const t=i[e];return t&&t.getAttribute("data-uri")||null}t.elements=i,t.reset=function(){i.length=0},t.update=function(){const e=r(document).search(":not(.sticky-clone) > [data-list]");e&&e.forEach(function(e){i.includes(e)||(i.push(e),i.sort((e,t)=>{let n;return n=e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING?1:-1}))})},t.getContainerLength=function(e){const t=r(i[e]);if(!t)return 0;const n=t.data("uri");if(!n)return 0;const a=o(n).get("rows");return a?a.length:0},t.getContainerIndex=function(e){for(let t=0,n=i.length;t<n;t++)if(a(t)===e)return t;return-1},t.getUri=a,t.getUris=function(){const e=[];for(let t=0,n=i.length;t<n;t++)e.push(a(t));return e},t.getLiveList=function(e){const t=a(e);return o(t).get("rows")||null}},function(e,t,n){"use strict";(function(t){const r=n(26),o=n(42),i=n(40),a=n(41),s=n(104),l=n(179),u=t.document||{};let c=0;const d=u.__counter,f=`uid:${u.__counter=(d?parseInt(d,36)+1:0).toString(36)}`,p=function(e){return e===window?"window":e===document?"document":e===document.documentElement?"html":e[f]||(e[f]=(c++).toString(36))},h=new WeakMap,m=r({constructor:function e(t,n){if(!t)return this&&this.constructor===e?new g:null;let r,o;if(t.constructor!==g){if(r=new g,"string"==typeof t)return r.search?(r[r.length++]=n||document,r.search(t)):null;if(t.nodeType||t===window)r[r.length++]=t;else if(t.length){const i={};for(let a=0,s=t.length;a<s;a++){const s=e(t[a],n);if(s&&s.length)for(let e=0,t=s.length;e<t;e++){const t=s[e];i[o=p(t)]||(r[r.length++]=t,i[o]=!0)}}}}else r=t;if(!r.length)return null;if(1===r.length){const e=h.get(r[0]);if(e)return e;h.set(r[0],r)}return r}}),g=r({inherits:m,constructor:function(){this.length=0},unlink:function(){return this.map(function(e){return h.delete(e),e})},forEach:function(e,t){return o(this,e,t),this},map:function(e,t){return i(this,e,t)},filter:function(e,t){return a(this,e,t)},every:function(e,t){return s(this,e,t)},some:function(e,t){return l(this,e,t)}});e.exports=m}).call(this,n(1))},function(e,t,n){var r=n(547),o=n(546),i=n(545);e.exports=function(e,t){if(null==e)return r;switch(typeof e){case"function":return void 0!==t?function(n,r,o){return e.call(t,n,r,o)}:e;case"object":return function(t){return i(t,e)};case"string":case"number":return o(e)}}},function(e,t,n){"use strict";const r=n(30),o=n(42),i=n(26),a=n(31),s=Array.prototype.slice;let l=0;const u=i({constructor:function(e){this._stoppable=e},on:function(e,t){const n=this._listeners||(this._listeners={}),o=n[e]||(n[e]=[]);return-1===r(o,t)&&o.push(t),this},off:function(e,t){const n=this._listeners;if(n){const o=n[e];if(o){const i=r(o,t);i>-1&&o.splice(i,1),o.length||delete n[e];for(const e in n)if(n.hasOwnProperty(e))return this;delete this._listeners}}return this},emit:function(e){const t=s.call(arguments,1),n=()=>{const n=this._listeners;if(n){const r=n[e];r&&o(r.slice(0),e=>{const n=e.apply(this,t);if(this._stoppable)return n})}if(this._promiseWaiters&&this._promiseWaiters[e]){const n=this._promiseWaiters[e].slice();this._promiseWaiters[e]=[],n.forEach(e=>e(...t))}};if(t[t.length-1]===u.EMIT_SYNC)t.pop(),n();else{const e=l;a.immediate(()=>{e===l&&n()})}return this},reset:function(){l++,this._listeners={}},whenNextEvent:function(e){return new Promise(t=>{this._promiseWaiters=this._promiseWaiters||{},this._promiseWaiters[e]=[...this._promiseWaiters[e]||[],t]})}});u.EMIT_SYNC={},e.exports=u},function(e,t){e.exports=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(570),o=n(569),i=n(568);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=s(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var i,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var c=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===l)return c*a}else-1!==c&&(i-=i-c),c=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var d=!0,f=0;f<l;f++)if(u(e,i+f)!==u(t,f)){d=!1;break}if(d)return i}return-1}function v(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return H(B(t,e.length-n),e,n,r)}function b(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return b(e,t,n,r)}function E(e,t,n,r){return H(V(t),e,n,r)}function k(e,t,n,r){return H(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function x(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,l,u=e[o],c=null,d=u>239?4:u>223?3:u>191?2:1;if(o+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&u)<<6|63&i)>127&&(c=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(l=(15&u)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),o+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var i=o-r,a=n-t,s=Math.min(i,a),u=this.slice(r,o),c=e.slice(t,n),d=0;d<s;++d)if(u[d]!==c[d]){i=u[d],a=c[d];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=j(e[i]);return o}function O(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function U(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return i||U(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return i||U(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;n=new l(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=l.isBuffer(e)?e:B(new l(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(1))},function(e,t,n){"use strict";t.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];function o(e,t){var n=t&&t.loc,i=void 0,a=void 0;n&&(e+=" - "+(i=n.start.line)+":"+(a=n.start.column));for(var s=Error.prototype.constructor.call(this,e),l=0;l<r.length;l++)this[r[l]]=s[r[l]];Error.captureStackTrace&&Error.captureStackTrace(this,o);try{n&&(this.lineNumber=i,Object.defineProperty?Object.defineProperty(this,"column",{value:a,enumerable:!0}):this.column=a)}catch(e){}}o.prototype=new Error,t.default=o,e.exports=t.default},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(i(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),a=(u=n.slice()).length,l=0;l<a;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(a=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(e,o),n||(n=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";const r=n(188),o={ar:n(610),cs:n(609),de:n(608),el:n(607),en:n(606),es:n(605),"es-419":n(604),fi:n(603),fr:n(602),"fr-CA":n(601),hu:n(600),id:n(599),it:n(598),ja:n(597),nl:n(596),pl:n(595),"pt-BR":n(594),sv:n(593),th:n(592),tr:n(591),vi:n(590),"zh-Hant":n(589),ms:n(588)};e.exports=r(o)},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.View=t.Tracklist=t.Tab=t.SectionGridButtons=t.SectionGrid=t.SectionCarousel=t.Section=t.Puff=t.OfflineScreen=t.ListGroup=t.ItemConcert=t.ItemAlbum=t.HeaderGenre=t.HeaderBrowse=t.Grid=t.ErrorScreen=t.EmbeddedApp=t.DeferredContainer=t.DebugControls=t.Container=t.Cell=t.CardShow=t.CardProfile=t.CardPlaylist=t.CardLink=t.CardEpisode=t.CardChart=t.CardArtist=t.CardAlbum=void 0;var r=I(n(338)),o=I(n(332)),i=I(n(329)),a=I(n(326)),s=I(n(323)),l=I(n(319)),u=I(n(316)),c=I(n(313)),d=I(n(310)),f=I(n(307)),p=I(n(304)),h=I(n(300)),m=I(n(297)),g=I(n(294)),y=I(n(291)),v=I(n(288)),_=I(n(272)),b=I(n(269)),w=I(n(266)),E=I(n(263)),k=I(n(260)),S=I(n(257)),x=I(n(253)),T=I(n(250)),A=I(n(247)),P=I(n(244)),C=I(n(241)),O=I(n(238)),L=I(n(5));function I(e){return e&&e.__esModule?e:{default:e}}t.CardAlbum=r.default,t.CardArtist=o.default,t.CardChart=i.default,t.CardEpisode=a.default,t.CardLink=s.default,t.CardPlaylist=l.default,t.CardProfile=u.default,t.CardShow=c.default,t.Cell=d.default,t.Container=f.default,t.DebugControls=p.default,t.DeferredContainer=h.default,t.EmbeddedApp=m.default,t.ErrorScreen=g.default,t.Grid=y.default,t.HeaderBrowse=v.default,t.HeaderGenre=_.default,t.ItemAlbum=b.default,t.ItemConcert=w.default,t.ListGroup=E.default,t.OfflineScreen=k.default,t.Puff=S.default,t.Section=x.default,t.SectionCarousel=T.default,t.SectionGrid=A.default,t.SectionGridButtons=P.default,t.Tab=C.default,t.Tracklist=O.default,t.View=L.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default=class{constructor(e,t,n){r.default.check.string(e),r.default.check.function(t),this._type=e,this._callback=t,this._caller=n}getCallback(){return this._callback}getType(){return this._type}trigger(e){r.default.check.object(e),this._callback.call(this._caller,e)}}},function(e,t,n){"use strict";const r=function(e,t){this.containerIndex=e,this.index=t};r.prototype.isSame=function(e){return this.containerIndex===e.containerIndex&&this.index===e.index},e.exports=r},function(e,t,n){"use strict";const r=n(7),o=n(52),i=n(65);function a(e,t){let n=t;for(;n&&n.parentNode!==e;)n=n.parentNode;return!!n}t.getClosest=function(e,t){const n="down"===t;let r=e.containerIndex;const a=e.index;let s=o.getContainerLength(r),l=n?a+1:a-1;return l<s&&l>=0?new i(r,l):(r=n?r+1:r-1,(s=o.getContainerLength(r))?new i(r,l=n?0:s-1):null)},t.getFromNode=function(e){if(!e.parentNode)return null;if(!e.hasAttribute("data-index"))return null;const t=o.elements;if(0===t.length)return null;for(let n=0,r=t.length;n<r;n++)if(t[n]&&a(t[n],e)){const t=+e.getAttribute("data-index");return new i(n,t)}return null},t.getNodeFromPosition=function(e){const t=o.elements[e.containerIndex];if(!t)return null;const n=r(t).find(`[data-index=${e.index}]`);return n?n[0]:null},t.getDirection=function(e,t){return e&&t?e.containerIndex!==t.containerIndex?e.containerIndex<t.containerIndex?1:-1:e.index===t.index?0:e.index<t.index?1:-1:0},t.getPositionFromGlobalIndex=function(e){let t,n=e,r=0,a=0;for(let i=0,s=o.elements.length;i<s&&!((a+=t=o.getContainerLength(i))>e);i++)r=i+1,n-=t;return new i(r,n)},t.getGlobalIndexFromPosition=function(e){let t=e.index;for(let n=e.containerIndex-1;n>=0;n--)t+=o.getContainerLength(n);return t},t.getLastPosition=function(){const e=o.elements.length-1,t=o.getContainerLength(e)-1;return new i(e,t)},t.getLastPositionForSelectAll=function(){let e;o.elements.forEach(function(t,n){"false"!==t.getAttribute("data-list-may-select-all")&&(e=n)});const t=o.getContainerLength(e)-1;return new i(e,t)}},function(e,t,n){"use strict";const r="spotify:internal:filterlist",o=/^spotify:internal:filterlist:([^:]*):(.*)$/;t.create=function(e,t){const n=e.replace(/^spotify:/,""),o=encodeURIComponent(t);return[r,o,n].join(":")},t.getQuery=function(e){const t=e.match(o);return t?decodeURIComponent(t[1]):""},t.getOriginUri=function(e){const t=e.match(o);return t?`spotify:${t[2]}`:""},t.parse=function(e){const t=e.match(o);return t?{query:decodeURIComponent(t[1]),originUri:`spotify:${t[2]}`}:null},t.isValid=function(e){return o.test(e)},t.regExp=o},function(e,t,n){"use strict";(function(e){const r=n(4),o=n(14).getOriginUri;function i(e,t){return`[data-context][data-uri${e}${t}]`}function a(e){const t=r.from(e);let n=t?t.toString():e;return n=(n=n.replace(/^spotify:app:internal:/,"spotify:internal:")).replace(/:internal:filterlist:[^:]+/,function(e){return e.replace(/\+/g,"%20")})}t.getUriFromButton=function(e){const t=e.closest("[data-context]");return t&&t.getAttribute("data-uri")||""},t.getAttributeValueFromNode=function(e,t){const n=`[${t}]`,r=e.closest(n);return r&&r.getAttribute(t)||""},t.isFormOrLinkElement=function(e){const t=e.tagName.toLowerCase();return["input","textarea","button","select","optgroup","option","a"].indexOf(t)>-1},t.isInteractiveElement=function(e){const t=e.tagName.toLowerCase();return"a"===t||"button"===t},t.getContextSelector=i,t.getContextSelectorsWithVariants=function(e){const t=o(e)||e,n=a(t),r=a(t.replace(/^spotify:/,":")),s=[i("=",t)];return s.push(i("^=","spotify:internal:filterlist:")+i("$=",t.replace(/^spotify:/,":"))),s.push(i("^=","spotify:internal:sortlist:")+i("$=",t.replace(/^spotify:/,":"))),t!==n&&(s.push(i("=",n)),s.push(i("^=","spotify:internal:filterlist:")+i("$=",r)),s.push(i("^=","spotify:internal:sortlist:")+i("$=",r))),s},t.compareContexts=function(e,t){return!(!e||!t)&&a(o(e)||e)===a(o(t)||t)},t.normalizeUri=a,t.createEmptyMethod=function(t){return function(){e.console&&console.warn(`spotify-events/player: \`${t}\` is not implemented.`)}}}).call(this,n(1))},function(e,t,n){"use strict";var r=n(160),o=function(e){return e&&e.__esModule?e:{default:e}}(n(159));const i=n(116);function a(e){this._uri=void 0,void 0!==e&&this.setURI(e),this._uuid=i.create().toString(),this._isInitialState=!1}a.unserialize=function(e){const t=JSON.parse(e),n=new a;return n.setURI(t.uri),n},a.prototype.equals=function(e){return"string"==typeof this._uri&&e instanceof a&&this._uri===e._uri},a.prototype.equalsApp=function(e){const t=this.getAppId();return e&&t&&e.getAppId()===t||!1},a.prototype.getAppId=function(){const e=this.getURI().split(":");if(!(e.length<3)&&"app"===e[1]&&""!==e[2])return e[2]},a.prototype.getAppURI=function(){return this.getURI().split(":").slice(0,3).join(":")},a.prototype.getArgs=function(){return this.getURI().split(":").slice(3).map(function(e){return decodeURIComponent(e)})},a.prototype.getURI=function(){if(void 0===this._uri)throw new Error("URI not set");return this._uri},a.prototype.serialize=function(){return JSON.stringify({uri:this.getURI()})},a.prototype.setArgs=function(e){if(!Array.isArray(e))throw new TypeError("Args must be array");this._uri=this.getAppURI().split(":").concat(e.map(function(e){return encodeURIComponent(e)})).join(":")},a.prototype.setURI=function(e){if("string"!=typeof e)throw new TypeError("URI must be string");this._uri=e},a.prototype.setIsInitialState=function(e){this._isInitialState=e},a.prototype.getIsInitialState=function(){return this._isInitialState},a.prototype.getUUID=function(){return this._uuid},a.prototype.getPageID=function(){return(0,r.getPageIdFromUri)(this.getAppId(),this.getURI())},a.prototype.isPageCovered=function(){return this.getPageID()!==o.default.unknownUncovered},e.exports=a},function(e,t,n){"use strict";var r=i(n(44)),o=i(n(78));function i(e){return e&&e.__esModule?e:{default:e}}const a=Array.prototype.slice;let s="en",l=new Intl.NumberFormat(s),u=new Intl.PluralRules(s);const c={},d=function(e){let t=a.call(arguments,1),n={};const r=t[t.length-1];"object"==typeof r&&"hash"in r&&(n=t.pop());const o=n.hash,i="object"==typeof c[e]?c[e][u.select(t[0])]||c[e].other:c[e];return i?(Array.isArray(t[0])&&(t=t[0]),i.replace(/\{([\w-]+)\}/g,function(e,n){const r=+n;let i;return"number"==typeof(i=isNaN(r)?o[n]:t[r])&&(i=l.format(i)),null!==i?i:""})):""};d.displayName="loc",d.register=function(e){return(0,r.default)(c,e),this},d.setLocale=function(e){s=e,l=new Intl.NumberFormat((0,o.default)(s,"intl")),u=new Intl.PluralRules((0,o.default)(s,"intl"))},e.exports=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(176));t.default=class{constructor(){this.tasks=[]}_dequeue(){return this.tasks.shift()}addTask(e){return(0,r.default)(e)&&this.tasks.push(e),this}executePendingTasks(){for(;this.tasks.length;)this._dequeue()();return this}}},function(e,t,n){"use strict";const r=n(539),o=n(17),i="preferences_event_wait";function a(e,t,n){const r="*"===e?null:RegExp(`^${e}`);let o=null;if("object"!=typeof t)return t;o=Object.keys(t).map(function(e){return!(null!==r&&!r.test(e))&&[e,t[e]]}).filter(Boolean).reduce(function(e,t){return e[t[0]]=t[1],e},{});const i=Object.keys(o).reduce((e,t)=>(function e(...t){const n=e=>e&&"object"==typeof e;return t.reduce((t,r)=>(Object.keys(r).forEach(o=>{const i=t[o],a=r[o];Array.isArray(i)&&Array.isArray(a)?t[o]=i.concat(...a):n(i)&&n(a)?t[o]=e(i,a):t[o]=a}),t),{})})(e,function(e,t,n){const r={};return e.split(n||".").reduce(function(e,n,r,o){return r<o.length-1?e[n]={}:e[n]=t,e[n]},r),r}(t,o[t])),{});return"*"===e||!0===n?i:e.split(".").reduce(function(e,t){return e[t]},i)}function s(e,t){if(!(this instanceof s))return new s(e,t);this.path=e||"*",this.rpc=t||o.request.bind(o)}e.exports=s,s.prototype.all=function(e){const t=this.path;return this.rpc("preferences_all",[],function(n,r){n?e(n):e(null,"*"===t?r:a(t,r,!0))}),this},s.prototype.set=function(e,t,n){const o=this.path;let i=null,a=null;if("object"==typeof e){const n=t;i=function(e,t){const n={},r=t||".";return function e(t,o){let i=null;for(const a in t)if("object"==typeof t[a]){const n=o?[o,a].join(r):a;e(t[a],n)}else i=o?[o,a].join(r):a,n[i]=t[a]}(e),n}(e),a=r().concurrency(1),Object.keys(i).forEach(e=>{a.push(t=>{this.set(e,i[e],t)})}),a.run(n)}else{const r="*"===o?e:[o,e].join(".");this.rpc("preferences_set",[r,t],n)}return this},s.prototype.setAtomicFlags=function(e,t,n){this.get(e,(r,o)=>{if(r)n(r);else{let r=o;t.forEach(function(e){const t=e[0],n=e[1];void 0!==n&&null!==n&&(n?r|=t:r&=~t)}),this.set(e,r,n)}})},s.prototype.get=function(e,t){const n="*"===this.path?e:[this.path,e].join(".");return this.rpc("preferences_get",[n],(e,r)=>{null===(r?a(n,r):null)?this.rpc("preferences_all",[],function(e,r){e?t(e):t(null,a(n,r))}):t(null,a(n,r))}),this},s.prototype.subscribe=function(e,t){let n=null,r=!1;return this.get(e,(o,s)=>{if(r)return;const l="*"===this.path?e:[this.path,e].join(".");n=function e(t,n,r,o,s){const l=s||{isCancelled:!1,cancel:function(){this.isCancelled=!0}};return t(i,[],function(i,s){if(l.isCancelled)return;let u=!1,c=r;if(s){const e=a(n,s);e!==c&&(c=e,u=!0)}e(t,n,c,o,l),u&&o(null,c)}),l}(this.rpc,l,s,t),t(o,s)}),{cancel:function(){r=!0,n&&n.cancel()}}}},function(e,t){e.exports=function(e){return null==e?"":e.toString()}},function(e,t,n){var r=n(43);e.exports=function(e,t){return r(e)===t}},function(e,t){e.exports=function(e){return!!e&&"object"==typeof e&&e.constructor===Object}},function(e,t,n){"use strict";const r=n(558),o=n(33);e.exports={schema:r,log:o.bind(null,r)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var i=o(n(186)),a=r(n(575)),s=r(n(58)),l=o(n(21)),u=o(n(574)),c=r(n(573));function d(){var e=new i.HandlebarsEnvironment;return l.extend(e,i),e.SafeString=a.default,e.Exception=s.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=u,e.template=function(t){return u.template(t,e)},e}var f=d();f.create=d,c.default(f),f.default=f,t.default=f,e.exports=t.default},function(e,t,n){"use strict";const r=n(612);e.exports=function(e,t){const n=r[e];return n&&n[t]?n[t]:e},e.exports.all=function(){return Object.keys(r)}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(3)),o=a(n(45)),i=a(n(23));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e){super(),r.default.check.type(e,i.default),this._environment=e}request(e,t){r.default.check.string(e),r.default.check.function(t),this._environment.resolveSpotifyCosmosApiGetRequest(e,t)}}},function(e,t,n){var r=n(19);e.exports=function(e){return r.null(e)?"Null":r.undefined(e)?"Undefined":r.function(e.constructor)&&r.string(e.constructor.name)?e.constructor.name:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(3)),o=c(n(16)),i=n(63),a=c(n(23)),s=c(n(36)),l=c(n(47)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}const d=500;t.default=class{constructor(e,t,n,i,u,c,f,p){r.default.check.type(e,Window),r.default.check.type(t,Element),r.default.check.type(n,s.default),r.default.check.type(i,l.default),r.default.check.type(u,o.default),r.default.check.type(c,a.default),r.default.check.function(f),r.default.check.function(p),this._window=e,this._containerElement=t,this._eventDispatcher=n,this._serviceRouter=i,this._configuration=u,this._environment=c,this._eventListenerCreator=f,this._viewCreator=p,this._rootView=null,this._debugView=null,this._expectedDeferredLoads=0,this._receivedDeferredLoads=0,this._window.addEventListener("resize",()=>{this._eventDispatcher.dispatch("window-resize",{})}),this._window.addEventListener("scroll",()=>{this._eventDispatcher.dispatch("window-scroll",{})}),this._window.addEventListener("message",e=>{if(r.default.is.object(e.data)){const t=r.default.clone(e.data);this._eventDispatcher.dispatch("window-message",t)}}),this._window.setInterval(()=>{this._eventDispatcher.dispatch("periodic-update",{})},d);const h=this._eventListenerCreator("reload-view",e=>{this._onReloadView(e)});this._eventDispatcher.register(h);const m=this._eventListenerCreator("deferred-content-load",e=>{this._onDeferredContentLoad(e)});this._eventDispatcher.register(m)}addDebugView(){null===this._debugView&&(this._debugView=this._viewCreator(i.DebugControls,{}),this._debugView.attach(this._containerElement))}onArgumentsChange(e){r.default.check.array(e),null===this._rootView?this._loadRootViewFromArguments(e):this._rootView.handlesArgumentsChange(e)||this._loadRootViewFromArguments(e)}queryApplicationArgumentsAndReload(){this._environment.queryApplicationArguments(e=>{this._loadRootViewFromArguments(e)})}_loadRootViewFromArguments(e){r.default.check.array(e),this._setRootView(null),this._environment.querySessionOnline(t=>{if(!t)return void this._setRootView(this._viewCreator(i.OfflineScreen,{}));const n=`${this._configuration.getDefaultState().getString("app/backend")}${e.map(e=>encodeURIComponent(e)).join("/")}`;this._serviceRouter.request(n,e=>{null!==e?this._setRootView(e):this._setRootView(this._viewCreator(i.ErrorScreen,{}))})})}_onDeferredContentLoad(e){r.default.check.object(e),this._receivedDeferredLoads++,this._receivedDeferredLoads>=this._expectedDeferredLoads&&this._sendViewLoaded()}_onReloadView(e){r.default.check.object(e),this._configuration.getCurrentState(e=>{const t=e.getStringOr("user/language","en");this._environment.registerSpotifyHandlebarsHelpersFor(t),this.queryApplicationArgumentsAndReload()})}_sendViewReady(e){const t=this._configuration.getDefaultState().getString("app/name");this._environment.sendViewReady(t,e)}_sendViewLoaded(){const e=this._configuration.getDefaultState().getString("app/name");this._environment.sendViewLoaded(e)}_setRootView(e){this._window.scrollTo(0,0),null!==this._rootView&&(this._rootView.destroy(),this._rootView=null),null!==e&&(r.default.check.type(e,u.default),this._rootView=e,this._sendViewReady(()=>{this._rootView===e&&(e.attach(this._containerElement),this._environment.updateSpotifyEventsIn(this._containerElement),this._eventDispatcher.dispatch("root-view-update",{}),this._expectedDeferredLoads=e.totalNrOfDeferredContentLoads(),this._receivedDeferredLoads=0,0===this._expectedDeferredLoads&&this._sendViewLoaded())}))}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,r,o,i){var a;return'    <div class="glue-page-header__button">\n'+(null!=(a=e.invokePartial(n(280),t,{name:"../generic/button-play.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"    </div>\n"},3:function(e,t,r,o,i){var a;return'    <div class="glue-page-header__button">\n'+(null!=(a=e.invokePartial(n(278),t,{name:"../generic/button-add.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"    </div>\n"},5:function(e,t,r,o,i){var a;return'    <div class="glue-page-header__button">\n'+(null!=(a=e.invokePartial(n(277),t,{name:"../generic/button-more.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"    </div>\n"},7:function(e,t,n,r,o){var i;return null!=(i=n.each.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.buttons:t)?i.customButtons:i,{name:"each",hash:{},fn:e.program(8,o,0),inverse:e.noop,data:o}))?i:""},8:function(e,t,n,r,o){var i;return'      <div class="glue-page-header__button">\n        '+(null!=(i=e.lambda(t,t))?i:"")+"\n      </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{};return'<div class="glue-page-header__buttons">\n'+(null!=(i=n.if.call(a,null!=(i=null!=t?t.buttons:t)?i.playButton:i,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"\n"+(null!=(i=n.if.call(a,null!=(i=null!=t?t.buttons:t)?i.addButton:i,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+"\n"+(null!=(i=n.if.call(a,null!=(i=null!=t?t.buttons:t)?i.moreButton:i,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+"\n"+(null!=(i=n.if.call(a,null!=(i=null!=t?t.buttons:t)?i.customButtons:i,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o}))?i:"")+"</div>"},usePartial:!0,useData:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default=((e,t)=>{return r.default.check.type(e,HTMLDocument),r.default.check.type(t,Window),t.getComputedStyle(e.body,":before").getPropertyValue("content").replace(/^"(.*)"$/,"$1")})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'  <div class="card-overlay"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a;return(null!=(a=e.invokePartial(n(86),t,{name:"./image.hbs",data:i,helpers:r,partials:o,decorators:e.decorators}))?a:"")+"\n"+(null!=(a=r.unless.call(null!=t?t:e.nullContext||{},null!=t?t.noPlayButton:t,{name:"unless",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?a:"")},usePartial:!0,useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return"style=\"background-image: url('"+e.escapeExpression("function"==typeof(i=null!=(i=n.imageUrl||(null!=t?t.imageUrl:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"imageUrl",hash:{},data:o}):i)+"')\""},3:function(e,t,n,r,o){var i;return'      data-image-url="'+e.escapeExpression("function"==typeof(i=null!=(i=n.imageUrl||(null!=t?t.imageUrl:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"imageUrl",hash:{},data:o}):i)+'"\n'},5:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing;return null!=(i=(n.compare||t&&t.compare||s).call(a,(n.type||t&&t.type||s).call(a,null!=t?t.seedUri:t,{name:"type",hash:{},data:o}),"cluster",{name:"compare",hash:{operator:"!="},fn:e.program(6,o,0),inverse:e.noop,data:o}))?i:""},6:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{};return(null!=(i=n.if.call(a,null!=t?t.dominantColor:t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o}))?i:"")+'      <div class="card-station-layer card-station-mask"></div>\n'+(null!=(i=n.if.call(a,null!=t?t.imageUrl:t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o}))?i:"")},7:function(e,t,n,r,o){var i;return'        <div class="card-station-layer card-station-highlight" style="background-color:'+e.escapeExpression("function"==typeof(i=null!=(i=n.dominantColor||(null!=t?t.dominantColor:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"dominantColor",hash:{},data:o}):i)+'"></div>\n'},9:function(e,t,n,r,o){var i;return'        <div class="card-station-overlay" style="background-image: url('+e.escapeExpression("function"==typeof(i=null!=(i=n.imageUrl||(null!=t?t.imageUrl:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"imageUrl",hash:{},data:o}):i)+')"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a,s=null!=t?t:e.nullContext||{};return(null!=(a=e.invokePartial(n(335),t,{name:"./placeholder.hbs",data:i,helpers:r,partials:o,decorators:e.decorators}))?a:"")+'\n<div class="card-image-content-wrapper">\n  <div\n    class="card-image"\n    '+(null!=(a=r.if.call(s,null!=t?t.imageUrl:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?a:"")+'\n    data-ta-id="card-image"\n'+(null!=(a=r.if.call(s,null!=t?t.imageUrl:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?a:"")+"  >\n  </div>\n\n"+(null!=(a=(r.type||t&&t.type||r.helperMissing).call(s,null!=t?t.uri:t,"station",{name:"type",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?a:"")+"</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default=(e=>{r.default.check.type(e,Date);const t=e.getFullYear(),n=e.getMonth()+1,o=e.getDate(),i=e.getHours();return`${`0000${t}`.slice(-4)}-${`00${n}`.slice(-2)}-${`00${o}`.slice(-2)}T${`00${i}`.slice(-2)}:00:00`})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));class o{constructor(){if(this.constructor===o)throw new Error("Instances may not be created from interface classes!")}build(e){throw r.default.check.function(e),new Error("Abstract method called!")}}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default=class{constructor(e){r.default.check.type(e,Window),this._window=e,this._setTimeoutTokens=new Set,this._requestAnimationFrameTokens=new Set}destroy(){return this._clearPendingSetTimeoutCallbacks(),this._clearPendingRequestAnimationFrameCallbacks(),this._window=null,this._setTimeoutTokens=null,this._requestAnimationFrameTokens=null,null}scheduleInAbout(e,t){r.default.check.number(e),r.default.check.function(t);const n=this._window.setTimeout(()=>{this._setTimeoutTokens.delete(n);const e=this._window.requestAnimationFrame(()=>{this._requestAnimationFrameTokens.delete(e),t()});this._requestAnimationFrameTokens.add(e)},e);return this._setTimeoutTokens.add(n),this}_clearPendingSetTimeoutCallbacks(){for(const e of this._setTimeoutTokens)this._window.clearTimeout(e);return this._setTimeoutTokens.clear(),this}_clearPendingRequestAnimationFrameCallbacks(){for(const e of this._requestAnimationFrameTokens)this._window.cancelAnimationFrame(e);return this._requestAnimationFrameTokens.clear(),this}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));class o{constructor(){if(this.constructor===o)throw new Error("Instances may not be created from interface classes!")}request(e,t){throw r.default.check.string(e),r.default.check.function(t),new Error("Abstract method called!")}responds(e){throw r.default.check.string(e),new Error("Abstract method called!")}}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));class o{constructor(){if(this.constructor===o)throw new Error("Instances may not be created from interface classes!")}getContent(e){throw r.default.check.function(e),new Error("Abstract method called!")}}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),o=u(n(142)),i=u(n(117)),a=u(n(45)),s=u(n(16)),l=u(n(49));function u(e){return e&&e.__esModule?e:{default:e}}t.default=class extends a.default{constructor(e,t){super(),r.default.check.type(e,s.default),r.default.check.function(t),this._configuration=e,this._xmlHttpRequestCreator=t}request(e,t){r.default.check.string(e),r.default.check.function(t),this._configuration.getCurrentState(n=>{const r=this._xmlHttpRequestCreator();r.onreadystatechange=(()=>{if(r.readyState===XMLHttpRequest.DONE){let e=null;200===r.status&&(e=(0,i.default)(r.response)),t(e)}});const o=n.getNumberOr("proxy/port",8081),a=e.replace(/^hm:\/\//,`http://127.0.0.1:${o}/`);r.open("GET",a,!0),this._setRequestHeaders(r,n),r.send(null)})}_setRequestHeaders(e,t){if(r.default.check.type(e,XMLHttpRequest),r.default.check.type(t,l.default),e.setRequestHeader("x-spotify-client-platform","OSX_X86_64"),t.hasString("client/version")){const n=t.getString("client/version"),r=(0,o.default)(n);e.setRequestHeader("x-spotify-client-version",r)}if(t.hasString("user/catalogue")){const n=t.getString("user/catalogue");e.setRequestHeader("x-spotify-catalogue",n)}if(t.hasString("user/country")){const n=t.getString("user/country");e.setRequestHeader("x-spotify-country",n)}if(t.hasBoolean("user/employee")){const n=t.getBoolean("user/employee");e.setRequestHeader("x-spotify-employee",`${n}`)}if(t.hasString("user/username")){const n=t.getString("user/username");e.setRequestHeader("x-spotify-username",n)}}}},function(e,t,n){"use strict";(function(t){const r=n(26),o=n(31),i=n(2),a=n(10),s=n(12),l=r({constructor:function(e){this.endpoints=e,this.onPublish=this.onPublish.bind(this),this.waitQueue=[],this.onWait=this.onWait.bind(this),this.fetch=this.fetch.bind(this)},onPublish:function(e,t){if("added"in t){const n=this.endpoints,r=!!t.added;e.update({added:r});const o=r?"post":"delete";this._publish(o,[e],function(t,o){t?(e.update({added:!r}),t.response&&507===t.response.getStatusCode()&&s.post({url:"sp://messages/v1/container/user-message",body:{id:"collection-limit-exceeded"}})):(s.post({url:n.broadcast,body:{uri:e.uri,isInCollection:r,added:r}}),o&&o.items&&o.items.forEach(function(e){e.added=e.isInCollection,s.post({url:n.broadcast,body:e})}))})}},onWait:function(e,t){a(t,"added")&&this.fetch(e)},fetch:function(e){const t=this.waitQueue;t.push(e),1===t.length&&o.immediate(this._fetchBatch,this)},_fetchBatch:function(){const e=this.waitQueue;0!==e.length&&(this.waitQueue=[],this._contains(e,function(n,r){n&&(!n.response||n.response&&404!==n.response.getStatusCode())?t.console&&console.error(n):e.forEach(function(e,t){let o=!1;n||(o=r[t]),e.update({added:o})})}))},_contains:function(e,t){const n=this.endpoints.isInCollection,r=this._getRequestBody(e);s.post({url:n,body:r},function(e,n){t(e,n&&n.body&&n.body.found)})},_publish:function(e,t,n){const r=this.endpoints.updateIsInCollection,o=this._getRequestBody(t);s[e]({url:r,body:o},function(e,t){n(e,t&&t.body)})},_getRequestBody:function(e){return{items:e.map(function(e){return e.uri}),source:t.__spotify&&t.__spotify.app_uri||null}}});l.onBroadcast=function(e,n){if(e)return void(t.console&&console.error(e));let r;"added"in n.body?r=n.body.added:"isInCollection"in n.body&&(r=n.body.isInCollection),i(n.body.uri).update({added:r})},e.exports=l}).call(this,n(1))},function(e,t,n){"use strict";(function(e){const r=n(2),o=n(18),i=n(95),a={page:null,uid:null,trackUri:null,index:null,source:"unknown",reason:"unknown"};function s(e,t){e?e.query("track(playable)",function(e,n){e?t(e):t(null,n.track.playable)},r.ASAP):t(null,!1)}function l(e,t){const n=r("spotify:player").get("referrer"),o=r("spotify:player").get("referrerBaseUri");n?(o||console.warn(`referrer field is set on the player model (${n}), but referrerBaseUri isn't`),t(null,n,o||"","")):e.viewUri&&e.referrerId?t(null,e.viewUri,e.referrerId,e.featureId):r("spotify:application").get("appURI","arguments",function(n,r,o){if(n)t(n);else{const n=e.viewUri||(o?`${r}:${o}`:r);t(null,n,r,"")}})}function u(){return e.__spotify.app_version}t.getReferrer=l,t.getReferrerVersion=u,t.getFirstPlayableRow=function(e,t,n){let r=t.start;s(e.get(r),function o(i,a){a?n(null,r):r===t.end-1?n(null,t.start):s(e.get(++r),o)})},t.isRowPlayable=s,t.getPlayOptions=function(e,t){l(e,function(n,r,i,s){n?t(n):(Object.keys(a).forEach(function(t){void 0===e[t]&&(e[t]=a[t])}),e.range&&(e.range=new o(e.range[0],e.range[1])),e.viewUri=r,e.referrerId=i,e.referrerVersion=u(),e.featureId=s,t(null,e))})},t.getTracksFromRows=function(e){return e.map((t,n)=>{const r=t&&t.get("track");if(r){const t=r.serialize(1),o={};return t.manifestId&&(o["media.manifest_id"]=t.manifestId),t.mediaTypeEnum&&(o["media.type"]=2===t.mediaTypeEnum?"video":"audio"),{uri:t.uri,uid:e.keys[n],metadata:o}}return null})},t.getPlayerState=function(e){i.getState(e)},t.subscribeForPlayerState=function(e){return i.subscribe(e)}}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var r=u(n(94)),o=u(n(12)),i=u(n(29)),a=u(n(67)),s=u(n(195)),l=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}function c(t,n){const o=t||{};r.default.getReferrer(o,(t,o,i,a)=>{if(t)return void n(t);let u=a;const c=r.default.getReferrerVersion();if(!u){const t=e.__spotify&&e.__spotify.app_manifest;t&&(u=t.BundleIdentifier||null)}const d={station:"radio",stations:"radio","radio-hub":"radio","daily-mix-hub":"radio"};u&&d[u]&&(u=d[u]);const f=i?{referrerIdentifier:i}:null,p=new s.default.Player(l.default.resolver,o,u,c,f);n(p)})}let d,f;function p(e,t){const n=t||e.context_metadata["zelda.context_uri"]||e.context_uri||e.track&&e.track.uri||null,r=h(n);return delete e.context_uri,n?(e.variant={uri:n},e.context={uri:r}):(e.variant=null,e.context=null),e.track=e.track||null,e.index=e.index||null,e.track?(e.uid=e.track.uid,delete e.track.uid):e.uid=null,function e(t){let n;for(const r in t)t.hasOwnProperty(r)&&(n=r.replace(/_(.)/g,(e,t)=>t.toUpperCase()),t[r]instanceof Object?t[n]=e(t[r]):t[n]=t[r],n!==r&&delete t[r]);return t}(e)}function h(e){if(!e)return e;const t=i.default.parse(e);let n=e;t&&(n=t.originUri);const r=a.default.parse(n);return r&&(n=r.originUri),n}t.play=function(e,t,n){c(t,function(r){const o={pages:[{tracks:e}],metadata:{"zelda.context_uri":t.context},entity_uri:h(t.context)},i={};"number"==typeof t.index?i.skip_to_index={page:0,track:t.index}:(t.uid||t.uri)&&(i.skip_to={},t.uid?i.skip_to.track_uid=t.uid:t.uri&&(i.skip_to.track_uri=t.uri)),r.play(o,i,n)})},t.playFromResolver=function(e,t,n){c(t,r=>{o.default.sanitizeURL(e,(e,o)=>{if(e)return void(n&&n(e));const i={uri:o,url:`context://${encodeURI(o)}`};let a=null;"number"==typeof t.index?a={skip_to_index:{page:0,track:t.index}}:t.trackUri&&(a={skip_to_index:{track_uri:t.trackUri}}),"number"==typeof t.seekTo&&(a.seek_to=t.seekTo),r.play(i,a,n)})})},t.playContext=function(e,t,n){t.uid||t.uri||t.page?(t.skip_to={},t.uid?t.skip_to.track_uid=t.uid:t.uri&&(t.skip_to.track_uri=t.uri),t.page&&(t.skip_to.page_index=t.page)):t.range?t.skip_to_index={page:0,track:t.range.start}:"number"==typeof t.index&&(t.skip_to_index={page:0,track:t.index}),c(t,function(r){r.play(e,t||{},n)})},t.pause=function(e){c(null,t=>{t.pause(e)})},t.resume=function(e){c(null,t=>{t.resume(e)})},t.update=function(e,t,n){c(t,function(r){const o={pages:[{tracks:e}],metadata:{"zelda.context_uri":t.context},entity_uri:h(t.context)};r.update(o,n)})},t.subscribe=function(e,t={}){let n;return d=!1,c(null,r=>{d||(n=r.subscribe((t,n)=>{t?e(t):e(null,p(n.getJSONBody()))},t))}),{unsubscribe:()=>{d=!0,n&&(n.cancel(),n=null)}}},t.onError=function(e){return c(null,t=>{f=t.onError(e)}),()=>{f&&(f.cancel(),f=null)}},t.getState=function(e){c(null,t=>{t.getState((t,n)=>{t?e(t,null):e(null,p(n.getJSONBody()))})})},t.addContext=p,t.updateContext=function(e,t){c(null,function(n){n.update(e,t)})}}).call(this,n(1))},function(e,t,n){"use strict";t.getContextFromNodeOrParent=function(e){const t=e.closest("[data-context]");return t&&t.getAttribute("data-uri")||""},t.getAttributeFromNodeOrParent=function(e,t){const n=`[${t}]`,r=e.closest(n);return r&&r.getAttribute(t)||""}},function(e,t){e.exports=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(74);e.exports=function(e){return r(e,"Object")}},function(e,t,n){"use strict";const r=n(18);t.getInsertOperations=function(e,t){return[{type:"insert",index:t,values:e}]},t.getRemoveOperations=function(e){const t=r.fromIndices(e);let n=0;const o=[];for(let e,r=0;t[r];r++)e=t[r],o.push({type:"remove",index:e.start-n,length:e.length}),n+=e.length;return o},t.getMoveOperations=function(e,t){let n=0,o=t;const i=r.fromIndices(e);let a,s,l;for(a=0;i[a];a++)if((s=i[a]).start<=t&&s.end>=t){l=s;break}const u=[];for(a=0;i[a];a++){const e=(s=i[a]).length;let r,c=s.start-n;if(l)if(s.end<l.start)c=s.start-n,r=l.start-e,n+=e;else{if(s===l){o=Math.max(o,s.end);continue}c=s.start,r=o,o=Math.max(o,r+e)}else s.end<t?(c=s.start-n,r=o-e,n+=e):(c=s.start,r=o,o=Math.max(o,r+e));u.push({type:"move",from:c,length:e,to:r})}return u}},function(e,t,n){"use strict";const r=n(2);function o(){return r("spotify:application").get("active")||!1}t.isActive=function(){return o()},t.isActiveAndFocused=function(){return o()&&function(){const e=window.top.document.activeElement,t=e&&e.contentWindow;return t?t===window:window.top===window}()}},function(e,t,n){"use strict";const r=n(2),o=n(18),i=n(52),a=n(66),s=n(65),l=[];let u={},c=null,d=null,f=null,p=null,h=!1;function m(e){if(e){const t=i.getLiveList(e.containerIndex);if(t)return c=e.containerIndex,void(d=t.keys[e.index]||null)}c=null,d=null}function g(e,t){if(h=!(!t||!t.isTouch),e){const t=i.getLiveList(e.containerIndex);if(t)return f=e.containerIndex,void(p=t.keys[e.index])}f=null,p=null}function y(){l.length=0,m(null),g(null)}function v(e){const t=l[e];if(!t)return;const n=i.getLiveList(e);if(n)for(const r in t){let o=!n.hasKey(r);if(!o){const t=u[e];o=!!t&&t[r]}o&&delete t[r]}}function _(e,t){const n=[],o=e.containerIndex,a=t.containerIndex;for(let s=o;s<=a;s++){const l=s===o?e.index:0;let u;if(s===a)u=t.index;else{const e=i.getContainerLength(s);e>0&&(u=e-1)}if(void 0===u)n.push([]);else{const e=[];n.push(e);const t=i.getUri(s),o=r(t).get("rows");if(o){const t=o.keys;for(let n=l;n<u+1;n++)e.push(t[n])}}}return n}function b(e){const t=l[e];if(!t)return null;let n=[];const r=i.getLiveList(e),o=r.keys.filter(function(e){return!!t[e]});return r&&o.length&&(n=o.length>1?r.indexOfMany(o):[r.indexOf(o[0])]),n.length?n:null}t.selections=l,t.getOrigin=function(){if(null===c)return null;if(null===d)return null;const e=i.getLiveList(c);if(e){const t=e.keys.indexOf(d);return-1===t?null:new s(c,t)}return null},t.getFocus=function(){if(null===f)return null;if(null===p)return null;const e=i.getLiveList(f);if(e){const t=e.keys.indexOf(p);return new s(f,t)}return null},t.setOrigin=m,t.setFocus=g,t.wasFocusTriggeredByTouch=function(){return h},t.setHiddenIndices=function(e,t){const n=r(t).get("rows");if(n){const r=n.keys,o={};for(let t=0,n=e.length;t<n;t++){const n=r[e[t]];n&&(o[n]=!0)}const a=i.getContainerIndex(t);u[a]=o,v(a)}},t.isPositionHidden=function(e){const t=_(e,e)[0][0],n=u[e.containerIndex];return n&&n[t]},t.add=function(e,t){let n=t||e,r=e;if(-1===a.getDirection(r,n)){const e=r;r=n,n=e}const o=_(r,n);for(let e=0,t=o.length;e<t;e++){const t=r.containerIndex+e,n=l[t]||(l[t]=Object.create(null)),i=o[e],a=u[t];for(let e=0;e<i.length;e++){const t=i[e];a&&a[t]||(n[t]=!0)}}},t.remove=function(e,t){let n=t||e,r=e;if(-1===a.getDirection(r,n)){const e=r;r=n,n=e}const o=_(r,n);for(let e=0,t=o.length;e<t;e++){const t=r.containerIndex+e,n=l[t]||(l[t]=Object.create(null)),i=o[e];for(let e=0;e<i.length;e++)delete n[i[e]]}},t.clear=y,t.reset=function(){y(),u={}},t.updateContainer=v,t.isSelected=function(e){const t=l[e.containerIndex];if(!t)return!1;const n=i.getLiveList(e.containerIndex);if(n)return!!t[n.keys[e.index]];return!1},t.hasHoles=function(){let e=0;for(let t=0;t<l.length;t++){const n=l[t],r=i.getLiveList(t),o=Object.keys(n);if(o.length>0&&(e++,r)){const t=[];for(let e=0,n=o.length;e<n;e++)t.push(r.indexOf(o[e]));let n;t.sort(function(e,t){return e-t});for(let r=0,o=t.length;r<o;r++){const o=t[r];if(r>0&&o>n+1){e++;break}n=o}}if(e>1)return!0}return!1},t.hasSelection=function(){for(let e=0,t=l.length;e<t;e++)if(l[e]&&Object.keys(l[e]).length>0)return!0;return!1},t.getIndicesForContainer=b,t.getIndicesWithHiddenForContainer=function(e){let t=b(e);if(!t)return null;const n=u[e];if(!n)return t;const r=o.fromIndices(t);if(1===r.length)return t;const a=i.getLiveList(e);if(!a)return t;const s=Object.keys(n);let l=[];s.length&&(l=s.length>1?a.indexOfMany(s):[a.indexOf(s[0])]),l=l.filter(function(e){return e>-1});const c=o.fromIndices(l),d=c.map(function(e){return e.start}),f=c.map(function(e){return e.end});for(let e=0,n=r.length;e<n;e++){const n=r[e],o=r[e+1],i=d.indexOf(n.end);if(i>-1){const e=f[i];if(!o||e===o.start){const e=c[i].toIndices();e.length>0&&(t=t.concat(e))}}}return t.sort(function(e,t){return e-t}),t.length?t:null}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const o=n(7),i=n(68);let a=[];const s={getPlayerVariantUri:i.createEmptyMethod("getPlayerVariantUri"),handlePlayButton:i.createEmptyMethod("handlePlayButton"),handlePlayFromRow:i.createEmptyMethod("handlePlayFromRow")};function l(e,t){const n=t[0],r=i.getUriFromButton(n);if(!r)return;const o=s.getPlayerVariantUri(),a="queue"!==s.getPlayerTrackProvider()&&i.compareContexts(o,r),l=i.getAttributeValueFromNode(n,"data-play-source");s.handlePlayButton(n,{isPlayingContext:a,contextUri:r,source:l,reason:"playbtn"})}function u(e){const t=e[0],n=o(t.closest("[data-context]"));if(n&&!t.classList.contains("thumbs-down")){const e=i.getAttributeValueFromNode(t,"data-play-source");s.handlePlayFromRow(t,{contextUri:n.data("uri"),source:e,reason:"clickrow"})}}function c(e,t){i.isInteractiveElement(e.target)||u(t)}function d(e,t){if(13===e.keyCode){if(i.isFormOrLinkElement(e.target))return;e.preventDefault(),e.stopPropagation(),u(t)}}function f(e){a.push(e.type)}function p(e){a.push(e.type)}function h(e){a.push(e.type)}function m(e,t){1===a.length&&"touchstart"===a[0]&&(i.isInteractiveElement(e.target)||(e.preventDefault(),u(t))),a=[]}const g={selectorPlayButton:"[data-button=play]",selectorListRow:"[data-context] [data-list-item]",selectorPlayContextButton:"[data-button=play-context]"};let y=g;t.attach=function(){const e=o(document);e.delegate("keydown",y.selectorListRow,d),e.delegate("click",y.selectorPlayButton,l),e.delegate("click",y.selectorPlayContextButton,l),e.delegate("dblclick",y.selectorListRow,c),e.delegate("touchstart",y.selectorListRow,p),e.delegate("touchend",y.selectorListRow,m),e.delegate("touchmove",y.selectorListRow,h),e.delegate("contextmenu",y.selectorListRow,f)},t.detach=function(){const e=o(document);e.undelegate("keydown",y.selectorListRow,d),e.undelegate("click",y.selectorPlayButton,l),e.undelegate("click",y.selectorPlayContextButton,l),e.undelegate("dblclick",y.selectorListRow,c),e.undelegate("touchstart",y.selectorListRow,p),e.undelegate("touchend",y.selectorListRow,m),e.undelegate("touchmove",y.selectorListRow,h),e.undelegate("contextmenu",y.selectorListRow,f)},t.setSelectors=function(e={}){t.detach(),y=r({},g,e),t.attach()},t.setMethods=function(e){for(const t in e)e.hasOwnProperty(t)&&(s[t]=e[t])}},function(e,t){e.exports=[" ","\n","\r","\t","\f","\v","","","","","","","","","","","","","","","\u2028","\u2029","","",""]},function(e,t,n){var r=n(54);e.exports=function(e,t,n){t=r(t,n);var o=!0;if(null==e)return o;for(var i=-1,a=e.length;++i<a;)if(!t(e[i],i,e)){o=!1;break}return o}},function(e,t,n){"use strict";var r=a(n(486)),o=a(n(485)),i=a(n(484));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.gridOverlay=r,t.responsiveTitleType=o,t.attentionHighlight=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._setHeaders=function(e=l){i=e[r],s=e[o]},t.getWebgateHeaders=function(){return[function(){if(!i)throw new Error("Missing Spotify App Version! Something is wrong: talk to #desktop-squad.");return[r,i]}(),function(){if(!s)throw new Error("Missing App Platform! Something is wrong: talk to #desktop-squad.");return[o,s]}()]};const r="Spotify-App-Version",o="App-Platform";let i="undefined"!=typeof window&&window.__spotify&&window.__spotify.client_version||"";const a="undefined"!=typeof window&&window.navigator&&window.navigator.platform||"";let s="";-1!==a.indexOf("Mac")?s="OSX":-1!==a.indexOf("Win")?s="Win32":-1!==a.indexOf("Linux")&&(s="Linux");const l={};l[r]="default",l[o]="default"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getToken=function(){return new Promise((e,t)=>{r.default.resolver.get("sp://webgate/v1/token",(n,r)=>{if(n)return i("Error retrieving token from keymaster:",n),void t(n);const o=r.getJSONBody();if(o&&o.accessToken&&o.tokenType)return i("Retrieved access token, valid until: %s",new Date(o.expiresAtTime)),void e({accessToken:o.accessToken,tokenType:o.tokenType});const a="Error: missing accessToken or tokenType";i(a,o),t(new Error(a))})})};var r=o(n(9));function o(e){return e&&e.__esModule?e:{default:e}}const i=(0,o(n(6)).default)("http-requests:get-token")},function(e,t,n){"use strict";const r=function(e){return""===e||isNaN(e)?"true"===e||"false"!==e&&("null"===e?null:"undefined"!==e?e:void 0):+e};function o(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const i=`[^${",()"+o("[")+o("]")+"=\\s"}]`,a=new RegExp(i),s=new RegExp(`^${i}+$`),l=new RegExp(["=","!=",">=","<=",">","<","^=","$=","~=","|=","*="].map(o).join("|")),u=/\$([\d]+)/,c=/^(\d*):(\d*)$/;e.exports=function(e,t=[]){let n={mask:[]};const o=[n];let i,d="",f="",p="",h="",m="";for(let g=0;g<e.length+1;g++){const y=e.charAt(g);if(i){if(f=f.trim(),","===y||"]"===y){const e=f.match(c),o=f.match(l),a=f.match(s);if(e)p=e[1],m=":",h=e[2];else if(o)p=f.substring(0,o.index),m=o[0],h=f.substring(o.index+m.length);else{if(!a)throw new SyntaxError(`syntax error: \`${f}\` contains characters not valid in a filter`);p=a[0]}f="";const d={};if(p){const e=p.match(u);p=e?t[+e[1]]:r(p),d.left=p}if(m&&(d.op=m),h){const e=h.match(u);h=e?t[+e[1]]:r(h),d.right=h}("left"in d||"right"in d)&&i.push(d),h="",p="",m="","]"===y&&(i.length&&(n.filters||(n.filters=[])).push(i),i=null);continue}f+=y}else{if(y&&a.test(y))d+=y;else if(!d||y&&","!==y&&"("!==y&&"["!==y&&")"!==y){if(y&&d)throw new SyntaxError(`syntax error: \`${y}\` is not a valid character in a key`)}else{const e=d.match(u);o[0].mask.push(n={key:e?t[+e[1]]:r(d)}),d=""}"("===y?(n.mask=[],o.unshift(n)):")"===y&&o.shift(),"["===y&&(i=[])}}if(1!==o.length)throw new SyntaxError("syntax error");return o[0]}},function(e,t,n){var r=n(30);e.exports=function(e,t){if(null==t)return e;for(var n=-1,o=t.length;++n<o;)-1===r(e,t[n])&&e.push(t[n]);return e}},function(e,t){e.exports=function(e,t,n){var r=e.length;t=null==t?0:t<0?Math.max(r+t,0):Math.min(t,r),n=null==n?r:n<0?Math.max(r+n,0):Math.min(n,r);for(var o=[];t<n;)o.push(e[t++]);return o}},function(e,t,n){var r=n(74),o=Array.isArray||function(e){return r(e,"Array")};e.exports=o},function(e,t,n){var r=n(180),o=n(41),i=n(179),a=n(10),s=n(110);e.exports=function(e){var t=s(arguments,1);return o(r(e),function(e){return!i(t,function(t){return a(t,e)})})}},function(e,t,n){"use strict";const r=n(556),o=n(33);e.exports={schema:r,log:o.bind(null,r)}},function(e,t,n){var r=n(640),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){var r=n(644);e.exports=function(e){return r(2,e)}},function(e,t){function n(){}function r(e,t){return Math.floor(Math.random()*(t-e+1))+e}n.maxFromBits=function(e){return Math.pow(2,e)},n.limitUI04=n.maxFromBits(4),n.limitUI06=n.maxFromBits(6),n.limitUI08=n.maxFromBits(8),n.limitUI12=n.maxFromBits(12),n.limitUI14=n.maxFromBits(14),n.limitUI16=n.maxFromBits(16),n.limitUI32=n.maxFromBits(32),n.limitUI40=n.maxFromBits(40),n.limitUI48=n.maxFromBits(48),n.randomUI04=function(){return r(0,n.limitUI04-1)},n.randomUI06=function(){return r(0,n.limitUI06-1)},n.randomUI08=function(){return r(0,n.limitUI08-1)},n.randomUI12=function(){return r(0,n.limitUI12-1)},n.randomUI14=function(){return r(0,n.limitUI14-1)},n.randomUI16=function(){return r(0,n.limitUI16-1)},n.randomUI32=function(){return r(0,n.limitUI32-1)},n.randomUI40=function(){return(0|Math.random()*(1<<30))+(0|1024*Math.random())*(1<<30)},n.randomUI48=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},n.paddedString=function(e,t,n){e=String(e),n=n||"0";for(var r=t-e.length;r>0;r>>>=1,n+=n)1&r&&(e=n+e);return e},n.prototype.fromParts=function(e,t,r,o,i,a){return this.version=r>>12&15,this.hex=n.paddedString(e.toString(16),8)+"-"+n.paddedString(t.toString(16),4)+"-"+n.paddedString(r.toString(16),4)+"-"+n.paddedString(o.toString(16),2)+n.paddedString(i.toString(16),2)+"-"+n.paddedString(a.toString(16),12),this},n.prototype.toString=function(){return this.hex},n.prototype.toURN=function(){return"urn:uuid:"+this.hex},n.prototype.toBytes=function(){for(var e=this.hex.split("-"),t=[],n=0,r=0;r<e.length;r++)for(var o=0;o<e[r].length;o+=2)t[n++]=parseInt(e[r].substr(o,2),16);return t},n.prototype.equals=function(e){return e instanceof UUID&&this.hex===e.hex},n.getTimeFieldValues=function(e){var t=e-Date.UTC(1582,9,15),n=t/4294967296*1e4&268435455;return{low:1e4*(268435455&t)%4294967296,mid:65535&n,hi:n>>>16,timestamp:t}},n._create4=function(){return(new n).fromParts(n.randomUI32(),n.randomUI16(),16384|n.randomUI12(),128|n.randomUI06(),n.randomUI08(),n.randomUI48())},n._create1=function(){var e=(new Date).getTime(),t=n.randomUI14(),r=1099511627776*(1|n.randomUI08())+n.randomUI40(),o=n.randomUI04(),i=0;e!=i?(e<i&&t++,i=e,o=n.randomUI04()):Math.random()<.25&&o<9984?o+=1+n.randomUI04():t++;var a=n.getTimeFieldValues(i),s=a.low+o,l=4095&a.hi|4096,u=(t&=16383)>>>8|128,c=255&t;return(new n).fromParts(s,a.mid,l,u,c,r)},n.create=function(e){return this["_create"+(e=e||4)]()},n.fromTime=function(e,t){t=t||!1;var r=n.getTimeFieldValues(e),o=r.low,i=4095&r.hi|4096;return!1===t?(new n).fromParts(o,r.mid,i,0,0,0):(new n).fromParts(o,r.mid,i,128|n.limitUI06,n.limitUI08-1,n.limitUI48-1)},n.firstFromTime=function(e){return n.fromTime(e,!1)},n.lastFromTime=function(e){return n.fromTime(e,!0)},n.fromURN=function(e){var t;return(t=/^(?:urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(?:\})?$/i.exec(e))?(new n).fromParts(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),parseInt(t[4],16),parseInt(t[5],16),parseInt(t[6],16)):null},n.fromBytes=function(e){if(e.length<5)return null;for(var t="",r=0,o=[4,2,2,2,6],i=0;i<o.length;i++){for(var a=0;a<o[i];a++){var s=e[r++].toString(16);1==s.length&&(s="0"+s),t+=s}6!==o[i]&&(t+="-")}return n.fromURN(t)},n.fromBinary=function(e){for(var t=[],r=0;r<e.length;r++)if(t[r]=e.charCodeAt(r),t[r]>255||t[r]<0)throw new Error("Unexpected byte in binary data.");return n.fromBytes(t)},n.new=function(){return this.create(4)},n.newTS=function(){return this.create(1)},e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=(e=>{try{return JSON.parse(e)}catch(e){return null}})},function(e,t,n){(function(t){var r=n(35);e.exports=function(e,n){r.function(e),r.function(n),e.prototype=t.Object.create(n.prototype),e.prototype.constructor=e}}).call(this,n(1))},function(e,t,n){"use strict";var r=i(n(9)),o=i(n(677));function i(e){return e&&e.__esModule?e:{default:e}}let a=[];function s(e,t){r.default.resolver.post({url:"sp://abba/v1/flags",body:{flags:e}},(e,n)=>{if(e)t(e);else{const{flags:e=[]}=n.getJSONBody();t(null,e)}})}function l(e,t){const n=u();if(n.hasOwnProperty(e))return console.warn(`Abba: Override for ${e} : ${n[e]}`),void setTimeout(()=>t(null,n[e]),0);s([e],(n,r)=>{if(n)return void t(n);const o=r[0]&&r[0].featureName===e&&r[0].cell;t(null,o||null)})}function u(){const e="undefined"!=typeof __spotify&&__spotify.product_state?__spotify.product_state.abbaOverrides||__spotify.product_state.abbaoverrides:"";if(e)try{return JSON.parse(e)}catch(t){console.error("error parsing value=%o, error=%o",e,t)}return{}}e.exports={get:l,subscribe:function(e,t){let n;const o=e=>{e!==n&&(n=e,t(null,e))};let i=r.default.resolver.subscribe({url:"sp://abba/v1/flags",body:{flags:[e]}},n=>{n?t(n):l(e,(e,n)=>{e?t(e):o(n)})}),s={cancel:()=>{i&&i.cancel();const t=a[e].indexOf(s);-1!==t&&a[e].splice(t,1),s=i=null},_update:o};e in a||(a[e]=[]);return a[e].push(s),s},clearSubscriptions:function(){a=[]},fetch:function e(t){if("string"==typeof t)return e([t]).then(e=>e[t]);const n={};const r=u();const o=t.reduce((e,t)=>(r.hasOwnProperty(t)?(console.warn(`Abba: Override for ${t} : ${r[t]}`),n[t]=r[t]):e.push(t),e),[]);if(!o.length)return Promise.resolve(n);return new Promise((e,r)=>{s(o,(o,i)=>{o?r(o):(i.forEach(e=>{n[e.featureName]=e.cell}),Object.keys(n).length!==t.length&&t.forEach(e=>{n.hasOwnProperty(e)||(n[e]=null)}),e(n))})})}},"undefined"!=typeof window&&(window.abba={get:l,getAll:function(e){console.warn("Abba:getAll should only be used by TA tests for logging purposes."),r.default.resolver.get({url:"sp://abba/v1/all_flags",body:{}},(t,n)=>{if(t)e(t);else{const{flags:t=[]}=n.getJSONBody(),r=t.reduce((e,t)=>(e[t.featureName]=t.cell,e),{});e(null,(0,o.default)(r,{space:2}))}})},getRequestedFlagNames:function(e){r.default.resolver.get({url:"sp://abba/v1/requested_flag_names",body:{}},(t,n)=>{t?e(t):e(null,JSON.stringify(n.getJSONBody().sort(),null,2))})}})},function(e,t,n){(function(t){var r=n(203),o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function i(e){return void 0===e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function u(){if(!("fetch"in o))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function c(e,t){var n,r;if(i(e.length))for(n in e)f(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function d(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+""}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e){for(var t,n=[],r=0,o=e.length;r<o;r++)s(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function h(e){var t,n,r,o,i,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),(t=e.className)&&s(t))for(n=t.split(/\s+/),i=0;i<n.length;i++)a.push("."+n[i]);var l=["type","name","title","alt"];for(i=0;i<l.length;i++)r=l[i],(o=e.getAttribute(r))&&a.push("["+r+'="'+o+'"]');return a.join("")}function m(e,t){return!!(!!e^!!t)}function g(e,t){if(m(e,t))return!1;var n,r,o=e.frames,i=t.frames;if(void 0===o||void 0===i)return!1;if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++)if(n=o[a],r=i[a],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}var y=3,v=51200,_=40;function b(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function w(e){if("string"==typeof e){return d(e,40)}if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}e.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:i,isFunction:function(e){return"function"==typeof e},isPlainObject:a,isString:s,isArray:l,isEmptyObject:function(e){if(!a(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:u,supportsReferrerPolicy:function(){if(!u())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(e){return function(t,n){var r=e(t)||t;return n&&n(r)||r}},each:c,objectMerge:function(e,t){return t?(c(t,function(t,n){e[t]=n}),e):e},truncate:d,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:f,joinRegExp:p,urlencode:function(e){var t=[];return c(e,function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.join("&")},uuid4:function(){var e=o.crypto||o.msCrypto;if(!i(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},htmlTreeAsString:function(e){for(var t,n=[],r=0,o=0,i=" > ".length;e&&r++<5&&!("html"===(t=h(e))||r>1&&o+n.length*i+t.length>=80);)n.push(t),o+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:h,isSameException:function(e,t){return!m(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&!function(e,t){return i(e)&&i(t)}(e.stacktrace,t.stacktrace)&&g(e.stacktrace,t.stacktrace))},isSameStacktrace:g,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}},fill:function(e,t,n,r){if(null!=e){var o=e[t];e[t]=n(o),e[t].__raven__=!0,e[t].__orig__=o,r&&r.push([e,t,o])}},safeJoin:function(e,t){if(!l(e))return"";for(var n=[],r=0;r<e.length;r++)try{n.push(String(e[r]))}catch(e){n.push("[value cannot be serialized]")}return n.join(t)},serializeException:function e(t,n,o){if(!a(t))return t;o="number"!=typeof(n="number"!=typeof n?y:n)?v:o;var i=function e(t,n){return 0===n?w(t):a(t)?Object.keys(t).reduce(function(r,o){return r[o]=e(t[o],n-1),r},{}):Array.isArray(t)?t.map(function(t){return e(t,n-1)}):w(t)}(t,n);return b(r(i))>o?e(t,n-1):i},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter(function(e){return"string"==typeof e})).length)return"[object has no keys]";if(t="number"!=typeof t?_:t,e[0].length>=t)return e[0];for(var n=e.length;n>0;n--){var r=e.slice(0,n).join(", ");if(!(r.length>t))return n===e.length?r:r+""}return""},sanitize:function(e,t){if(!l(t)||l(t)&&0===t.length)return e;var n,o=p(t),i="********";try{n=JSON.parse(r(e))}catch(t){return e}return function e(t){return l(t)?t.map(function(t){return e(t)}):a(t)?Object.keys(t).reduce(function(n,r){return o.test(r)?n[r]=i:n[r]=e(t[r]),n},{}):t}(n)}}}).call(this,n(1))},function(e,t,n){"use strict";(function(e,r){var o,i=n(204);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n(1),n(653)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(82)),i=s(n(16)),a=s(n(23));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e,t,n,s){r.default.check.type(e,HTMLElement),r.default.check.type(t,o.default),r.default.check.type(n,i.default),r.default.check.type(s,a.default),this._htmlElement=e,this._application=t,this._configuration=n,this._environment=s}bootstrap(){this._environment.registerSpotifyLiveModels(),this._environment.attachSpotifyEvents(),this._environment.updateSpotifyEventsIn(this._htmlElement),this._environment.listenForOverlayGrid(),this._configuration.getCurrentState(e=>{const t=e.getStringOr("user/language","en");this._environment.registerSpotifyHandlebarsHelpersFor(t),e.getBooleanOr("user/employee",!1)&&this._application.addDebugView();const n=e.getStringOr("app/arguments","");n?this._application.onArgumentsChange([n]):this._environment.queryApplicationArguments(e=>{this._application.onArgumentsChange(e),this._environment.listenForApplicationArgumentsChanges(e=>{this._application.onArgumentsChange(e)})}),this._environment.listenForSessionOnlineStatusChanges(e=>{e&&this._application.queryApplicationArgumentsAndReload()})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),o=u(n(87)),i=u(n(45)),a=u(n(16)),s=u(n(90)),l=u(n(48));function u(e){return e&&e.__esModule?e:{default:e}}t.default=class extends s.default{constructor(e,t,n,o){super(),r.default.check.type(e,i.default),r.default.check.type(t,l.default),r.default.check.type(n,a.default),r.default.check.function(o),this._backend=e,this._viewParser=t,this._configuration=n,this._dateCreator=o}request(e,t){r.default.check.string(e),r.default.check.function(t),-1===e.indexOf("?")?this._requestWithDefaultParameters(e,t):this._requestWithUriParameters(e,t)}responds(e){return r.default.check.string(e),/^hm:\/\/hubview\//.test(e)}_requestWithDefaultParameters(e,t){r.default.check.string(e),r.default.check.function(t),this._configuration.getCurrentState(n=>{const r=[],i=this._dateCreator(),a=encodeURIComponent((0,o.default)(i));if(r.push(`date-time=${a}`),n.hasString("user/catalogue")){const e=n.getString("user/catalogue"),t=encodeURIComponent(e);r.push(`catalogue=${t}`)}if(n.hasString("client/version")){const e=n.getString("client/version"),t=encodeURIComponent(e);r.push(`client-version=${t}`)}if(n.hasString("user/country")){const e=n.getString("user/country"),t=encodeURIComponent(e);r.push(`country=${t}`)}if(n.hasString("user/language")){const e=n.getString("user/language"),t=encodeURIComponent(e);r.push(`locale=${t}`)}if(n.hasString("user/username")){const e=n.getString("user/username"),t=encodeURIComponent(e);r.push(`username=${t}`)}if(!n.getBooleanOr("caching/enabled",!0)){const e=i.getTime();r.push(`no-cache=${e}`)}const s=r.join("&"),l=`${e}?${s}`;this._requestWithUriParameters(l,t)})}_requestWithUriParameters(e,t){r.default.check.string(e),r.default.check.function(t),this._backend.request(e,e=>{let n=null;r.default.conforms(e,{root:{}})&&(n=this._viewParser.parse(e.root)),t(n)})}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"no-overflow-menu"},3:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(273),t,{name:"./navbar-item.hbs",data:i,indent:"          ",helpers:r,partials:o,decorators:e.decorators}))?a:""},5:function(e,t,n,r,o){return'          <li class="overflow-menu-button" data-navbar-item-id="navbar-overflow-menu">\n            <a data-interaction-target="menu-overflow-button" data-interaction-intent="show-overflowed-menu">'+e.escapeExpression((n.loc||t&&t.loc||n.helperMissing).call(null!=t?t:e.nullContext||{},"More",{name:"loc",hash:{},data:o}))+"</a>\n          </li>\n"},7:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.facePile:t)?i.users:i,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.noop,data:o}))?i:""},8:function(e,t,r,o,i){var a;return'            <div class="navbar-right facepile-list-container">\n'+(null!=(a=e.invokePartial(n(125),null!=t?t.facePile:t,{name:"./facepile.hbs",data:i,indent:"              ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c=e.escapeExpression,d='<div class="navbar-fixed-wrapper" data-sticky-fixed-wrapper>\n  <div class="navbar" data-sticky="true">\n    <div class="container">\n      <ul class="nav navbar-nav '+(null!=(i=n.if.call(l,null!=t?t.noOverflowMenu:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'"\n        data-navbar="navbar"\n        data-navbar-history-position="'+c("function"==typeof(a=null!=(a=n.historyPosition||(null!=t?t.historyPosition:t))?a:u)?a.call(l,{name:"historyPosition",hash:{},data:o}):a)+'"\n        data-navbar-active-id="'+c("function"==typeof(a=null!=(a=n.activeTab||(null!=t?t.activeTab:t))?a:u)?a.call(l,{name:"activeTab",hash:{},data:o}):a)+'"\n        data-log-context="navbar"\n        data-interaction-context="navbar"\n        data-interaction-list\n        >\n';return a=null!=(a=n["nav-items"]||(null!=t?t["nav-items"]:t))?a:u,s={name:"nav-items",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o},i="function"==typeof a?a.call(l,s):a,n["nav-items"]||(i=n.blockHelperMissing.call(t,i,s)),null!=i&&(d+=i),d+(null!=(i=n.unless.call(l,null!=t?t.noOverflowMenu:t,{name:"unless",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+(null!=(i=n.if.call(l,null!=t?t.facePile:t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o}))?i:"")+"      </ul>\n    </div>\n  </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a;return'<div class="facepile-list">\n'+(null!=(a=e.invokePartial(n(275),t,{name:"./facepile-common.hbs",data:i,indent:"\t",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i=null!=t?t:e.nullContext||{},a=n.helperMissing,s=e.escapeExpression;return'  <div class="b-add-text">'+s((n.loc||t&&t.loc||a).call(i,"Save",{name:"loc",hash:{},data:o}))+'</div>\n  <div class="b-added-text b-alt-text">'+s((n.loc||t&&t.loc||a).call(i,"Saved",{name:"loc",hash:{},data:o}))+'</div>\n  <div class="b-remove-text b-alt-text">'+s((n.loc||t&&t.loc||a).call(i,"Remove",{name:"loc",hash:{},data:o}))+"</div>\n"},3:function(e,t,n,r,o){var i=null!=t?t:e.nullContext||{},a=n.helperMissing,s=e.escapeExpression;return'  <div class="b-add-text">'+s((n.loc||t&&t.loc||a).call(i,"Follow",{name:"loc",hash:{},data:o}))+'</div>\n  <div class="b-added-text b-alt-text">'+s((n.loc||t&&t.loc||a).call(i,"Following",{name:"loc",hash:{},data:o}))+'</div>\n  <div class="b-remove-text b-alt-text">'+s((n.loc||t&&t.loc||a).call(i,"Unfollow",{name:"loc",hash:{},data:o}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing;return(null!=(i=(n.type||t&&t.type||s).call(a,null!=t?t.uri:t,"track","album",{name:"type",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"\n"+(null!=(i=(n.type||t&&t.type||s).call(a,null!=t?t.uri:t,"playlist","user","artist","station","show",{name:"type",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"data-contextmenu"},3:function(e,t,n,r,o){return'draggable="true"'},5:function(e,t,n,r,o){return"    data-glue-page-header-use-large-title\n"},7:function(e,t,n,r,o){var i;return'    style="color: '+e.escapeExpression("function"==typeof(i=null!=(i=n.titleColor||(null!=t?t.titleColor:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"titleColor",hash:{},data:o}):i)+'"\n'},9:function(e,t,n,r,o){var i,a;return"      "+(null!=(i="function"==typeof(a=null!=(a=n.titleHTML||(null!=t?t.titleHTML:t))?a:n.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"titleHTML",hash:{},data:o}):a)?i:"")+"\n"},11:function(e,t,n,r,o){var i;return"      "+e.escapeExpression("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:o}):i)+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{};return'<h1\n  class="glue-page-header__title"\n  data-uri="'+e.escapeExpression("function"==typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:n.helperMissing)?a.call(s,{name:"uri",hash:{},data:o}):a)+'"\n  data-ta-id="page-header-title"\n  '+(null!=(i=n.if.call(s,null!=t?t.enableContextMenu:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"\n  "+(null!=(i=n.if.call(s,null!=t?t.enableDragging:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+"\n  data-glue-page-header-title\n"+(null!=(i=n.if.call(s,null!=t?t.useLargeTitle:t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+(null!=(i=n.if.call(s,null!=t?t.titleColor:t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o}))?i:"")+'>\n  <span dir="auto" class="glue-page-header__title-text">\n'+(null!=(i=n.if.call(s,null!=t?t.titleHTML:t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.program(11,o,0),data:o}))?i:"")+"  </span>\n</h1>"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a;return'  <div class="glue-page-header__image">\n    <div class="glue-page-header__image-inner">\n      '+(null!=(i="function"==typeof(a=null!=(a=n.imageHTML||(null!=t?t.imageHTML:t))?a:n.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"imageHTML",hash:{},data:o}):a)?i:"")+"\n    </div>\n  </div>\n"},3:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.image:t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o}))?i:""},4:function(e,t,r,o,i){var a;return'    <div class="glue-page-header__image">\n      <div class="glue-page-header__image-inner">\n'+(null!=(a=e.invokePartial(n(285),null!=t?t.image:t,{name:"../../../cards/card-without-link.hbs",data:i,indent:"        ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"      </div>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.imageHTML:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:""},usePartial:!0,useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"      glue-page-header--with-navbar\n"},3:function(e,t,n,r,o){return"      glue-page-header--with-count-label\n"},5:function(e,t,n,r,o){return"      glue-page-header--with-responsive-height-small\n"},7:function(e,t,n,r,o){return"      glue-page-header--with-responsive-height-large\n"},9:function(e,t,n,r,o){return"      glue-page-header--"+e.escapeExpression((n.type||t&&t.type||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.uri:t,{name:"type",hash:{},data:o}))+"\n"},11:function(e,t,n,r,o){var i;return'    data-uri="'+e.escapeExpression("function"==typeof(i=null!=(i=n.uri||(null!=t?t.uri:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"uri",hash:{},data:o}):i)+'"\n'},13:function(e,t,n,r,o){return"    data-context\n"},15:function(e,t,n,r,o){return'    data-glue-page-header-sticky-height="160"\n'},17:function(e,t,n,r,o){return'    data-glue-page-header-sticky-height="116"\n'},19:function(e,t,n,r,o){var i;return'    <div class="row">\n      <div class="'+e.escapeExpression("function"==typeof(i=null!=(i=n.gridClasses||(null!=t?t.gridClasses:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"gridClasses",hash:{},data:o}):i)+'">\n'},21:function(e,t,n,r,o){return"          glue-page-header__content--with-custom-image-size\n"},23:function(e,t,n,r,o){return"          glue-page-header__content--with-button-placement-left\n"},25:function(e,t,n,r,o){return"            glue-page-header__spacer--large\n"},27:function(e,t,n,r,o){return"      </div>\n    </div>\n"},29:function(e,t,n,r,o){var i;return'        <div class="row">\n          <div class="'+e.escapeExpression("function"==typeof(i=null!=(i=n.gridClasses||(null!=t?t.gridClasses:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"gridClasses",hash:{},data:o}):i)+'">\n'},31:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(128),t,{name:"./internal/page-header/image.hbs",data:i,indent:"            ",helpers:r,partials:o,decorators:e.decorators}))?a:""},33:function(e,t,n,r,o){return"          </div>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a,s,l=null!=t?t:e.nullContext||{};return'<header\n  class="\n    glue-page-header\n'+(null!=(a=r.if.call(l,null!=t?t.navBar:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?a:"")+(null!=(a=r.if.call(l,null!=t?t.countLabel:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?a:"")+(null!=(a=r.if.call(l,null!=t?t.useResponsiveHeightSmall:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?a:"")+(null!=(a=r.if.call(l,null!=t?t.useResponsiveHeightLarge:t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?a:"")+(null!=(a=r.if.call(l,null!=t?t.uri:t,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?a:"")+"\n    "+e.escapeExpression("function"==typeof(s=null!=(s=r.modifiers||(null!=t?t.modifiers:t))?s:r.helperMissing)?s.call(l,{name:"modifiers",hash:{},data:i}):s)+'\n  "\n  data-glue-page-header\n  data-ta-id="page-header"\n\n'+(null!=(a=r.if.call(l,null!=t?t.uri:t,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?a:"")+"\n"+(null!=(a=r.if.call(l,null!=(a=null!=t?t.buttons:t)?a.playButton:a,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?a:"")+"\n"+(null!=(a=r.if.call(l,null!=t?t.navBar:t,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.program(17,i,0),data:i}))?a:"")+">\n"+(null!=(a=e.invokePartial(n(284),t,{name:"./internal/page-header/background.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+'\n  <div\n    class="\n      glue-page-header__content-wrapper\n      container\n    "\n    data-glue-page-header-content\n  >\n'+(null!=(a=r.if.call(l,null!=t?t.gridClasses:t,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?a:"")+'\n    <div\n      class="\n        glue-page-header__content\n'+(null!=(a=r.if.call(l,null!=t?t.useCustomImageSize:t,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?a:"")+(null!=(a=r.if.call(l,null!=(a=null!=t?t.buttons:t)?a.buttonPlacementLeft:a,{name:"if",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?a:"")+'      "\n    >\n      <div class="glue-page-header__content-inner" data-ta-id="page-header-inner-content">\n'+(null!=(a=e.invokePartial(n(128),t,{name:"./internal/page-header/image.hbs",data:i,indent:"        ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+'\n        <div class="glue-page-header__data">\n'+(null!=(a=e.invokePartial(n(283),t,{name:"./internal/page-header/label.hbs",data:i,indent:"          ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(127),t,{name:"./internal/page-header/title.hbs",data:i,indent:"          ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(282),t,{name:"./internal/page-header/description.hbs",data:i,indent:"          ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(281),t,{name:"./internal/page-header/meta-info.hbs",data:i,indent:"          ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(83),t,{name:"./internal/page-header/buttons.hbs",data:i,indent:"          ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(276),t,{name:"./internal/page-header/count-label.hbs",data:i,indent:"          ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+'        </div>\n\n        <div class="\n          glue-page-header__spacer\n'+(null!=(a=r.if.call(l,null!=t?t.useLargeSpacer:t,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?a:"")+'        ">\n        </div>\n      </div>\n\n'+(null!=(a=e.invokePartial(n(83),t,{name:"./internal/page-header/buttons.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"    </div>\n\n"+(null!=(a=r.if.call(l,null!=t?t.gridClasses:t,{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?a:"")+'  </div>\n\n  <div\n    class="glue-page-header__sticky-wrapper"\n    data-sticky-fixed-wrapper\n    aria-hidden="true"\n  >\n    <div class="glue-page-header__sticky" data-sticky>\n      <div class="container">\n'+(null!=(a=r.if.call(l,null!=t?t.gridClasses:t,{name:"if",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))?a:"")+'\n        <div class="glue-page-header__sticky-inner">\n'+(null!=(a=r.unless.call(l,null!=t?t.hideImageInStickyHeader:t,{name:"unless",hash:{},fn:e.program(31,i,0),inverse:e.noop,data:i}))?a:"")+(null!=(a=e.invokePartial(n(127),t,{name:"./internal/page-header/title.hbs",data:i,indent:"          ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(83),t,{name:"./internal/page-header/buttons.hbs",data:i,indent:"          ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"        </div>\n\n"+(null!=(a=r.if.call(l,null!=t?t.gridClasses:t,{name:"if",hash:{},fn:e.program(33,i,0),inverse:e.noop,data:i}))?a:"")+"      </div>\n    </div>\n  </div>\n\n"+(null!=(a=e.invokePartial(n(274),t,{name:"./internal/page-header/navbar.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"</header>\n"},usePartial:!0,useData:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default=class{constructor(e,t){r.default.check.type(e,HTMLDocument),r.default.check.type(t,Element),this._targetElement=t,this._placeholderElement=e.createElement(t.nodeName),this._placeholderElement.style.setProperty("display","none")}showPlaceholderElement(){const e=this._targetElement.parentNode;null!==e&&e.replaceChild(this._placeholderElement,this._targetElement)}showTargetElement(){const e=this._placeholderElement.parentNode;null!==e&&e.replaceChild(this._targetElement,this._placeholderElement)}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing;return'        <h1 class="error-content-title">'+e.escapeExpression((n.loc||t&&t.loc||s).call(a,"ErrorTitle",{name:"loc",hash:{},data:o}))+'</h1>\n        <div class="message">'+(null!=(i=(n.loc||t&&t.loc||s).call(a,"ErrorMessage",{name:"loc",hash:{},data:o}))?i:"")+"</div>\n"},3:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing;return'        <h1 class="error-content-title">'+e.escapeExpression("function"==typeof(a=null!=(a=n.errorTitle||(null!=t?t.errorTitle:t))?a:l)?a.call(s,{name:"errorTitle",hash:{},data:o}):a)+'</h1>\n        <div class="message">'+(null!=(i="function"==typeof(a=null!=(a=n.errorMessage||(null!=t?t.errorMessage:t))?a:l)?a.call(s,{name:"errorMessage",hash:{},data:o}):a)?i:"")+"</div>\n"},5:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'        <button\n          class="button button-white"\n          data-button-link="'+l("function"==typeof(i=null!=(i=n.errorEscapeUrl||(null!=t?t.errorEscapeUrl:t))?i:s)?i.call(a,{name:"errorEscapeUrl",hash:{},data:o}):i)+'"\n          data-log-click="error-escape"\n        >\n          '+l("function"==typeof(i=null!=(i=n.errorEscapeMessage||(null!=t?t.errorEscapeMessage:t))?i:s)?i.call(a,{name:"errorEscapeMessage",hash:{},data:o}):i)+"\n        </a>\n"},7:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing;return'        <h1 class="offline-content-title">'+e.escapeExpression((n.loc||t&&t.loc||s).call(a,"OfflineTitle",{name:"loc",hash:{},data:o}))+'</h1>\n        <div class="message">'+(null!=(i=(n.loc||t&&t.loc||s).call(a,"OfflineMessage",{name:"loc",hash:{},data:o}))?i:"")+"</div>\n"},9:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing;return'        <h1 class="offline-content-title">'+e.escapeExpression("function"==typeof(a=null!=(a=n.offlineTitle||(null!=t?t.offlineTitle:t))?a:l)?a.call(s,{name:"offlineTitle",hash:{},data:o}):a)+'</h1>\n        <div class="message">'+(null!=(i="function"==typeof(a=null!=(a=n.offlineMessage||(null!=t?t.offlineMessage:t))?a:l)?a.call(s,{name:"offlineMessage",hash:{},data:o}):a)?i:"")+"</div>\n"},11:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'        <button\n          class="button button-white"\n          data-button-link="'+l("function"==typeof(i=null!=(i=n.offlineEscapeUrl||(null!=t?t.offlineEscapeUrl:t))?i:s)?i.call(a,{name:"offlineEscapeUrl",hash:{},data:o}):i)+'"\n          data-log-click="offline-escape"\n        >\n          '+l("function"==typeof(i=null!=(i=n.offlineEscapeMessage||(null!=t?t.offlineEscapeMessage:t))?i:s)?i.call(a,{name:"offlineEscapeMessage",hash:{},data:o}):i)+"\n        </button>\n"},13:function(e,t,n,r,o){var i;return'  <div class="error-version">'+e.escapeExpression("function"==typeof(i=null!=(i=n.errorVersion||(null!=t?t.errorVersion:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"errorVersion",hash:{},data:o}):i)+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{};return'<div class="error-and-offline" data-log-context="error-and-offline">\n  <div class="container">\n    <div class="error-content">\n'+(null!=(i=n.if.call(a,null!=t?t.useDefaultError:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:"")+(null!=(i=n.if.call(a,null!=t?t.errorEscapeMessage:t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+'    </div>\n    <div class="offline-content">\n'+(null!=(i=n.if.call(a,null!=t?t.useDefaultOffline:t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.program(9,o,0),data:o}))?i:"")+(null!=(i=n.if.call(a,null!=t?t.offlineEscapeMessage:t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o}))?i:"")+"    </div>\n  </div>\n"+(null!=(i=n.if.call(a,null!=t?t.errorVersion:t,{name:"if",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o}))?i:"")+"</div>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return'  <button\n    type="button"\n    class="button button-play button-icon-with-stroke card-button-play"\n    data-ta-id="card-button-play"\n    data-log-click="play-button"\n    data-interaction-target="play-pause-button"\n    data-interaction-intent="play"\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.range:t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(5,o,0),data:o}))?i:"")+"  >\n  </button>\n"},2:function(e,t,n,r,o){var i,a,s,l='      data-button="play"\n      ';return a=null!=(a=n.range||(null!=t?t.range:t))?a:n.helperMissing,s={name:"range",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o},i="function"==typeof a?a.call(null!=t?t:e.nullContext||{},s):a,n.range||(i=n.blockHelperMissing.call(t,i,s)),null!=i&&(l+=i),l+"\n"},3:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'data-range="'+l("function"==typeof(i=null!=(i=n.start||(null!=t?t.start:t))?i:s)?i.call(a,{name:"start",hash:{},data:o}):i)+","+l("function"==typeof(i=null!=(i=n.end||(null!=t?t.end:t))?i:s)?i.call(a,{name:"end",hash:{},data:o}):i)+'"'},5:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{};return(null!=(i=n.if.call(a,null!=t?t.contextPage:t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.program(9,o,0),data:o}))?i:"")+(null!=(i=n.if.call(a,null!=t?t.contextIndex:t,{name:"if",hash:{},fn:e.program(15,o,0),inverse:e.noop,data:o}))?i:"")},6:function(e,t,n,r,o){var i,a,s,l='        data-button="play"\n        ';return a=null!=(a=n.contextPage||(null!=t?t.contextPage:t))?a:n.helperMissing,s={name:"contextPage",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o},i="function"==typeof a?a.call(null!=t?t:e.nullContext||{},s):a,n.contextPage||(i=n.blockHelperMissing.call(t,i,s)),null!=i&&(l+=i),l+"\n"},7:function(e,t,n,r,o){return'data-context-page="'+e.escapeExpression(e.lambda(t,t))+'"'},9:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.trackUri:t,{name:"if",hash:{},fn:e.program(10,o,0),inverse:e.program(13,o,0),data:o}))?i:""},10:function(e,t,n,r,o){var i,a,s,l="          ";return a=null!=(a=n.trackUri||(null!=t?t.trackUri:t))?a:n.helperMissing,s={name:"trackUri",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o},i="function"==typeof a?a.call(null!=t?t:e.nullContext||{},s):a,n.trackUri||(i=n.blockHelperMissing.call(t,i,s)),null!=i&&(l+=i),l+'\n          data-button="play"\n'},11:function(e,t,n,r,o){return'data-track-uri="'+e.escapeExpression(e.lambda(t,t))+'"'},13:function(e,t,n,r,o){return'          data-button="play-context"\n'},15:function(e,t,n,r,o){var i;return'        data-context-index="'+e.escapeExpression("function"==typeof(i=null!=(i=n.contextIndex||(null!=t?t.contextIndex:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"contextIndex",hash:{},data:o}):i)+'"\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=(n.type||t&&t.type||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.uri:t,"playlist","track","album","station","artist","episode","collection-album","collection-artist","show","dailymix",{name:"type",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:""},useData:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),o=u(n(87)),i=u(n(16)),a=u(n(49)),s=u(n(134)),l=u(n(88));function u(e){return e&&e.__esModule?e:{default:e}}t.default=class extends l.default{constructor(e,t){super(),r.default.check.type(e,i.default),r.default.check.function(t),this._configuration=e,this._dateCreator=t,this._space=null,this._signals=[]}addSignal(e,t){return r.default.check.string(e),r.default.check.string(t),this._signals.push({key:e,value:t}),this}build(e){return r.default.check.function(e),this._configuration.getCurrentState(t=>{const n=new s.default;this._addPathComponents(n),this._addQueryParameters(n,t),this._addSignals(n),n.build(e)}),null}setSpace(e){return r.default.check.string(e),this._space=e,this}_addPathComponents(e){return r.default.check.type(e,s.default),e.addPathComponent("vanilla"),e.addPathComponent("v1"),e.addPathComponent("views"),e.addPathComponent("km"),e.addPathComponent(this._space),null}_addQueryParameters(e,t){r.default.check.type(e,s.default),r.default.check.type(t,a.default);const n=this._dateCreator();if(e.addQueryParameter("dt",(0,o.default)(n)),e.addQueryParameter("platform","km"),t.hasString("user/language")){const n=t.getString("user/language");e.addQueryParameter("locale",n)}if(t.hasString("user/catalogue")){const n=t.getString("user/catalogue");e.addQueryParameter("product",n)}if(t.hasString("user/country")){const n=t.getString("user/country");e.addQueryParameter("region",n)}if(t.hasString("user/username")){const n=t.getString("user/username");e.addQueryParameter("username",n)}if(t.hasString("client/version")){const n=t.getString("client/version");e.addQueryParameter("version",n)}if(!t.getBooleanOr("caching/enabled",!0)){const t=n.getTime();e.addQueryParameter("no-cache",`${t}`)}return null}_addSignals(e){return r.default.check.type(e,s.default),this._signals.forEach(t=>{const n=`${t.key}:${t.value}`;e.addQueryParameter("signal",n)}),null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(88));function i(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(){super(),this._pathComponents=[],this._queryParameters=[]}addPathComponent(e){return r.default.check.string(e),this._pathComponents.push(e),this}addQueryParameter(e,t){r.default.check.string(e),r.default.check.string(t);const n={key:e,value:t};return this._queryParameters.push(n),this}build(e){return r.default.check.function(e),e(`hm://${this._getPathUriPart()}${this._getQueryUriPart()}`),null}_getPathUriPart(){return this._pathComponents.map(e=>encodeURIComponent(e)).join("/")}_getQueryUriPart(){let e="";return this._queryParameters.length>0&&(e=`?${this._queryParameters.map(e=>`${encodeURIComponent(e.key)}=${encodeURIComponent(e.value)}`).join("&")}`),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(3)),o=c(n(91)),i=c(n(23)),a=c(n(36)),s=c(n(136)),l=c(n(89)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}const d=1e3;t.default=class extends s.default{constructor(e,t,n,s){super(),r.default.check.type(e,o.default),r.default.check.type(t,i.default),r.default.check.type(n,l.default),r.default.check.type(s,a.default),this._contentProvider=e,this._environment=t,this._scheduler=n,this._eventDispatcher=s,this._rootView=null,this._schedulePeriodic()}destroy(){return this._scheduler.destroy(),this._destroyRootView(),this._contentProvider=null,this._environment=null,this._rootView=null,this._scheduler=null,this._eventDispatcher=null,null}loadViewComponentTree(e){return r.default.check.function(e),this._contentProvider.getContent(t=>{this._setRootView(t),e(null,t)}),null}mountRootViewIn(e){return r.default.check.type(e,Element),null!==this._rootView&&(this._rootView.attach(e),this._environment.updateSpotifyEventsIn(e)),this}_destroyRootView(){return null!==this._rootView&&(this._rootView.destroy(),this._rootView=null),this}_schedulePeriodic(){const e=d,t=()=>{this._eventDispatcher.dispatch("periodic-update",{}),this._scheduler.scheduleInAbout(e,t)};return this._scheduler.scheduleInAbout(e,t),null}_setRootView(e){return this._destroyRootView(),null!==e&&(r.default.check.type(e,u.default),this._rootView=e),this}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));class o{constructor(){if(this.constructor===o)throw new Error("Instances may not be created from interface classes!")}destroy(){throw new Error("Abstract method called!")}loadViewComponentTree(e){throw r.default.check.function(e),new Error("Abstract method called!")}mountRootViewIn(e){throw r.default.check.type(e,Element),new Error("Abstract method called!")}}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default=class{constructor(e,t,n,o){r.default.check.type(e,Element),r.default.check.string(t),r.default.check.function(n),this._element=e,this._type=t,this._handler=(()=>{n.call(o,e)})}attach(){this._element.addEventListener(this._type,this._handler)}detach(){this._element.removeEventListener(this._type,this._handler)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default=((e,t)=>(r.default.check.object(e),r.default.check.object(t),!(e.left>=e.right||e.top>=e.bottom||t.left>=t.right||t.top>=t.bottom||t.right<=e.left||t.bottom<=e.top||t.left>=e.right||t.top>=e.bottom)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3)),o=i(n(138));function i(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e,t,n){r.default.check.type(e,HTMLDocument),r.default.check.type(t,Window),r.default.check.string(n);const o=e.createElement("div");o.innerHTML=n,this._document=e,this._window=t,this._containerElement=null,this._storageElement=o,this._rootElements=Array.from(o.children)}attach(e){r.default.check.type(e,Element),this.detach(),this._containerElement=e;for(let e=0;e<this._rootElements.length;e++)this._containerElement.appendChild(this._rootElements[e])}destroy(){this.detach(),this._document=null,this._window=null,this._containerElement=null,this._storageElement=null,this._rootElements=null}detach(){if(null!==this._containerElement){for(let e=0;e<this._rootElements.length;e++)this._storageElement.appendChild(this._rootElements[e]);this._containerElement=null}}find(e){return r.default.check.string(e),this._storageElement.querySelector(e)}isAttached(){return null!==this._containerElement}isPartiallyVisible(){const e={left:0,right:this._window.innerWidth,top:0,bottom:this._window.innerHeight};for(let t=0;t<this._rootElements.length;t++){const n=this._rootElements[t],r=n.getBoundingClientRect(),i={left:r.left,right:r.right,top:r.top,bottom:r.bottom},a=this._window.getComputedStyle(n);if(this._isInvisible(a))return!1;if(!(0,o.default)(i,e))continue;const s=n.parentNode;if(this._isVisibleInParent(i,a,s))return!0}return!1}query(e){r.default.check.string(e);const t=this._storageElement.querySelectorAll(e);return Array.from(t)}_isInvisible(e){return r.default.check.type(e,CSSStyleDeclaration),"0"===e.opacity||"hidden"===e.visibility}_isVisibleInParent(e,t,n){if(r.default.check.object(e),r.default.check.type(t,CSSStyleDeclaration),!n)return!1;if(r.default.check.type(n,Element),n===this._document.body)return!0;const i=this._window.getComputedStyle(n);if(this._isInvisible(i))return!1;const a=n.getBoundingClientRect(),s={left:a.left,right:a.right,top:a.top,bottom:a.bottom};if("hidden"===i.overflow&&!(0,o.default)(e,s))return!1;const l=n.parentNode;return this._isVisibleInParent(e,t,l)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(45)),i=s(n(91)),a=s(n(48));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends i.default{constructor(e,t,n){super(),r.default.check.type(e,o.default),r.default.check.type(t,a.default),r.default.check.string(n),this._backend=e,this._viewParser=t,this._uri=n}getContent(e){return r.default.check.function(e),this._backend.request(this._uri,t=>{let n;n=r.default.conforms(t,{root:{}})?this._viewParser.parse(t.root):null,e(n)}),null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(3)),o=l(n(45)),i=l(n(16)),a=l(n(80)),s=l(n(92));function l(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n){super(),r.default.check.type(e,a.default),r.default.check.type(t,s.default),r.default.check.type(n,i.default),this._cosmosBackend=e,this._localhostBackend=t,this._configuration=n}request(e,t){r.default.check.string(e),r.default.check.function(t),this._configuration.getCurrentState(n=>{n.getBooleanOr("proxy/enabled",!1)?this._localhostBackend.request(e,t):this._cosmosBackend.request(e,t)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default=(e=>{r.default.check.string(e);const t=["0","0","00","00000"],n=e.split("."),o=Math.min(n.length,t.length);for(let e=0;e<o;e++){const r=n[e];if(r.length>t[e].length)break;if(!/^0|(?:[1-9][0-9]*)$/.test(r))break;t[e]=`${t[e]}${r}`.slice(-t[e].length)}return t.join("")})},function(e,t,n){"use strict";(function(e){const r=n(28),o=n(2),i=n(12);let a={};const s={isFollowing:"hm://socialgraph/v2/is_following?format=json",followCounts:"hm://socialgraph/v2/counts?format=json",updateIsFollowing:"hm://socialgraph/v2/following?format=json",broadcast:"sp://messages/v1/followstate"};function l(e,t){if("added"in t&&!("followersCount"in t)){const n=e.get("followersCount");if(void 0!==n){const r=n+(t.added?1:-1);e.update({followersCount:r})}}}function u(e,t){if("added"in t){if(a[e.uri])return;a[e.uri]=!0,e.update({added:t.added}),function(e,t,n){p(e,function(e,r){if(e)n(e);else{const e=t?"post":"delete";i[e]({url:s.updateIsFollowing,body:r},function(e){n(e||null)})}})}(e,!!t.added,function(n){delete a[e.uri],n?e.update({added:!t.added}):(e.update({added:t.added}),function(e){const t=e.get("added");i.post({url:s.broadcast,body:{uri:e.uri,isFollowing:t,added:t,followersCount:e.get("followersCount"),followingCount:e.get("followingCount")}})}(e))})}}function c(t,n){if(t)return void(e.console&&console.error(t));const r=n.body,i={};"added"in r?i.added=r.added:"isFollowing"in r&&(i.added=r.isFollowing),"followersCount"in r&&(i.followersCount=r.followersCount),"followingCount"in r&&(i.followingCount=r.followingCount),o(r.uri).update(i)}const d=["added","followersCount","followingCount"];function f(t,n){r(n,d).length&&p(t,function(n,r){n?e.console&&console.error(n):(function(t,n,r){const o={url:s.isFollowing,body:n};i.get(o,function(n,o){if(n)e.console&&console.error(n),r&&r(n);else{const e=o.body[0].is_following;t.update({added:e}),r&&r()}})}(t,r),function(t,n,r){const o={url:s.followCounts,body:n};i.get(o,function(n,o){if(n)e.console&&console.error(n),r&&r(n);else{const e=o.body[0];t.update({followersCount:e.followers_count,followingCount:e.following_count}),r&&r()}})}(t,r))})}function p(e,t){o("spotify:client").query("currentUser(uri)",function(n,r){n?t(n):t(null,{source_uri:decodeURIComponent(r.currentUser.uri),target_uris:[decodeURIComponent(e.uri)]})})}let h;t.register=function(e){o.subscribe(e,"wait",f),o.subscribe(e,"update",l),o.subscribe(e,"publish",u),a={},h||(h=i.subscribe({url:s.broadcast},c))},t.unregister=function(e){o.unsubscribe(e,"wait",f),o.unsubscribe(e,"update",l),o.unsubscribe(e,"publish",u),h&&(h.cancel(),h=null)}}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YES=t.DOWNLOADING=t.WAITING_SYNC_NOT_ALLOWED=t.WAITING_NO_CONNECTION=t.WAITING_OFFLINE_MODE=t.WAITING=t.NO=void 0,t.isDownloading=function(e){return e===u},t.shouldBeOffline=function(e){switch(e){case i:case a:case s:case u:case l:case c:return!0;case o:default:return!1}},t.progressFromStatus=function(e){switch(e){case i:case a:case s:case l:case o:return 0;case c:return 1;case u:default:return}},t.getLabelForStatus=function(e,t){switch(e){case u:return"Downloading";case a:case s:case l:return"WaitingForConnection";case i:return"WaitingForDownload";case c:return t?"DownloadedSongs":"Downloaded";case o:default:return t?"DownloadSongs":"Download"}},t.sendUserMessageForStatus=function(e){switch(e){case a:return r.default.cosmosJSON({method:"POST",uri:"sp://messages/v1/container/user-message",body:{id:"cant-offline-sync-playlist-in-offline-mode"}}),!0;default:return!1}};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(17));const o=t.NO="no",i=t.WAITING="waiting",a=t.WAITING_OFFLINE_MODE="waitingOfflineMode",s=t.WAITING_NO_CONNECTION="waitingNoConnection",l=t.WAITING_SYNC_NOT_ALLOWED="waitingSyncNotAllowed",u=t.DOWNLOADING="downloading",c=t.YES="yes"},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.fetchPlaylistMetadata=c,t.subscribeToMetadata=function(e,t,n){const r=o.default.from(e).toURI(),a=encodeURIComponent(r);return i.default.cosmosJSON({method:"SUB",uri:`sp://core-playlist/v1/playlist/${a}/metadata`,body:{policy:t}},(e,t)=>n(e,t&&t.metadata))},t.getCollaborativeStatus=function(e,t){c(e.toString(),{collaborative:!0,published:!0},t)},t.fetchPlaylistOwner=f,t.fetchIsPlaylistOwnedByCurrentUser=async function(t){return await f(t)===e.__spotify.username},t.fetchPlaylistV1UriFromPlaylist=async function(e){const{type:n,id:r}=o.default.from(e);if(n===o.default.Type.PLAYLIST_V2){const n=await t.fetchPlaylistOwner(e);return o.default.playlistURI(n,r).toURI()}if(n===o.default.Type.PLAYLIST)return e;throw new Error(`The uri ${e} is not any kind of playlist uri`)},t.getPlaylistV2UriFromPlaylist=function(e){const{type:t,id:n}=o.default.from(e);if(t===o.default.Type.PLAYLIST)return o.default.playlistV2URI(n).toURI();if(t===o.default.Type.PLAYLIST_V2)return e;throw new Error(`The uri ${e} is not any kind of playlist uri`)},t.getCorePlaylistUrl=function(e,{type:t,start:n,length:r,includeEpisodes:i,version:l="v1"}={},u,c){const{originUri:f=e,sort:p,filter:h}=a.default.parse(e)||{};let m=h?h.query.split(","):[],g=!0,y=!0;d(e)||(g=!m.includes("playable eq true")&&!c,y="Enabled"===u,m=m.filter(e=>!e.startsWith("playable")&&!e.startsWith("isPremiumOnly")&&!e.startsWith("availability")));const v=o.default.from(f).toURI();let _=d(e)?"sp://local-files/v2":`sp://core-playlist/${l}/playlist/${encodeURIComponent(v)}`;t&&(_+=`/${d(e)&&"rows"===t?"tracks":t}`);const b=[];if(p&&"metadata"!==t){const e="desc"===p.direction?"DESC":"ASC";b.push(`sort=${encodeURIComponent((0,s.default)(p.query,e))}`)}"number"==typeof n&&b.push(`start=${n}`);"number"==typeof r&&b.push(`length=${r}`);!0===i&&b.push("includeEpisodes=true");g||b.push("showUnavailable=false");y||b.push("alwaysShowWindowed=false");m.length&&b.push(`filter=${m.map(encodeURIComponent).join(",")}`);"play"===t&&b.push(`uri=${encodeURIComponent(e)}`);b.length&&(_+=`?${b.join("&")}`);return _},t.fetchIsFormatShows=function(e,{includeEpisodes:n=!0}={}){return d(e)?Promise.resolve(!1):new Promise((r,o)=>{i.default.cosmosJSON({method:"GET",uri:t.getCorePlaylistUrl(e,{type:"metadata",version:"v1",includeEpisodes:n}),body:{policy:{formatListType:!0}}},(e,t)=>{e?o(e):r(t.metadata&&/^format-shows/.test(t.metadata.formatListType))})})},t.playlistRequest=function(e,{method:n="GET",policy:o={},body:a={},type:s,start:u,length:c,includeEpisodes:d,version:f}={},p){let h;return Promise.all([l.default.fetch("windowed-playlist-show-tracklist"),t.fetchIsFormatShows(e,{includeEpisodes:d})]).then(([l,m])=>{let g;h=i.default.cosmos({method:n,uri:t.getCorePlaylistUrl(e,{type:s,start:u,length:c,includeEpisodes:d,version:f},l,m),body:JSON.stringify(r({},a,{policy:r({},a.policy||{},o)}))},(e,t)=>{if(e)p(e,t);else if(t&&!t.body&&t.status>=400)p(new Error(`${t.uri} responded with status ${t.status}`),t);else try{if("SUB"===n){if(t.body===g)return;g=t.body}p(null,JSON.parse(t.body))}catch(e){e.message=`Failed to parse cosmos response: ${e.message}`,p(e,t)}})}).catch(p),{cancel(){h&&h()}}},t.getAvailablePlaylistName=function(e,t){i.default.cosmosJSON({method:"GET",uri:`sp://core-playlist/v1/rootlist?filter=${encodeURIComponent(`name startsWith ${encodeURIComponent(e)}`)}`,body:{policy:{playlist:{name:!0}}}},(n,r)=>{if(n)return void t(n);const o=r.rows.map(({name:t})=>t.substr(e.length).trim()||"1").filter(e=>/\d+/.test(e)).map(Number).sort((e,t)=>e-t).pop(),i=`${e}${o?` ${o+1}`:""}`;t(null,i)})};var o=u(n(4)),i=u(n(17)),a=u(n(14)),s=u(n(377)),l=u(n(119));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){const r=o.default.from(e).toURI(),a=encodeURIComponent(r);i.default.cosmosJSON({method:"GET",uri:`sp://core-playlist/v1/playlist/${a}/metadata`,body:{policy:t}},(e,{error:t=null,metadata:r}={})=>n(e||t,r))}function d(e){return/:internal:local-files.*/.test(e)}async function f(e){const t=o.default.from(e);if(t.type===o.default.Type.PLAYLIST)return t.username;if(t.type===o.default.Type.PLAYLIST_V2)return await new Promise((t,n)=>c(e,{owner:{username:!0}},(r,{owner:{username:o}={}}={})=>{r?n(r):o?t(o):n(new Error(`No owner username found for ${e}`))}));throw new Error(`The uri ${e} is not any kind of playlist uri`)}}).call(this,n(1))},function(e,t,n){var r=n(30);e.exports=function(e,t){var n=r(e,t);-1!==n&&e.splice(n,1)}},function(e,t,n){"use strict";var r=n(27);const o=n(2),i=n(402),a=n(10),s=n(4),l=n(401),u=t.URI="spotify:station:",c=t.dailyMixPrefix="spotify:dailymix",d=`${c}:[^:]*`,f=t.matches=new RegExp(`^(?:${u}(.*)|(?:${d}))`),p=t.isStationUri=f.test.bind(f),h=new RegExp(`^${u}((user:[^:]+:cluster:[a-zA-Z0-9]{22}))`),m=t.isClusterStationUri=f.test.bind(h),g=new RegExp(`^${d}`),y=t.isDailyMixUri=(e=>g.test(e));t.isOrdinaryRadioUri=(e=>p(e)&&!(m(e)||y(e)));const v=15,_="playlist",b="track",w="album",E="artist",k="genre",S="cluster",x="dailymix",T="unknown";let A,P=!1,C=[],O=[];function L(e,t){(0,r.messageProxy)({method:"POST",uri:"station-thumb",body:{stationUri:e.get("uri"),trackUri:t,thumb:l.UP}})}function I(e,t){(0,r.messageProxy)({method:"POST",uri:"station-thumb",body:{stationUri:e.get("uri"),trackUri:t,thumb:l.DOWN}})}function R(e,t){p(e.get("uri"))&&(0,r.messageProxy)({method:"POST",uri:"station-heart",body:{stationUri:e.get("uri"),trackUri:t}})}function M(e,t){p(e.get("uri"))&&(0,r.messageProxy)({method:"POST",uri:"station-undo-feedback",body:{stationUri:e.get("uri"),trackUri:t,thumbAction:l.UNDO_HEART}})}function U(e,t,n,a){const s=!!n&&(a||e.get("fetchCount"));(0,r.messageProxy)({method:"GET",uri:"station",target:"top",body:{stationUri:e.get("uri"),metadata:t,trackCount:s}},function(t,n){if(t)return void(0,r.messageProxy)({method:"POST",uri:"station-error",body:{stationUri:e.get("uri"),message:t}});const a=n.stationUri,s=n.station;if(s.hasOwnProperty("tracks")){if(-1!==C.indexOf(a)){const e=(new Date).getTime();s.rows=s.tracks.map(i.bind(null,e))}delete s.tracks}o(a).update(s)})}function D(e){const t=e.stationUri,n=e.metadata;if(-1!==O.indexOf(t)){if(n.hasOwnProperty("tracks")){if(-1!==C.indexOf(t)){const e=(new Date).getTime();n.rows=n.tracks.map(i.bind(null,e))}delete n.tracks}o(t).update(n)}}function F(e){const t=function(e){const t=e.uri.replace(/^spotify:station:/,"spotify:");return decodeURIComponent(t)}(e);t&&(e.update({baseSeed:t,type:function(e){const t=s.from(e);if(!t)return T;const n=t.type;return s.isPlaylistV1OrV2(t)?_:n===s.Type.ARTIST?E:n===s.Type.ALBUM?w:n===s.Type.TRACK?b:0===e.indexOf("spotify:genre:")?k:e.indexOf(":cluster:")>0?S:e.startsWith(c)?x:T}(t),fetchCount:v}),e.on("update",function t(n){n.hasOwnProperty("rows")&&(e.get("rows").on("wait",function(e,t){if(t&&t.length>0){let n=0,r=0;t.forEach(function(e){e.end>r&&(r=e.end)}),U(e,[],!0,n=r-e.get("rows").length)}}.bind(null,e)),e.off("update",t))}),O.push(e.get("uri")))}function N(e,t){if(t.hasOwnProperty("added")){const n=t.added;"boolean"==typeof n?(e.update({added:n}),(0,r.messageProxy)({method:"POST",uri:"station-add",body:{stationUri:e.get("uri"),add:n}})):console.error("Added can only be a boolean")}}function j(e,t){let n,r=-1;const o=["added","name","subtitles","relatedArtists","image","nextPageUrl"];t.forEach(function(e,t){"rows"===e&&(r=t),!n&&a(o,e)&&(n=!0)}),-1!==r?(C.push(e.get("uri")),t.splice(r,1),U(e,t,!0)):n&&U(e,t)}t.register=function(){P||(P=!0,o.subscribe(f,"wait",j),o.subscribe(f,"init",F),o.subscribe(f,"thumb-up",L),o.subscribe(f,"thumb-down",I),o.subscribe(f,"heart",R),o.subscribe(f,"undo-heart",M),o.subscribe(f,"publish",N),A=(0,r.messageProxy)({method:"SUB",uri:"station-metadata"},D))},t.unregister=function(){P&&(P=!1,o.unsubscribe(f,"wait",j),o.unsubscribe(f,"init",F),o.unsubscribe(f,"thumb-up",L),o.unsubscribe(f,"thumb-down",I),o.unsubscribe(f,"heart",R),o.unsubscribe(f,"publish",N),A(),C=[],O=[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMadeForAttributionEnabled=t.splitFeedbackUri=t.makeFeedbackUri=void 0,t.fetchMadeFors=function(e,t){const n=e.map(e=>s(e,t));return Promise.all(n)},t.fetchMadeFor=s,t.buildMadeFor=l,t.originalPlaylistUri=function(e){return i.default.getOriginUri(e)||e},t.allowsFeedback=function(e){return!!e&&"1"===e["like-feedback-available"]},t.getFeedback=function(e){if(!e)return null;if("1"===e["like-feedback-selected"])return"up";if("1"===e["dislike-feedback-selected"])return"down";return null};var r=a(n(4)),o=a(n(17)),i=a(n(14));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)return Promise.resolve(null);const n=e.username;if(!n)return Promise.resolve(null);let i=e.name;return i?Promise.resolve(l(i,n,t)):new Promise(e=>{const a=r.default.profileURI(n).toURI();o.default.request("user_metadata",[a],(r,o)=>{i=r?n:o.name||n,e(l(i,n,t))})})}function l(e,t,n){const o=t===n;return{isCurrentUser:o,name:e,shortName:e.split(" ").shift(),username:t,renderAsYou:o&&t===e&&/^\d+$/.test(t),uri:r.default.profileURI(t).toURI()}}t.makeFeedbackUri=((e,t)=>`spotify:internal:${e}:feedback:${t}`),t.splitFeedbackUri=(e=>e.split("spotify:internal:").pop().split(":feedback:")),t.getMadeForAttributionEnabled=(()=>window.top.initialState.madeForAttributionEnabled)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={name:"OperationCanceledError",message:"An async operation was cancelled"};class o{constructor(e){this.source=e,this.requestId=e.requestId}isCanceled(){return this.requestId!==this.source.requestId}throwIfCanceled(){if(this.isCanceled())throw r}errorIfCanceled(){if(this.isCanceled())return r}operationCanceledError(){return r}}t.default=class{constructor(){this.requestId=0}token(){return new o(this)}cancel(){this.requestId++}}},function(e,t,n){"use strict";const r=window.requestAnimationFrame||function(e){setTimeout(e,16)};e.exports=function(e,t){let n,o=!1;return function(){n=arguments,o||(o=!0,r(function(){o=!1,e.apply(t,n)}))}}},function(e,t,n){"use strict";const r=n(428),o=n(33);e.exports={schema:r,log:o.bind(null,r)}},function(e,t,n){"use strict";const r=n(2),o=n(8),i=n(29),a=n(151),s=n(7),l="tl-sort-asc",u=function(e,t,n){const r=e.data("uri"),o=void 0!==t?t:i.getQuery(r),a=void 0!==n?n:i.getDirection(r),u=e.search("[data-sort]");if(u)for(let e=0;e<u.length;e++){const t=s(u[e]);t.removeClass(`${l} tl-sort-desc`),t.data("sort")===o&&t.addClass("asc"===a?l:"tl-sort-desc")}},c=function(e,t){const n=t.parent("[data-list]");if(!n)return;const s=n.data("uri");if(!s)return;const l=i.getQuery(s),c=i.getDirection(s);let d=t.data("sort");let f=l===d?"asc"===c?"desc":"asc":"asc";const p=l===d&&"desc"===c,h=i.getOriginUri(s)||s;let m;p?(m=h,d=null,f=null):m=i.create(h,f,d),r(m).get("rows",function(){}),u(n,d,f),o.emit("sort-header-click",{uri:h,requested:{query:d||null,direction:f||null},current:{query:l||null,direction:c||null}}),o.emit("list-swap",{before:s,after:m}),a.log({pageuri:r("spotify:application").get("appURI")||"unknown",feature_id:"zlink",section_id:"sort-header",target_uri:m,interaction_type:"hit",user_intent:"sort",timestamp:Math.round(Date.now()/1e3)})},d=function(e,t){c(0,t.previousSibling())};let f=!1;t.update=function(e){if(!f)return;const t=s(e)||s(document),n=t.matches("[data-list]")?[t]:t.search("[data-list]");if(n)for(let e=0;e<n.length;e++){const t=s(n[e]);t.search("[data-sort]")&&u(t)}},t.attach=function(){f||(f=!0,s(document).delegate("click","[data-sort]",c),s(document).delegate("click","[data-sort-previous]",d))},t.detach=function(){f&&(f=!1,s(document).undelegate("click","[data-sort]",c),s(document).undelegate("click","[data-sort-previous]",d))}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.addDebouncedScrollListener=function(e,t,o){if(null!==t&&"function"!=typeof t)throw new TypeError("The callback provided to addDebouncedScrollListener as parameter 2 is not a function.");if(void 0!==o&&"function"!=typeof o)throw new TypeError("The callback provided to addDebouncedScrollListener as parameter 3 is not a function.");n.has(e)||(e.addEventListener("scroll",u),n.set(e,[]));const i=++l,a={id:i,readFunction:t,writeFunction:o};return r[i]=e,n.get(e).push(a),i},t.removeDebouncedScrollListener=function(e){const t=r[e];if(t){delete r[e];const o=n.get(t);if(o)for(let t=0;t<o.length;t++)if(o[t].id===e){o.splice(t,1);break}0===o.length&&(t.removeEventListener("scroll",u),n.delete(t))}},t.requestFrame=p,t.cancelFrame=function(e){for(let t=0;t<o.length;t++)if(o[t].id===e){o.splice(t,1);break}0!==s&&0===o.length&&(window.cancelAnimationFrame(s),s=0)},t._reset=function(){n=new e.Map,r={},o=[],i=!1,a=null,s=0,l=0};let n=new e.Map,r={},o=[],i=!1,a=null,s=0,l=0;function u(e){if(a=e,!i){i=!0;const t=n.get(e.target);if(t){let e;p(()=>{i=!1,d(e=t.slice(),a)},()=>{f(e,a)})}}}function c(e){s=0;const t=o;o=[],d(t,e),f(t,e)}function d(e,t){e.forEach(e=>{e.readFunction&&e.readFunction(t)})}function f(e,t){e.forEach(e=>{"function"==typeof e.writeFunction&&e.writeFunction(t)})}function p(e,t){if(null!==e&&"function"!=typeof e)throw new TypeError("The callback provided to requestFrame as parameter 1 is not a function.");if(void 0!==t&&"function"!=typeof t)throw new TypeError("The callback provided to requestFrame as parameter 2 is not a function.");0===s&&(s=window.requestAnimationFrame(c));const n=++l,r={id:n,readFunction:e,writeFunction:t};return o.push(r),n}}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var r=n(153);const o=n(8),i=n(152);let a,s=!1,l=0,u=null,c=null,d=0,f=!1,p=0,h=0,m=0,g=0,y=null,v=null;const _=function(e){const t=document.documentElement;let n,r;for(r=e;r!==t;r=r.parentNode)if(n=r.getAttribute("data-class-sticky"))return n;return"sticky-top"},b=function(t){"thead"===t.nodeName.toLowerCase()&&t.stickyClone&&function(e){const t=e.stickyClone;t.parentNode&&t.parentNode.removeChild(t),e.stickyListSwapListener&&o.off("list-swap",e.stickyListSwapListener),e.style.removeProperty("visibility"),delete e.stickyClone,delete e.stickyListSwapListener}(t),t.classList.remove(_(t));const n=t.closest("[data-glue-page-header]");n&&(n.classList.remove("glue-page-header--with-active-sticky-header"),e.onPageHeaderToggleStickyMode&&e.onPageHeaderToggleStickyMode(!1)),t.removeAttribute("data-sticky-active",""),t.style.right="",t.style.left="",t.style.position="",t.style.top=""},w=function(e){const t=(v===document?document.body:v).getAttribute("data-top-bar-height");h=parseInt(t,10)||0,g=v===document?window.scrollY:v.scrollTop,y=function(e){const t=a+e,n=document.querySelectorAll("[data-sticky]");if(t>(a=Date.now())&&u&&n.length===u.length){let e=!0;for(let t=0;t<n.length;t++)e=e&&n[t]===u[t].node;if(e)return{nodes:u,root:c}}return c=v===document?document.documentElement.getBoundingClientRect():{top:(c=v.getBoundingClientRect()).top-g,right:c.right,bottom:c.bottom,left:c.left,width:c.width,height:c.height},{nodes:u=Array.prototype.map.call(document.querySelectorAll("[data-sticky]"),function(e){const t=e.parentNode.getBoundingClientRect(),n=e.getBoundingClientRect();return{stickyClassName:_(e),node:e,rect:{top:t.top,height:n.height,left:t.left,right:t.right}}}),root:c}}(e)},E=function(){const t=g+h,n=y.root.width;let r=y.root.top,a=h;const s=y.nodes;!function(){const e=document.querySelectorAll("[data-sticky-active]:not([data-sticky])");for(let t=0,n=e.length;t<n;t++)e[t].isStickyClone||b(e[t])}(),0===s.length&&e.onPageHeaderToggleStickyMode&&e.onPageHeaderToggleStickyMode(!1),s.forEach(function(l,u){const c=l.node,d=l.rect,f=c.stickyClone,p=l.stickyClassName;let h=f||c;if(d.top-r<t){const l=s[u-1];if(l){const e=l.node,n=l.rect;if(e.hasAttribute("data-sticky-single")&&e.classList.contains(p)){const o=Math.abs(d.top-y.root.top-(t+a));if(o<n.height){const t=a-n.height-o;e.style.top=`${t}px`,r-=o,a-=o}else b(e),r-=n.height,a-=n.height}}const f=d.left-y.root.left,m=d.right-y.root.left;if(h.classList.contains(p))h.style.right=`${n-m}px`,h.style.left=`${f}px`,h.style.top=`${a}px`;else{"thead"!==c.nodeName.toLowerCase()||c.stickyClone||(h=function(e){const t=document.createElement("div"),n=e.cloneNode(!0),r=e.parentNode.cloneNode(!1);r.appendChild(n).removeAttribute("data-sticky"),t.appendChild(r),t.className="sticky-clone",t.isStickyClone=!0;const a=function(t){const r=n.parentNode;r&&r.getAttribute("data-uri")&&(r.setAttribute("data-uri",t.after),i.update(e.parentNode))};return o.on("list-swap",a),e.parentNode.parentNode.appendChild(t),e.style.visibility="hidden",e.stickyListSwapListener=a,e.stickyClone=t,t}(c)),h.classList.add(p);const t=h.closest("[data-glue-page-header]");t&&(t.classList.add("glue-page-header--with-active-sticky-header"),e.onPageHeaderToggleStickyMode&&e.onPageHeaderToggleStickyMode(!0)),h.setAttribute("data-sticky-active",""),h.setAttribute("data-ta-id","sticky-node"),h.style.right=`${n-m}px`,h.style.left=`${f}px`,h.style.position="fixed",h.style.top=`${a}px`}a+=d.height,r+=d.height}else h.classList.contains(p)&&b(c)}),d=a},k=function(){w(0),E()},S=function(){f&&g>0&&((0,r.requestFrame)(()=>{m=window.scrollX,g=window.scrollY},()=>{S()}),window.scrollTo(m,g-p))},x=function(e){const t=e.clientY-d;if(t>0&&t<20){const e=(20-Math.max(0,t))/20;p=20*e,f||(f=!0,S())}else f=!1},T=function(){f=!1,document.removeEventListener("dragover",x),document.removeEventListener("dragend",T),document.removeEventListener("mouseup",T)},A=function(){document.addEventListener("dragover",x),document.addEventListener("dragend",T),document.addEventListener("mouseup",T)};t.DEFAULT_STICKY_CLASS_NAME="sticky-top",t.attach=function(){s||(s=!0,v||(v=document),l=(0,r.addDebouncedScrollListener)(v,()=>{w(4e3)},()=>{E()}),window.addEventListener("resize",k),document.addEventListener("mousedown",A),e.top&&e.top.document&&e.top.document.addEventListener("mousedown",A))},t.detach=function(){s&&(s=!1,(0,r.removeDebouncedScrollListener)(l),window.removeEventListener("resize",k),document.removeEventListener("mousedown",A),e.top&&e.top.document&&e.top.document.removeEventListener("mousedown",A),u=null,c=null,d=0,f=!1,p=0,v=null)},t.update=function(){s&&(u=null,c=null,w(4e3),E())},t.setScrollNode=function(e){v=e},t._getStickyClassName=_}).call(this,n(1))},function(e,t,n){"use strict";e.exports=function(e){let t=e;const n=[];for(;t;)t.matches&&t.matches("[data-log-context]")&&n.unshift(t.getAttribute("data-log-context")),t=t.parentNode;return n.join("/")||null}},function(e,t,n){"use strict";const r=n(2),o=n(4);function i(e){const t=o.from(e);if(!t)return"";const n=t.type;return n===o.Type.TRACK||n===o.Type.LOCAL?function(e){const t=r(e),n=t.get("name");if(!n)return"";const o=t.get("artists");if(!o||0===o.length)return n;const i=o.get(0,o.length).map(function(e){return e.get("name")}).join(", ");return i?a(n,i):n}(e):n===o.Type.ARTIST||n===o.Type.LOCAL_ARTIST?function(e){return r(e).get("name")||""}(e):n===o.Type.ALBUM||n===o.Type.LOCAL_ALBUM?function(e){const t=r(e),n=t.get("name");if(!n)return"";const o=t.get("artists");if(!o||0===o.length)return n;const i=o.get(0).get("name");return i?a(i,n):n}(e):n===o.Type.PLAYLIST||n===o.Type.PLAYLIST_V2?function(e){const t=r(e),n=t.get("name");if(!n)return"";const o=t.get("owner"),i=o&&(o.get("name")||o.get("username"));return i?a(n,i):n}(e):n===o.Type.USER||n===o.Type.PROFILE?function(e){const t=r(e).get("name");if(t)return t;const n=o.fromString(e);return n&&n.username||""}(e):n===o.Type.FOLDER?function(e){return r(e).get("name")}(e):n===o.Type.STATION?function(e){return r(e).get("name")}(e):n===o.Type.EPISODE?function(e){return r(e).get("name")}(e):n===o.Type.SHOW?function(e){return r(e).get("name")}(e):""}function a(e,t){return`${e}  ${t}`}t.getForUri=i,t.getForElement=function(e){let t=e.getAttribute("data-drag-text");if(t)return t;let n=e.getAttribute("data-uri");if(!n){const t=o.from(e.getAttribute("href"));n=t?t.toURI():""}return n&&(t=i(n))?t:(t=e.getAttribute("title"))||e.textContent}},function(e,t,n){"use strict";const r=n(7),o=n(112),i=n(101),a=n(52),s=n(66),l="[data-list-item]",u="selected",c="selection-focus",d="selection-focus-touch";let f;function p(e){const t=[];return(e?[e]:a.elements).forEach(function(e){const n=r(e).search(`${l}.${u}`);n&&Array.prototype.push.apply(t,n)}),t}t.update=function(e){const t=p(e),n=function(e){const t=[],n=a.elements;return i.selections.forEach(function(o,i){if(!o)return;const s=a.getLiveList(i);if(!s)return;let u=n[i];if(e&&!n[i].contains(e)&&(u=null),!u)return;const c=r(u).search(l);if(!c)return;const d=c.filter(function(e){const t=+e.getAttribute("data-index"),n=s.keys[t];return!!o[n]});Array.prototype.push.apply(t,d)}),t}(e),h=o(t,n),m=o(n,t);t.forEach(function(e){r(e).removeClass(c),r(e).removeClass(d)}),h.forEach(function(e){r(e).removeClass(u)}),m.forEach(function(e){r(e).addClass(u)});const g=i.getFocus();if(g){const e=s.getNodeFromPosition(g);e&&(clearTimeout(f),f=setTimeout(function(){const t=document.activeElement&&r(document.activeElement).matches("input, textarea"),n=document.activeElement&&r(document.activeElement).matches("button");!function(e){const t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=document.documentElement.clientHeight}(e)||t||n||e.focus()},0),r(e).addClass(c),i.wasFocusTriggeredByTouch()&&r(e).addClass(d))}},t.getSelectedRows=p},function(e,t,n){"use strict";const r=n(112),o=n(7),i=n(2),a=n(8),s=n(68),l="current",u="paused",c="playing",d="play-button",f="pause-button",p="play",h="pause",m="[data-button=play]",g=`${m},[data-button=play-context]`,y="data-interaction-intent",v="[data-context-index]",_={getPlayerVariantUri:s.createEmptyMethod("getPlayerVariantUri"),getPlayerIsPlaying:s.createEmptyMethod("getPlayerIsPlaying"),getPlayingNodes:s.createEmptyMethod("getPlayingNodes"),subscribeToPlayerChange:s.createEmptyMethod("subscribeToPlayerChange")};let b={},w=null;function E(e){const t=e||document;k(t);const n=function(e){let t=[];if("queue"!==_.getPlayerTrackProvider()){const n=_.getPlayerVariantUri(),r=s.getContextSelectorsWithVariants(n),i=o(e).search(r.join(", "));i&&(t=Array.prototype.slice.call(i))}return _.getPlayingNodes(e,t)}(t),i=function(e){return o(e).search("[data-playback-active=true]")}(t);if(i){let e=i;n&&(e=r(i,n)),e.forEach(x)}if(n){let e=n;i&&(e=r(n,i)),e.forEach(T),r(n,e).forEach(A)}}function k(e){const t=o(e).search("[data-button=play-context]");t&&t.forEach(S)}function S(e){if(o(e).parent("[data-list-item]"))return;const t=s.getUriFromButton(e),n=i(t).get("playable");void 0!==n&&(n?e.removeAttribute("disabled"):e.setAttribute("disabled","disabled"),b[t]||(b[t]=function(e){e.hasOwnProperty("playable")&&k(document.body)},i(t).on("update",b[t])))}function x(e){const t=[l,u,c].join(" "),n=o(e);if(n.removeClass(t).removeAttribute("data-playback-active"),n.matches(g)&&(n.attribute("data-log-click",d),n.attribute(y,p)),n.matches(v)){const e=n[0].querySelector(m);e&&e.setAttribute(y,p)}}function T(e){const t=_.getPlayerIsPlaying(),n=[l,t?c:u].join(" "),r=o(e);if(r.addClass(n).data("playback-active",!0),r.matches(g)&&(r.attribute("data-log-click",t?f:d),r.attribute(y,t?h:p)),r.matches(v)){const e=r[0].querySelector(m);e&&e.setAttribute(y,t?h:p)}}function A(e){const t=_.getPlayerIsPlaying(),n=t?u:c,r=t?c:u,i=o(e);if(i.hasClass(n)&&i.removeClass(n),i.hasClass(r)||i.addClass(r),i.matches(g)&&(i.attribute("data-log-click",t?f:d),i.attribute(y,t?h:p)),e.matches(v)){const n=e.querySelector(m);n&&n.setAttribute(y,t?h:p)}}function P(e){const t=o(e.container);let n=null;E((n=t.matches("[data-context]")?t:t.parent("[data-context]"))&&n[0].parentElement||document)}t.attach=function(){w=_.subscribeToPlayerChange(function(){E()}),a.on("scroll-show-after",P)},t.detach=function(){w&&(w.cancel(),w=null);for(const e in b)b.hasOwnProperty(e)&&i(e).off("update",b[e]);b={},a.off("scroll-show-after",P)},t.update=E,t.setMethods=function(e){for(const t in e)e.hasOwnProperty(t)&&(_[t]=e[t])}},function(e){e.exports={album:"album",artist:"artist",artistAbout:"artist/about",artistAlbums:"artist/albums",artistBio:"artist/bio",artistConcerts:"artist/concerts",artistGallery:"artist/gallery",artistPlaylists:"artist/playlists",artistRelated:"artist/related",artistWorks:"artist/works",browse:"browse",browseCharts:"browse/charts",browseDiscover:"browse/discover",browseGenres:"browse/genres",browseNewReleases:"browse/newreleases",browsePodcasts:"browse/podcasts",browseVideos:"browse/videos",charts:"charts",chartsChart:"charts/chart",chartsRegional:"charts/regional",chartsSocial:"charts/social",chartsViral:"charts/viral",collection:"collection",collectionAlbums:"collection/albums",collectionAlbumsAlbum:"collection/albums/album",collectionArtists:"collection/artists",collectionArtistsArtist:"collection/artists/artist",collectionPlaylists:"collection/playlists",collectionRadio:"collection/radio",collectionRecentlyPlayed:"collection/recently-played",collectionShows:"collection/shows",collectionSongs:"collection/songs",concert:"concert",concerts:"concerts",concertsCitysearch:"concerts/citysearch",concertsConcert:"concerts/concert",debug:"debug",experimentalFeatures:"experiments",lyrics:"lyrics",home:"home",moments:"moments",momentsCategory:"moments/category",music:"music",musicCategory:"music/category",now:"now",nowplaying:"nowplaying",nowplayingDevicepicker:"connect/devicepicker",nowplayingHistory:"nowplaying/history",nowplayingQueue:"nowplaying/queue",party:"party",partyAddFriends:"party/add-friends",partyEnableBluetooth:"party/enable-bluetooth",partyEnableNearby:"party/enable-nearby",partyPreset:"party/preset",partyQueue:"party/queue",playlist:"playlist",playlistFolder:"playlist/folder",profile:"profile",profileActivity:"profile/activity",profileArtists:"profile/artists",profileFollowers:"profile/followers",profileFollowing:"profile/following",profilePlaylists:"profile/playlists",radio:"radio",radioDailyMixes:"radio/daily-mixes",radioStation:"radio/station",running:"running",runningCategory:"running/category",runningSetup:"running/setup",search:"search",searchAlbums:"search/albums",searchArtists:"search/artists",searchGenres:"search/genres",searchPlaylists:"search/playlists",searchProfiles:"search/profiles",searchRadio:"search/radio",searchShows:"search/shows",searchSongs:"search/songs",searchVideos:"search/videos",settings:"settings",show:"show",shows:"shows",showsAudio:"shows/audio",showsCategory:"shows/category",showsNetwork:"shows/network",showsVideo:"shows/video",song:"song",unknown:"unknown",unknownUncovered:"unknown/uncovered",work:"work"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPageIdFromUri=function(e,t){if(e in l){const n=o.default.from(t),r=l[e](n.args);return u(e,r)}return u(e)},t.getPageIdFromAppArguments=function(e,t){if(e in l){const n=l[e](t);return u(e,n)}return u(e)};var r=i(n(159)),o=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}const a=e=>t=>t.length>e&&t[e]||null,s={album:"album","app-manager":"debug",artist:"artist","artist-concerts":"concerts","artist-creator-about":"artistAbout","artist-overview":"artist","artist-related":"artistRelated","artist-works":"artistWorks",boilerplate:"debug",browse:"browse","browse-charts":"charts","browse-discover":"browseDiscover","browse-genres":"browseGenres","browse-home":"browse","browse-podcasts":"browsePodcasts","browse-releases":"browseNewReleases","browse-videos":"browseVideos",chart:"chartsChart",charts:"charts",collection:"collection","collection-album":"collectionAlbumsAlbum","collection-albums":"collectionAlbums","collection-artist":"collectionArtistsArtist","collection-artists":"collectionArtists","collection-podcasts":"collectionShows","collection-songs":"collectionSongs","collection-videos":"collectionShows",concert:"concert",concerts:"concerts","daily-mix-hub":"radioDailyMixes",diag:"debug",discover:"browseDiscover",experiments:"experimentalFeatures","friends-mix":"friendsMix",genre:"browseGenres","glue-grid-demo":"debug","glue-header-demo":"debug","glue-reference":"debug",home:"home","hub-charts-regional":"chartsRegional","hub-charts-viral":"chartsViral","hub-genre":"browseGenres",lyrics:"lyrics",playlist:"playlist","playlist-folder":"playlistFolder","profile-followers":"profileFollowers","profile-following":"profileFollowing","profile-overview":"profile","profile-public-playlists":"profilePlaylists","profile-recently-played-artists":"profileArtists",profile:"profile",queue:"nowplayingQueue","queue-history":"nowplayingHistory","queue-queue":"nowplayingQueue",radio:"radio","radio-hub":"radio","recently-played":"collectionRecentlyPlayed","search-albums":"searchAlbums","search-artists":"searchArtists","search-genres":"searchGenres","search-playlists":"searchPlaylists","search-profiles":"searchProfiles","search-tracks":"searchSongs","search-shows":"searchShows",search:"search",settings:"settings",show:"show",song:"song",station:"radioStation",stations:"collectionRadio","video-debug":"debug",work:"work"},l={browse:a(0),artist:a(1),profile:a(1),queue:a(0),search:a(1),hub:e=>"charts"===a(0)(e)?`charts-${a(1)(e)}`:"genre",collection:a(0)};function u(e,t){let n=e;t&&(n=`${n}-${t}`);const o=s[n];return r.default[o]||r.default.unknownUncovered}},function(e,t,n){"use strict";(function(t){const r=n(471),o=n(470),i=n(69);function a(){this._global=t.top||t,o.call(this),this._messageHandler=this._messageHandler.bind(this)}r(a,o),a.prototype.EVENTS=a.EVENTS={REQUEST_STATE:"navigation_request_state"},a.prototype.METHOD=a.METHOD={OPEN:"open",TOGGLE:"toggle"},a.prototype._messageHandler=function(e){if(!e.data.type)return;const t=e.data.type;if(t===a.EVENTS.REQUEST_STATE){const n={state:i.unserialize(e.data.state),method:e.data.method};e.data.extra&&(n.extra=JSON.parse(e.data.extra)),this.emitSync(t,n)}},a.prototype.attachListener=function(){this._global.addEventListener("message",this._messageHandler)},a.prototype.detachListener=function(){this._global.removeEventListener("message",this._messageHandler)},a.prototype.openURI=function(e,t={}){this.requestOpenState(new i(e),t)},a.prototype.toggleURI=function(e){this.requestToggleState(new i(e))},a.prototype.requestOpenState=function(e,t={}){this.requestState(e,this.METHOD.OPEN,t)},a.prototype.requestToggleState=function(e){this.requestState(e,this.METHOD.TOGGLE)},a.prototype.requestState=function(e,t,n=null){if(!e)throw new TypeError("AppState not set");if(!t)throw new TypeError("Method not set");const r={type:this.EVENTS.REQUEST_STATE,method:t,state:e.serialize()};n&&(r.extra=JSON.stringify(n)),this._global.postMessage(r,"*")},e.exports=a}).call(this,n(1))},function(e,t,n){"use strict";var r=/([-.*+?^${}()|[\]\/\\])/g,o=/\\/g,i=function(e){return(e+"").replace(r,"\\$1")},a=function(e){return(e+"").replace(o,"")},s=RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+i(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),l=function(e){this.combinator=e||" ",this.tag="*"};l.prototype.toString=function(){if(!this.raw){var e,t,n="";if(n+=this.tag||"*",this.id&&(n+="#"+this.id),this.classes&&(n+="."+this.classList.join(".")),this.attributes)for(e=0;t=this.attributes[e++];)n+="["+t.name+(t.operator?t.operator+'"'+t.value+'"':"")+"]";if(this.pseudos)for(e=0;t=this.pseudos[e++];)n+=":"+t.name,t.value&&(n+="("+t.value+")");this.raw=n}return this.raw};var u=function(){this.length=0};u.prototype.toString=function(){if(!this.raw){for(var e,t="",n=0;e=this[n++];)1!==n&&(t+=" ")," "!==e.combinator&&(t+=e.combinator+" "),t+=e;this.raw=t}return this.raw};var c=function(e,t,n,r,o,s,c,d,f,p,h,m,g,y,v,_){var b,w;if((t||!this.length)&&(b=this[this.length++]=new u,t))return"";if(b||(b=this[this.length-1]),(n||r||!b.length)&&(w=b[b.length++]=new l(n)),w||(w=b[b.length-1]),o)w.tag=a(o);else if(s)w.id=a(s);else if(c){var E=a(c),k=w.classes||(w.classes={});if(!k[E]){k[E]=i(c);var S=w.classList||(w.classList=[]);S.push(E),S.sort()}}else g?(_=_||v,(w.pseudos||(w.pseudos=[])).push({type:1==m.length?"class":"element",name:a(g),escapedName:i(g),value:_?a(_):null,escapedValue:_?i(_):null})):d&&(h=h?i(h):null,(w.attributes||(w.attributes=[])).push({operator:f,name:a(d),escapedName:i(d),value:h?a(h):null,escapedValue:h?i(h):null}));return""},d=function(e){this.length=0;for(var t,n=this,r=e;e;){if((t=e.replace(s,function(){return c.apply(n,arguments)}))===e)throw new Error(r+" is an invalid expression");e=t}};d.prototype.toString=function(){if(!this.raw){for(var e,t=[],n=0;e=this[n++];)t.push(e);this.raw=t.join(", ")}return this.raw};var f={};e.exports=function(e){return null==e?null:(e=(""+e).replace(/^\s+|\s+$/g,""),f[e]||(f[e]=new d(e)))}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(475));const o=n(40),i=n(53),a=function(e,t){return o(r.default.parse(t||"*"),function(t){return`${e} ${t}`}).join(", ")},s=Array.prototype.push;i.implement({search:function(e){if(1===this.length)return i(r.default.search(e,this[0],new i));let t=[];for(let n=0;n<this.length;n++){const o=this[n];s.apply(t,r.default.search(e,o))}return(t=i(t))&&t.sort()},find:function(e){if(1===this.length)return i(r.default.find(e,this[0]));for(let t=0;t<this.length;t++){const n=this[t],o=r.default.find(e,n);if(o)return i(o)}return null},sort:function(){return r.default.sort(this)},matches:function(e){return r.default.matches(this[0],e)},contains:function(e){return r.default.contains(this[0],e)},nextSiblings:function(e){return this.search(a("~",e))},nextSibling:function(e){return this.find(a("+",e))},previousSiblings:function(e){return this.search(a("!~",e))},previousSibling:function(e){return this.find(a("!+",e))},children:function(e){return this.search(a(">",e))},firstChild:function(e){return this.find(a("^",e))},lastChild:function(e){return this.find(a("!^",e))},parent:function(e){const t=[];for(let n=0;n<this.length;n++){let o=this[n].parentNode;for(;o&&o!==document;){if(!e||r.default.matches(o,e)){t.push(o);break}o=o.parentNode}}return i(t)},parents:function(e){const t=[];for(let n=0;n<this.length;n++){let o=this[n];for(;o&&o!==document;)e&&!r.default.matches(o,e)||t.push(o),o=o.parentNode}return i(t)}}),e.exports=i},function(e,t,n){"use strict";const r=n(55),o=n(53);o.implement({on:function(e,t,n){return this.forEach(function(i){const a=o(i),s=e+(n?":capture":"");r.prototype.on.call(a,s,t);const l=a._domListeners||(a._domListeners={});if(!l[s]){const t=function(e){r.prototype.emit.call(a,s,e||window.event,r.EMIT_SYNC)};i.addEventListener(e,t,n||!1),l[s]=t}})},off:function(e,t,n){return this.forEach(function(i){const a=o(i),s=e+(n?":capture":""),l=a._domListeners,u=a._listeners;if(l&&u){const n=l[s];if(n&&(r.prototype.off.call(a,s,t),!a._listeners||!a._listeners[e])){i.removeEventListener(e,n,!1),delete l[e];for(const e in l)if(l.hasOwnProperty(e))return;delete a._domListeners}}})},emit:function(){const e=arguments;return this.forEach(function(t){r.prototype.emit.apply(o(t),e)})}}),e.exports=o},function(e,t,n){"use strict";e.exports=function(e,t){const n=(e||"").match(/^spotify:(.+)$/);if(!n)return e||"";let r=n.pop().replace(/:$/,"").split(/:/);const o=r.shift();return"search"===o&&(r=[r.join(":")]),r.unshift(t,o),r.join("/")}},function(e,t,n){"use strict";const r=n(70),o=function(e,t){if(0===t)return;const n=e.length,o=e.map(function(e){return e.name});if(t-n>0){const e=r("AndMore",t-n);o.push(e)}return o.join("<br>\n").replace(/'/g,"&#39;")};o.displayName="nameListTooltip",e.exports=o},function(e,t,n){"use strict";t.compare=n(508),t.duration=n(507),t.facepile=n(506),t.href=n(505),t.humanizeDuration=n(504),t.list=n(503),t.loc=n(70),t.nameListTooltip=n(166),t.nft=n(502),t.numeral=n(501),t.share=n(498),t.slice=n(497),t.type=n(496),t.userReaction=n(494),t.json=n(493)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logMockTrackingEvent=t.setAdMockerUrl=void 0;const r=(0,function(e){return e&&e.__esModule?e:{default:e}}(n(6)).default)("saf:verification-automation-test-utils");let o="";t.setAdMockerUrl=function(e){o=e,r("setAdMockerUrl",e)},t.logMockTrackingEvent=function(e,t){o&&e&&t&&((new Image).src=`${o}${e}-${t}`,r("logMockTrackingEvent",e,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initMoatTracking=function(e,t,n,o,i){const a=document.createElement("script");let s=[];const l={adData:{ids:t,duration:n,url:i},dispatchEvent(e){this.sendEvent?(s&&(s.push(e),e=s,s=!1),this.sendEvent(e)):s.push(e);try{(0,r.logMockTrackingEvent)("moat",e.type)}catch(e){console.error("vendor-moat-init: logMockTrackingEvent",e)}}},u=`_moatApi${Math.floor(1e8*Math.random())}`;return window[u]=l,a.type="text/javascript",e&&e.insertBefore(a,e.childNodes[0]||null),a.src=`https://z.moatads.com/${o}/moatvideo.js#${u}`,l};var r=n(168)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AD_LOADED="AdLoaded",t.AD_STARTED="AdStarted",t.AD_STOPPED="AdStopped",t.AD_SKIPPED="AdSkipped",t.AD_SKIPPABLE_STATE_CHANGE="AdSkippableStateChange",t.AD_SIZE_CHANGE="AdSizeChange",t.AD_LINEAR_CHANGE="AdLinearChange",t.AD_DURATION_CHANGE="AdDurationChange",t.AD_EXPANDED_CHANGE="AdExpandedChange",t.AD_VOLUME_CHANGE="AdVolumeChange",t.AD_IMPRESSION="AdImpression",t.AD_VIDEO_START="AdVideoStart",t.AD_VIDEO_FIRST_QUARTILE="AdVideoFirstQuartile",t.AD_VIDEO_MIDPOINT="AdVideoMidpoint",t.AD_VIDEO_THIRD_QUARTILE="AdVideoThirdQuartile",t.AD_VIDEO_COMPLETE="AdVideoComplete",t.AD_CLICK_THROUGH="AdClickThrough",t.AD_INTERACTION="AdInteraction",t.AD_USER_ACCEPT_INVITATION="AdUserAcceptInvitation",t.AD_USER_MINIMIZE="AdUserMinimize",t.AD_USER_CLOSE="AdUserClose",t.AD_PAUSED="AdPaused",t.AD_PLAYING="AdPlaying",t.AD_LOG="AdLog",t.AD_ERROR="AdError"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(61)),o=n(17);const i="started",a="resumed",s="paused",l="muted",u="unmuted",c="first_quartile",d="midpoint",f="third_quartile",p="ended",h="skipped",m="errored",g="volume_change",y="core_started",v={};v[i]=1,v[y]=2,v[c]=3,v[d]=4,v[f]=5,v[h]=6,v[p]=6,v[m]=6;const _={};_.subscribe=((e,t)=>{const n=new class{constructor(e,t){this.eventProgession=0,this.isMuted=e.muted||0===e.volume,this.hasBeenPaused=!1,this.videoEvents=[],this.videoNode=e,this.eventCallback=t,this.unsubscribeCosmosVideoPlayer=r.default,this._addEventListener("play",()=>{this._emit(i),this.hasBeenPaused&&this._emit(a)}),this._addEventListener("pause",e=>{e.target.currentTime!==e.target.duration&&(this.hasBeenPaused=!0,this._emit(s))}),this._addEventListener("ended",()=>{this._emit(p),this.removeEventListeners()}),this._addEventListener("timeupdate",e=>{const t=e.target.currentTime/e.target.duration;t>0&&this._emit(y),t>=.25&&this._emit(c),t>=.5&&this._emit(d),t>=.75&&this._emit(f)}),this._addEventListener("volumechange",e=>{this._emit(g);const t=this.isMuted;this.isMuted=e.target.muted||0===e.target.volume,t!==this.isMuted&&this._emit(this.isMuted?l:u)}),this._addEventListener("error",()=>{this._emit(m),this.removeEventListeners()}),this.unsubscribeCosmosVideoPlayer=(0,o.cosmosJSON)({method:"SUB",uri:"sp://videoplayer/v1/commands"},(e,t)=>{t&&t.type&&"advance"===t.type&&"fwdbtn"===t.advance_reason&&(this._emit(h),this.removeEventListeners())}),e.paused||this._emit(i)}removeEventListeners(){this.videoEvents.forEach(e=>{this.videoNode.removeEventListener(e[0],e[1])}),this.unsubscribeCosmosVideoPlayer()}_addEventListener(e,t){this.videoEvents.push([e,t]),this.videoNode.addEventListener(e,t)}_emit(e){const t=v[e];t?t>this.eventProgession&&(this.eventProgession=t,this.eventCallback(e)):this.eventCallback(e)}}(e,t);return()=>{n.removeEventListeners()}}),_.EVENTS={CORE_STARTED:y,ENDED:p,ERRORED:m,FIRST_QUARTILE:c,MIDPOINT:d,MUTED:l,PAUSED:s,RESUMED:a,SKIPPED:h,STARTED:i,THIRD_QUARTILE:f,UNMUTED:u,VOLUME_CHANGE:g},t.default=_},function(e,t,n){var r=n(114).isFinite;e.exports=function(e){return"number"==typeof e&&r(e)}},function(e,t,n){"use strict";(function(t){let n,r=t;function o(){return n||(n=`${r.__spotify.app_uri.split(":")[2]}:${encodeURIComponent(r.__spotify.username)}:`),n}const i={set:function(e,t){const n=o()+e;try{r.localStorage.setItem(n,t)}catch(e){if("QuotaExceededError"!==e.name)throw e}},get:function(e){return r.localStorage.getItem(o()+e)},remove:function(e){return r.localStorage.removeItem(o()+e)},clear:function(){n=o(),Object.keys(r.localStorage).forEach(e=>{e.startsWith(n)&&delete r.localStorage[e]})},_setNamespace:function(e){n=e},useTopLocalStorage:function(e){r=e?window.top:window,n=null}};e.exports=i}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(526)),o=d(n(22)),i=n(27),a=d(n(13)),s=d(n(11)),l=d(n(6)),u=d(n(173)),c=d(n(15));function d(e){return e&&e.__esModule?e:{default:e}}const f=(0,l.default)("saf:hpto:provider"),p="hpto",h="available",m="play",g=[h,m].reduce((e,t)=>(e[t]=[],e),{}),y="saf:hpto:ad";let v,_=!1,b=!1,w=()=>{},E=Promise.resolve(!0);const k={init:()=>{if(_)return Promise.resolve();_=!0,f("init");const e=u.default.get(y);try{v=JSON.parse(e)}catch(e){f("error parsing locally stored ad: %o",e)}return w=(0,i.messageProxy)({method:"REPLY",uri:"hpto"},P),s.default.addNewSlot(p,"banner").then(()=>(s.default.enableSlot(p),s.default.subscribeToSlotType(p,T),o.default.addEventListener(a.default.DEBUG_FORCE_REFRESH_HPTO,A),b=!0,E=S()))},destroy:()=>{_&&(_=!1,w(),o.default.removeEventListener(a.default.DEBUG_FORCE_REFRESH_HPTO,A))},clearLocalStorageAd:()=>{u.default.remove(y,e=>{e||f("localStorage cleared")})},_getFetchAdPromise:()=>E};function S(){return f("fetchAd"),function(){return f("triggerFetch"),new Promise((e,t)=>{s.default.triggerSlotFetch(p).catch(e=>{g[h]=[],t(e)}),g[h].push(e)})}().then(x).then(e=>(f("storeAd: %o",e),v=e,u.default.set(y,JSON.stringify(v)),s.default.triggerSlotClearAll(p),v)).catch(()=>(f("fetchAd error"),!1)).then(e=>(b=!1,e))}function x(){return f("triggerPlay"),new Promise((e,t)=>{s.default.triggerSlotPlay(p).catch(e=>{g[m]=[],t(e)}),g[m].push(e)})}function T(e){"available"===e.event&&c.default.isPreviewServiceAd(e.ad)?x().then(e=>{v=e,f("force nav to browse and trig hpto-refresh for preview"),o.default.dispatchEvent(new r.default(a.default.NAVIGATION_OPEN_URI,"spotify:app:browse")),(0,i.messageProxy)({method:"POST",uri:"hpto-refresh"})}):e.event in g&&(f("cosmos event: %o",e),g[e.event].forEach(t=>t(e.ad)),g[e.event]=[])}function A(){b=!0,E=S().then(()=>{(0,i.messageProxy)({method:"POST",uri:"hpto-refresh"})})}function P(e,t){if(f("onHptoReply currentAd=%o fetching=%o",v,Boolean(b)),v)return t(null,{ad:v}),b=!0,void(E=S());b||(b=!0,E=S()),E.then(e=>{e?t(null,{ad:e}):t("no ad from hpto:provider available")})}t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={getImageLink:e=>/^[a-zA-Z0-9]{40}$/.test(e)?`spotify:image:${e}`:/^http(s)?:\/\/.*$/.test(e)?e:"http://d3rt1990lpmkn.cloudfront.net/unbranded/"+e};t.default=r},function(e,t,n){var r=n(190),o=n(62),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==a||t==s||t==i||t==l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=null;const o={getSpotlightSvg:()=>r,setSpotlightSvg(e){r=e}};t.default=o},function(e,t,n){(function(t){!function(){"use strict";var n="undefined"!=typeof window,r="function"==typeof Object.defineProperty;if(n&&window.__modDefFn)e.exports=window.__modDefFn;else{var o,i,a=[];d();var s=function(e){var t=!a.length;a.push(e),t&&o()};n&&!window.__modDefFn&&(r?Object.defineProperty(window,"__modDefFn",{value:s}):window.__modDefFn=s),s.use={auto:d,dom:l,immediate:u,timeout:c},e.exports=s}function l(){if(i=window.location.origin||window.location.protocol+"//"+window.location.hostname,o=window.postMessage.bind(window,"@execute_deferreds",i),!window.__hasDeferredHandler){r?Object.defineProperty(window,"__hasDeferredHandler",{value:1}):window.__hasDeferredHandler=1;var e=function(e){e.origin!=i&&"@execute_deferreds"!=e.data||f()};window.addEventListener?window.addEventListener("message",e):window.attachEvent("onmessage",e)}}function u(){o=t.bind(null,f)}function c(){o=setTimeout.bind(null,f,10)}function d(){n&&window.postMessage?l():void 0!==t?u():c()}function f(){var e=a.splice(0);if(e.length)for(var t=0,n=e.length;t<n;t++)try{e[t]()}finally{}}}()}).call(this,n(181).setImmediate)},function(e,t,n){var r=n(54);e.exports=function(e,t,n){t=r(t,n);var o=!1;if(null==e)return o;for(var i=-1,a=e.length;++i<a;)if(t(e[i],i,e)){o=!0;break}return o}},function(e,t,n){var r=n(41);function o(e,t){return e===t}e.exports=function(e,t){return t=t||o,r(e,function(e,n,r){for(var o=r.length;++n<o;)if(t(e,r[n]))return!1;return!0})}},function(e,t,n){var r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(551),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={REFRESH_INTERVAL_KEY:"leaderboard_refresh_interval",DEFAULT_REFRESH_INTERVAL_MS:3e4,DEFAULT_SANDBOX_PARAMS:["allow-forms","allow-pointer-lock","allow-popups","allow-same-origin","allow-scripts"],LEADERBOARD_SLOT_ID:"leaderboard",PREVIEW_SLOT_ID:"preview"}},function(e,t,n){(function(e,r){var o=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),l=r[n];n<i;l=r[++n])m(l)||!b(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(n,o){if(v(e.process))return function(){return t.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),i=!0}return n.apply(this,arguments)}};var i,a={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),c(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return y(o)||(o=c(e,o,r)),o}var i=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(k(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(_(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return d(n)}var u,b="",S=!1,x=["{","}"];(p(n)&&(S=!0,x=["[","]"]),k(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return _(n)&&(b=" "+RegExp.prototype.toString.call(n)),w(n)&&(b=" "+Date.prototype.toUTCString.call(n)),E(n)&&(b=" "+d(n)),0!==a.length||S&&0!=n.length?r<0?_(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=S?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)A(t,String(a))?i.push(f(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(f(e,t,n,r,o,!0))}),i}(e,n,r,s,a):a.map(function(t){return f(e,n,r,s,t,S)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,b,x)):x[0]+b+x[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o,i){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),A(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(n)?c(e,l.value,null):c(e,l.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function _(e){return b(e)&&"[object RegExp]"===S(e)}function b(e){return"object"==typeof e&&null!==e}function w(e){return b(e)&&"[object Date]"===S(e)}function E(e){return b(e)&&("[object Error]"===S(e)||e instanceof Error)}function k(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(v(i)&&(i=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=_,t.isObject=b,t.isDate=w,t.isError=E,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(564);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),T[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(563),t._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(1),n(46))},function(e,t,n){"use strict";(function(t){var r=n(566);function o(e){var t=Math.pow(2,31),n=Math.floor(e||Math.random()*(t-1));this._max=t,this._nextInt=function(){return n=(1103515245*n+12345)%t}}function i(){this._index=0,this._items=[]}function a(e,t){this.buf=e,this.pos=0|t}function s(e,t){for(;t--;)e[t]=~e[t]}o.prototype.nextBoolean=function(){return!!(this._nextInt()%2)},o.prototype.nextInt=function(e,t){return void 0===t&&(t=e,e=0),t=void 0===t?this._max:t,e+Math.floor(this.nextFloat()*(t-e))},o.prototype.nextFloat=function(e,t){return void 0===t&&(t=e,e=0),e+((t=void 0===t?1:t)-e)*this._nextInt()/this._max},o.prototype.nextString=function(e,t){e|=0;var n="";(t=t||"aA").indexOf("a")>-1&&(n+="abcdefghijklmnopqrstuvwxyz"),t.indexOf("A")>-1&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),t.indexOf("#")>-1&&(n+="0123456789"),t.indexOf("!")>-1&&(n+="~`!@#$%^&*()_+-={}[]:\";'<>?,./|\\");for(var r=[],o=0;o<e;o++)r.push(this.choice(n));return r.join("")},o.prototype.nextBuffer=function(e){var n,r=[];for(n=0;n<e;n++)r.push(this.nextInt(256));return new t(r)},o.prototype.choice=function(e){var t=e.length;if(!t)throw new Error("choosing from empty array");return e[this.nextInt(t)]},i.prototype.push=function(e){var t,n=this._items,r=0|n.length;for(n.push(e);r>0&&n[r].index<n[t=r-1>>1].index;)e=n[r],n[r]=n[t],n[t]=e,r=t},i.prototype.pop=function(){var e=this._items,t=e.length-1|0,n=e[0];if(!n||n.index>this._index)return null;if(this._index++,!t)return e.pop(),n;e[0]=e.pop();for(var r,o,i,a,s,l,u,c=t>>1,d=0;d<c&&(a=e[d],o=d+1<<1,l=e[r=1+(d<<1)],!(u=e[o])||l.index<=u.index?(s=l,i=r):(s=u,i=o),!(s.index>=a.index));)e[i]=a,e[d]=s,d=i;return n},a.prototype.isValid=function(){return this.pos<=this.buf.length},a.prototype.getValue=function(){return this.buf.slice(0,this.pos)},a.prototype.readBoolean=function(){return!!this.buf[this.pos++]},a.prototype.skipBoolean=function(){this.pos++},a.prototype.writeBoolean=function(e){this.buf[this.pos++]=!!e},a.prototype.readInt=a.prototype.readLong=function(){var e,t,n,r,o=0,i=0,a=this.buf;do{t=128&(e=a[this.pos++]),o|=(127&e)<<i,i+=7}while(t&&i<28);if(t){n=o,r=268435456;do{n+=(127&(e=a[this.pos++]))*r,r*=128}while(128&e);return(n%2?-(n+1):n)/2}return o>>1^-(1&o)},a.prototype.skipInt=a.prototype.skipLong=function(){for(var e=this.buf;128&e[this.pos++];);},a.prototype.writeInt=a.prototype.writeLong=function(e){var t,n,r=this.buf;if(e>=-1073741824&&e<1073741824){n=e>=0?e<<1:~e<<1|1;do{r[this.pos]=127&n,n>>=7}while(n&&(r[this.pos++]|=128))}else{t=e>=0?2*e:2*-e-1;do{r[this.pos]=127&t,t/=128}while(t>=1&&(r[this.pos++]|=128))}this.pos++},a.prototype.readFloat=function(){var e=this.buf,t=this.pos;if(this.pos+=4,!(this.pos>e.length))return this.buf.readFloatLE(t)},a.prototype.skipFloat=function(){this.pos+=4},a.prototype.writeFloat=function(e){var t=this.buf,n=this.pos;if(this.pos+=4,!(this.pos>t.length))return this.buf.writeFloatLE(e,n)},a.prototype.readDouble=function(){var e=this.buf,t=this.pos;if(this.pos+=8,!(this.pos>e.length))return this.buf.readDoubleLE(t)},a.prototype.skipDouble=function(){this.pos+=8},a.prototype.writeDouble=function(e){var t=this.buf,n=this.pos;if(this.pos+=8,!(this.pos>t.length))return this.buf.writeDoubleLE(e,n)},a.prototype.readFixed=function(e){var n=this.pos;if(this.pos+=e,!(this.pos>this.buf.length)){var r=new t(e);return this.buf.copy(r,0,n,n+e),r}},a.prototype.skipFixed=function(e){this.pos+=e},a.prototype.writeFixed=function(e,t){t=t||e.length;var n=this.pos;this.pos+=t,this.pos>this.buf.length||e.copy(this.buf,n,0,t)},a.prototype.readBytes=function(){return this.readFixed(this.readLong())},a.prototype.skipBytes=function(){var e=this.readLong();this.pos+=e},a.prototype.writeBytes=function(e){var t=e.length;this.writeLong(t),this.writeFixed(e,t)},a.prototype.readString=function(){var e=this.readLong(),t=this.pos,n=this.buf;if(this.pos+=e,!(this.pos>n.length))return this.buf.utf8Slice(t,t+e)},a.prototype.skipString=function(){var e=this.readLong();this.pos+=e},a.prototype.writeString=function(e){var n=t.byteLength(e);this.writeLong(n);var r=this.pos;this.pos+=n,this.pos>this.buf.length||this.buf.utf8Write(e,r,n)},a.prototype.writeBinary=function(e,t){var n=this.pos;this.pos+=t,this.pos>this.buf.length||this.buf.binaryWrite(e,n,t)},a.prototype.matchBoolean=function(e){return this.buf[this.pos++]-e.buf[e.pos++]},a.prototype.matchInt=a.prototype.matchLong=function(e){var t=this.readLong(),n=e.readLong();return t===n?0:t<n?-1:1},a.prototype.matchFloat=function(e){var t=this.readFloat(),n=e.readFloat();return t===n?0:t<n?-1:1},a.prototype.matchDouble=function(e){var t=this.readDouble(),n=e.readDouble();return t===n?0:t<n?-1:1},a.prototype.matchFixed=function(e,t){return this.readFixed(t).compare(e.readFixed(t))},a.prototype.matchBytes=a.prototype.matchString=function(e){var t=this.readLong(),n=this.pos;this.pos+=t;var r=e.readLong(),o=e.pos;e.pos+=r;var i=this.buf.slice(n,this.pos),a=e.buf.slice(o,e.pos);return i.compare(a)},a.prototype.unpackLongBytes=function(){var e,n,r=new t(8),o=0,i=0,a=6,l=this.buf;for(n=1&(e=l[this.pos++]),r.fill(0),o|=(127&e)>>1;128&e;)o|=(127&(e=l[this.pos++]))<<a,(a+=7)>=8&&(a-=8,r[i++]=o,o>>=8);return r[i]=o,n&&s(r,8),r},a.prototype.packLongBytes=function(e){var t,n=(128&e[7])>>7,r=this.buf,o=1,i=0,a=3;n?(s(e,8),t=1):t=0;for(var l=[e.readUIntLE(0,3),e.readUIntLE(3,3),e.readUIntLE(6,2)];a&&!l[--a];);for(;i<a;)for(t|=l[i++]<<o,o+=24;o>7;)r[this.pos++]=127&t|128,t>>=7,o-=7;t|=l[a]<<o;do{r[this.pos]=127&t,t>>=7}while(t&&(r[this.pos++]|=128));this.pos++,n&&s(e,8)},e.exports={abstractFunction:function(){throw new Error("abstract")},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},compare:function(e,t){return e===t?0:e<t?-1:1},getHash:function(e,t){t=t||"md5";var n=r.createHash(t);return n.end(e),n.read()},toMap:function(e,t){var n,r,o={};for(n=0;n<e.length;n++)o[t(r=e[n])]=r;return o},singleIndexOf:function(e,t){var n,r,o=-1;if(!e)return-1;for(n=0,r=e.length;n<r;n++)if(e[n]===t){if(o>=0)return-2;o=n}return o},hasDuplicates:function(e,t){var n,r,o,i={};for(n=0,r=e.length;n<r;n++){if(o=e[n],t&&(o=t(o)),i[o])return!0;i[o]=!0}return!1},Lcg:o,OrderedQueue:i,Tap:a}}).call(this,n(57).Buffer)},function(e,t,n){"use strict";const r=n(572),o=n(33);e.exports={schema:r,log:o.bind(null,r),Reason:{USER_POLICY:"user-policy",IN_FOCUS:"in-focus",OUT_OF_FOCUS:"out-of-focus",NOT_STARTED:"not-started",URI_BLACKLISTED:"uri-blacklisted",AUDIO_AD_ACTIVE:"audio-ad-active",VIDEO_AD_ACTIVE:"video-ad-active",VIDEO_TRACK_PLAYING:"video-track-playing",BILLBOARD_AD_ACTIVE:"billboard-ad-active",CLIENT_ACTIVE:"client-active",VIDEO_NOT_SUPPORTED:"video-not-supported"},Event:{DISABLE:"disable",DISABLE_REFRESH:"disable-refresh",DISCARD:"discard",ENABLE:"enable",ENABLE_REFRESH:"enable-refresh",NO_FETCH:"no-fetch",TRIGGER_WAIT:"trigger-wait"},Slot:{LEADERBOARD:"leaderboard",BILLBOARD:"billboard"}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.HandlebarsEnvironment=u;var o=n(21),i=r(n(58)),a=n(586),s=n(578),l=r(n(576));t.VERSION="4.0.11";t.COMPILER_REVISION=7;t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};function u(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},a.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}u.prototype={constructor:u,logger:l.default,log:l.default.log,registerHelper:function(e,t){if("[object Object]"===o.toString.call(e)){if(t)throw new i.default("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===o.toString.call(e))o.extend(this.partials,e);else{if(void 0===t)throw new i.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===o.toString.call(e)){if(t)throw new i.default("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var c=l.default.log;t.log=c,t.createFrame=o.createFrame,t.logger=l.default},function(e,t,n){"use strict";e.exports={ar:n(636),cs:n(635),de:n(634),el:n(633),en:n(632),es:n(631),"es-419":n(630),fi:n(629),fr:n(628),"fr-CA":n(627),hu:n(626),id:n(625),it:n(624),ja:n(623),nl:n(622),pl:n(621),"pt-BR":n(620),sv:n(619),th:n(618),tr:n(617),vi:n(616),"zh-Hant":n(615),ms:n(614)}},function(e,t,n){"use strict";var r=s(n(187)),o=s(n(613)),i=s(n(78)),a=s(n(611));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e){if(!e||"object"!=typeof e)throw new Error("`appStringsByLocale` must be a plain object. See spotify-i18n/README.md");function t(){const t="undefined"!=typeof window&&window&&window.__spotify&&window.__spotify.locale;return t in e?t:"en"}const n={};function s(e,r,...s){const l=t(),u=e[l][r],c="object"!=typeof u?u:u[function(e,t){return(n[e]||(n[e]=new Intl.PluralRules((0,i.default)(e,"intl")))).select(t)}(l,s[0])]||u.other;return void 0===c?(0,a.default)(r):(0,o.default)(c,s,l)}return{locale:t,get:s.bind(null,e),getGlueString:s.bind(null,r.default),glueStrings:function(){return r.default[t()]},appStrings:function(){return e[t()]}}}},function(e,t,n){var r=n(114).Symbol;e.exports=r},function(e,t,n){var r=n(189),o=n(639),i=n(638),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:l&&l in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(62),o=n(641),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?i:+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createView=void 0;var r=p(n(115)),o=p(n(61)),i=p(n(6)),a=p(n(60)),s=n(59),l=p(n(13)),u=n(34),c=p(n(22)),d=p(n(587)),f=p(n(11));function p(e){return e&&e.__esModule?e:{default:e}}const h=(0,i.default)("saf:billboard-ad:view"),m=new s.EventEmitter,g="viewed",y="clicked",v="ended",_="collapsed",b="terminated",w="foregrounded",E="backgrounded",k={INACTIVE:0,VIEWED:1,MINIMIZED:2,FINISHED:3,DESTROYED:4};let S=3e4,x=3e4,T=500;class A{constructor(e,t){this.container=e,this.state=k.INACTIVE,this.adData=function(e){const t=e.ad.metadata||{},n={id:e.ad.id,isAdaptive:!1,clickUrl:e.ad.click_url,mediaSrc:null,isValid:!0,disclaimer:a.default.get("Advertisement"),accountUpgradeTracking:t.accountUpgradeTracking,accountUpgrade:t.accountUpgrade,creativeId:t.creative_id,lineItemId:t.lineitem_id};switch(e.format){case"banner":n.companionSrc=!!e.ad.companion_ad&&e.ad.companion_ad.url,n.mediaSrc=e.ad&&e.ad.images&&e.ad.images[0]&&e.ad.images[0].url;break;case"unknown":break;default:n.isValid=!1}return n}(t),this.isDummyAd=!this.adData.mediaSrc,this.viewedTimestamp=0,this.unsubscribeToFocusChange=o.default,this.timerAutoMinimize=null,this.timerAutoTearDown=null,Object.getOwnPropertyNames(Object.getPrototypeOf(this)).forEach(e=>{const t=this[e];"function"==typeof t&&"constructor"!==e&&(this[e]=t.bind(this))}),this._states=k}setup(){this.container.classList.remove("minimized"),this.adData.isValid?(this.isDummyAd?this._setupDummy():this._setupNormal(),this._dispatchEvent(l.default.AD_BILLBOARD_STARTED)):this.finish()}_setupDummy(){this.container.classList.add("dummy"),h("Dummy billboard ad rendered")}_setupNormal(){this.container.innerHTML=(0,d.default)(this.adData),this.container.setAttribute("data-contextmenu",""),this.container.setAttribute("data-uri",JSON.stringify({creativeId:this.adData.creativeId,lineItemId:this.adData.lineItemId}));const e=this.container.querySelector(".billboard"),t=this.container.querySelector(".companion");document.body.addEventListener("click",this._onBodyClicked),t&&t.addEventListener("click",this._onCompanionClicked),this.unsubscribeToFocusChange=(0,u.subscribeToFocusChange)(this._onFocus),this._enableMinimizer(),this._setupImage(e)}_onFocus(e){return this._logEvent(e?w:E)}_setupImage(e){e.addEventListener("click",this._clickOpenLink),this._media=e.querySelector("img"),this._media.addEventListener("load",(0,r.default)(this.fadeIn)),this._media.addEventListener("error",this._onError)}_enableMinimizer(){this.shouldAutoMinimize=!1,this.container.querySelector(".minimizer").classList.add("visible")}updateOffSetLeft(e){const t=this.container.querySelector(".footer");t&&(t.style.left=e)}isActive(){return this.state!==k.INACTIVE}play(){h("play"),this.state>=k.VIEWED||(this.state=k.VIEWED,this.isDummyAd||(this.timerAutoMinimize=setTimeout(this.minimize,x),this.viewedTimestamp=(new Date).getTime(),this._logEvent(g)))}finish(){if(this.state>=k.FINISHED)return Promise.resolve();const e=this.state;return this.state=k.FINISHED,h("finish"),e===k.INACTIVE?this._logEvent(b):this._logEvent(v),this.destroy().then(()=>(this._dispatchEvent(l.default.AD_BILLBOARD_FINISHED),f.default.postToSlot("billboard","clear")))}destroy(){return this.state>=k.DESTROYED?Promise.resolve():(this.state=k.DESTROYED,new Promise(e=>{document.body.removeEventListener("click",this._onBodyClicked),this.progressBar&&this.progressBar.finish(),this.unsubscribeToFocusChange(this._onFocus),clearTimeout(this.timerAutoMinimize),clearTimeout(this.timerAutoTearDown),this.fadeOut().then(()=>{this.container.innerHTML="",this.container.classList.remove("dummy"),this.container.classList.remove("minimized"),this._dispatchEvent(l.default.AD_BILLBOARD_DISCARDED),m.emit("INACTIVE"),e()})}))}fadeIn(){return h("fadeIn"),new Promise(e=>{this.container.classList.add("visible"),setTimeout(()=>{this.container.classList.add("ready"),setTimeout(()=>{this._dispatchEvent(l.default.AD_BILLBOARD_VISIBLE),e()},T)},100)})}fadeOut(){return h("fadeOut"),new Promise(e=>{this.container.classList.remove("ready"),setTimeout(()=>{this.container.classList.remove("visible"),e()},T)})}minimize(){this.state>=k.MINIMIZED||(this.state=k.MINIMIZED,this._dispatchEvent(l.default.AD_BILLBOARD_MINIMIZED),this._logEvent(_,{msSinceViewed:String((new Date).getTime()-this.viewedTimestamp)}),this.container.classList.add("minimized"),clearTimeout(this.timerAutoMinimize),this.timerAutoTearDown=setTimeout(()=>{this.finish()},S))}_onError(e){e.hasOwnProperty("isTrusted")&&!e.isTrusted||(h(`Failed to load billboard ${this.adData.mediaSrc}`),this.finish())}_dispatchEvent(e){c.default.dispatchEvent({type:e,params:{id:this.adData.id,isDummyAd:this.isDummyAd},extra:{}})}_logEvent(e,t){f.default.postEvent(this.adData.id,e,{event_data:Object.assign({clientReportedUserAgent:navigator.userAgent},t)})}_clickOpenLink(e){e.stopPropagation(),e.preventDefault(),this.adData.accountUpgrade?(h("account-upgrade"),c.default.dispatchEvent({type:l.default.NAVIGATION_UPGRADE,params:{tracking:this.adData.accountUpgradeTracking}})):window.open(this.adData.clickUrl),this.minimize(),this._logEvent(y)}_onCompanionClicked(e){e.stopPropagation(),this._logEvent(y)}_onBodyClicked(){this.minimize()}static on(e,t){m.on(e,t)}_setFadeOutAnimationLength(e){T=e}_setAutoMinimizeAfterMs(e){x=e}_setAutoTearDownAfterMs(e){S=e}}t.createView=function(e,t){return new A(e,t)}},function(e,t,n){"use strict";const r=n(9),o=n(194);function i(e,t,n,r,o,a){if(!(this instanceof i))return new i(e,t,n,r,o,a);if(!(e&&t&&n&&r&&o))throw new TypeError("Missing parameters for Play");this._resolver=e,this._createSessionPromise=t,this._player=n,this._getTime=r,this._context=o,this._optOptions=a}i.prototype._sessionUrl=function(){return this._createSessionPromise.then(function(e){return e.getJSONBody().session})},i.prototype._createPlayRequest=function(e){const t={logging_params:{command_initiated_time:this._getTime()}};return new r.Request(r.Action.POST,`${e}/play`,null,t)},i.prototype._createUpdateRequest=function(e,t){return t.logging_params={command_initiated_time:this._getTime()},new r.Request(r.Action.POST,`${e}/update`,null,t)},i.prototype.play=function(e=(()=>{})){const t=this;this._createSessionPromise?this._sessionUrl().then(function(e){return o.call(t._resolver.resolve.bind(t._resolver),t._createPlayRequest(e))}).done(function(){e(null)},function(n){if(n.response&&404===n.response.getStatusCode())t._createSessionPromise=null,t.play(e);else{const t=new Error(`Failed to prepare player session: ${n.message}`);t.cause=function(){return n},e(t)}}):this._player.play(this._context,this._optOptions,e)},i.prototype._update=function(e,t=(()=>{})){const n=this;this._createSessionPromise?this._sessionUrl().then(function(t){return o.call(n._resolver.resolve.bind(n._resolver),n._createUpdateRequest(t,e))}).done(function(){t(null)},function(e){const n=new Error(`Failed to update player session: ${e.message}`);n.cause=function(){return e},t(n)}):t(new Error("Cannot update invalidated Play"))},i.prototype.updateContext=function(e,t){this._update({context:e},t)},i.prototype.updatePage=function(e,t){this._update({page:e},t)},i.prototype.updateTrack=function(e,t){this._update({track:e},t)},i.prototype.updateViewUri=function(e,t){this._update({view_uri:e},t)},i.prototype.invalidate=function(e=(()=>{})){if(!this._createSessionPromise)return;const t=this;this._sessionUrl().done(function(n){const o=new r.Request(r.Action.DELETE,n,null,null);t._resolver.resolve(o,function(){e(null)})},function(){e(null)}),this._createSessionPromise=null},t.Play=i},function(e,t,n){var r;/** @license MIT License (c) copyright 2013 original author or authors */ /** @license MIT License (c) copyright 2013 original author or authors */
!function(o){void 0===(r=function(e){var t=n(651),r=n(650),o=n(649).setTimer,i=Array.prototype.slice,a=n(647)(t.Promise,function(e,t,n,r){var o=l(r);try{switch(n.length){case 2:e.call(t,n[0],n[1],o);break;case 1:e.call(t,n[0],o);break;case 0:e.call(t,o);break;default:n.push(o),e.apply(t,n)}}catch(e){r.reject(e)}});return{lift:s,liftAll:function(e,t,n){return r(s,t,n,e)},apply:function(e,t){return a(e,this,t||[])},call:function(e){return a(e,this,i.call(arguments,1))},createCallback:l,bindCallback:u,liftCallback:function(e){return function(t){return u(t,e)}}};function s(e){var t=arguments.length>1?i.call(arguments,1):[];return function(){var n,r=t.length,o=arguments.length,i=new Array(o+r);for(n=0;n<r;++n)i[n]=t[n];for(n=0;n<o;++n)i[n+r]=arguments[n];return a(e,this,i)}}function l(e){return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(i.call(arguments,1)):e.resolve(n)}}function u(e,n){return e=t(e),n&&e.then(function(e){r(null,e)},r),e;function r(e,t){o(function(){n(e,t)},0)}}}.call(t,n,t,e))||(e.exports=r)}(n(79))},function(e,t,n){"use strict";const r=n(652),o=n(193),i=n(646);t.Play=o.Play,t.Player=r.Player,t.PlayHistory=i.PlayHistory},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeToActivity=function(e,t){const n=l(t);if(-1===n)a.push({fn:t,msInactive:e,isActive:!1});else{const t=a[n];t.msInactive=e,clearTimeout(t.inactiveTimeout),t.inactiveTimeout=setTimeout(t.fn.bind(null,o),t.msInactive)}return function(e){const t=l(e);if(-1!==t)return a.splice(t,1),!0;return!1}.bind(null,t)},t.enableActivityMonitorForWindow=function(e){return i("enableActivityMonitorForWindow"),e.addEventListener("mousemove",s),e.addEventListener("mouseup",s),e.addEventListener("keydown",s),e.addEventListener("scroll",s,!0),function(e){i("disableActivityMonitorForWindow"),e.removeEventListener("mousemove",s),e.removeEventListener("mouseup",s),e.removeEventListener("keydown",s),e.removeEventListener("scroll",s,!0)}.bind(null,e)},t._onActivity=s,t._reset=function(){a.length=0};const r=!0,o=!1,i=(0,function(e){return e&&e.__esModule?e:{default:e}}(n(6)).default)("client-state:activity"),a=[];function s(){a.forEach(e=>{e.isActive||(e.isActive=!0,e.fn(r)),clearTimeout(e.inactiveTimeout),e.inactiveTimeout=setTimeout(()=>{e.isActive=!1,e.fn(o)},e.msInactive)})}function l(e){let t=-1;return a.some((n,r)=>n.fn===e&&(t=r,!0)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeToFocusChange=function(e){r.includes(e)||(r.push(e),i?e(a):function(){if(i)return;i=!0,o=setInterval(l,s),a=document.hasFocus(),u()}());return function(e){const t=r.indexOf(e);if(-1!==t)return r.splice(t,1),r.length<1&&function(){clearInterval(o),i=!1}(),!0;return!1}.bind(null,e)},t._setIntervalTime=function(e){s=e};const r=[];let o,i=!1,a=!1,s=500;function l(){const e=document.hasFocus();e!==a&&(a=e,u())}function u(){r.forEach(e=>{e(a)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(6)),i=n(34),a=p(n(4)),s=p(n(22)),l=p(n(13)),u=p(n(15)),c=p(n(11)),d=n(192),f=p(n(185));function p(e){return e&&e.__esModule?e:{default:e}}const h={init:function(e){m("init"),O.isInitialized||(O.containerEl=e,O.isInitialized=!0)},enable:function(){if(m("enable"),!O.isInitialized)throw new Error("Not initialized yet");if(!O.isEnabled)return O.isEnabled=!0,c.default.addNewSlot(y,v).then(()=>{!function(){c.default.subscribeToSlotType(y,U),c.default.subscribeToSlotType(g,e=>M(e)),s.default.addEventListener(l.default.AD_BILLBOARD_FINISHED,Y),s.default.addEventListener(l.default.DEBUG_SET_BILLBOARD_TIMEOUT,z),s.default.addEventListener(l.default.DEBUG_FORCE_REFRESH_BILLBOARD,F),S=(0,i.subscribeToClientState)(["focus"],j),x=(0,i.subscribeToClientState)(["ad_playing","video_playing"],$),T=(0,i.subscribeToClientState)(["current_app_uri"],B),R()}()}).catch(e=>{console.error("Error creating slot",e),O.isEnabled=!1});return Promise.resolve()},disable:function(){O.isEnabled&&(!function(){s.default.removeEventListener(l.default.AD_BILLBOARD_FINISHED,Y),s.default.removeEventListener(l.default.DEBUG_SET_BILLBOARD_TIMEOUT,z),s.default.removeEventListener(l.default.DEBUG_FORCE_REFRESH_BILLBOARD,F),S(),A(),T(),x()}(),J(),O.isEnabled=!1,m("disable"))},updateOffSetLeft:function(e){O.view&&O.view.updateOffSetLeft(e)},_resetState:function(){clearTimeout(O.timerSetupView),clearTimeout(O.timerFetchRetry),clearTimeout(O.timerDfpRetry),O=r({},k),C=null},_setTimeoutMs:function(e){P=e},_setDfpFetchRetryMsOverride:function(e){C=e},_setView:function(e){O.view=e}};t.default=h;const m=(0,o.default)("saf:billboard-ad:index"),g="preview",y="billboard",v="video",_=["ad","browse","charts","discover","home","hub","glue-reference","diag","app-manager"],b=18e4,w=5e3,E=1e4,k={isUserActive:!0,containerEl:null,view:null,isInitialized:!1,activating:!1,isEnabled:!1,timerSetupView:null,timerFetchRetry:null,timerDfpRetry:null};let S,x,T,A,P,C,O=r({},k);function L(e){e?!O.isUserActive&&(0,i.getClientState)().focus&&H():function(){m("setApplicationInactive"),clearTimeout(O.timerSetupView),O.view&&O.view.isActive()||(R(),N(),O.isUserActive=!1)}()}function I(){return P?(m("use _focusTimeoutMsOverride: %o",P),Promise.resolve(P)):(m("getFocusTimeoutMs"),c.default.getSlotConfiguration(y,"display_time_interval").then(e=>{if(e&&e>0)return m("using billboard slot config focus time (seconds): %o",e),1e3*e;throw new Error(`triggerAfterFocusLostS is not a positive integer: ${e}`)}).catch(e=>(m("error getting display time interval: %o",e),b)))}function R(){I().then(e=>{A=(0,i.subscribeToActivity)(e,L)})}function M(e){if(!e.ad.companion_ad)return;const t=e.slot||g;switch(e.event){case"available":m("preview available: data=%o",e),K(e),c.default.postToSlot(t,"now");break;case"play":m("preview play"),O.view.play();break;case"discard":m("preview discard (ignoring)");break;default:throw new Error(`Unknown core event from ${t} slot: ${e.event}`)}}function U(e){if(u.default.isPreviewServiceAd(e.ad))M(e);else switch(e.event){case"available":m("available & active",e),function(e){m("onAvailable data=%o",e),D()?(q(f.default.Event.DISCARD,D()),W()):(K(e),m("active"))}(e);break;case"play":m("play: data=%o",e),O.view.play();break;case"discard":m("discard: data=%o",e),function(){if(O.view){const e=!O.view.isActive();O.view.destroy().then(()=>{e&&(O.timerDfpRetry=setTimeout(F,C||E))}),O.view=null}}();break;default:throw new Error(`[Billboard] Unsupported event type: ${e.event}`)}}function D(){return Q()||((0,i.getClientState)().focus&&O.isUserActive?f.default.Reason.CLIENT_ACTIVE:null)}function F(){O.view?m("will not fetch: view exists"):(m("postFetchToCore"),W().then(()=>c.default.postToSlot(y,"fetch")).catch(G))}function N(){if(clearTimeout(O.timerFetchRetry),function(){return!Q()}())F();else{m("cannot show, retrying in 5s",Q());const e=Q();e===f.default.Reason.VIDEO_TRACK_PLAYING&&q(f.default.Event.NO_FETCH,e),O.timerFetchRetry=setTimeout(()=>{N()},w)}}function j(e){e.focus?H():function(){if(m("applicationFocusLost"),O.view&&O.view.isActive())return void m("view already active");clearTimeout(O.timerSetupView),I().then(e=>{q(f.default.Event.TRIGGER_WAIT,f.default.Reason.OUT_OF_FOCUS,e),m("set fetch timeout (ms): %o",e),O.timerSetupView=setTimeout(N,e)})}()}function B(e){V(e.current_app_uri)?(m("finish ad due to blacklisted uri"),J()):O.view&&O.view.minimize()}function V(e){const t=a.default.from(e);return Boolean(t&&_.indexOf(t.id)>-1)}function H(){m("applicationFocusGained"),O.isUserActive=!0,clearTimeout(O.timerFetchRetry),clearTimeout(O.timerSetupView),!O.view||O.view.isActive()||O.activating||(O.activating=!0,c.default.patchTargeting("focus","true").then(c.default.postToSlot.bind(null,"billboard","now")).catch(()=>{console.error("Error activating billboard ad")}).then(()=>{O.activating=!1}))}function q(e,t,n){const r=(0,i.getClientState)(),o={event:e,reason:t||"",slot:f.default.Slot.BILLBOARD,in_focus:String(r.focus),uri:r.current_app_uri,wait_ms:n?Number(n):0};m("logControlEvent",o),f.default.log(o)}function $(){const e=Q();O.view&&e&&(m("finish ad due to reason=%o",e),J())}function z(e){P=e.params.timeout,R()}function Y(){O.view=null;const e=(0,i.getClientState)();m("onBillboardAdFinished: will setTimeout to fetch ad: %o",!e.focus),e.focus||(O.timerDfpRetry=setTimeout(F,C||E))}function G(e){console.error(e)}function W(){return c.default.triggerSlotClearAll(y).catch(G)}function J(){m("finish"),O.view&&O.view.finish()}function K(e){O.view=(0,d.createView)(O.containerEl,e),O.view.setup()}function Q(){const e=(0,i.getClientState)();return e.ad_playing&&e.video_playing?f.default.Reason.VIDEO_AD_ACTIVE:e.ad_playing&&!e.video_playing?f.default.Reason.AUDIO_AD_ACTIVE:!e.ad_playing&&e.video_playing?f.default.Reason.VIDEO_TRACK_PLAYING:V(e.current_app_uri)?f.default.Reason.URI_BLACKLISTED:void 0}},function(e,t,n){var r=n(19),o=n(81),i=function(e,t,n){var a,s,l,u,c,d;if(c="\n",r.string(n)||(n=""),r.array(e)){if(!r.array(t))return'expected type "'+o(e)+'" but found type "'+o(t)+'"\n';for(a=0,l=e.length,u=t.length;a<l&&a<u;a++)null!==(d=i(e[a],t[a],n+"    "))&&(c+=n+'"'+a+'": '+d);for(;a<l;a++)c+=n+'"'+a+'": the item is missing\n';for(;a<u;a++)c+=n+'"'+a+'": the item was not expected\n';return"\n"!==c?c:null}if(r.boolean(e))return r.boolean(t)?e.valueOf()!==t.valueOf()?"expected "+e.valueOf()+" but found "+t.valueOf()+"\n":null:'expected type "'+o(e)+'" but found type "'+o(t)+'"\n';if(r.null(e))return r.null(t)?null:'expected type "'+o(e)+'" but found type "'+o(t)+'"\n';if(r.number(e))return r.number(t)?e.valueOf()!==t.valueOf()?"expected "+e.valueOf()+" but found "+t.valueOf()+"\n":null:'expected type "'+o(e)+'" but found type "'+o(t)+'"\n';if(r.object(e)){if(!r.object(t))return'expected type "'+o(e)+'" but found type "'+o(t)+'"\n';for(s in e)s in t?null!==(d=i(e[s],t[s],n+"    "))&&(c+=n+'"'+s+'": '+d):c+=n+'"'+s+'": the item is missing\n';for(s in t)s in e||(c+=n+'"'+s+'": the item was not expected\n');return"\n"!==c?c:null}return r.string(e)?r.string(t)?e.valueOf()!==t.valueOf()?'expected "'+e.valueOf()+'" but found "'+t.valueOf()+'"\n':null:'expected type "'+o(e)+'" but found type "'+o(t)+'"\n':r.undefined(e)?r.undefined(t)?null:'expected type "'+o(e)+'" but found type "'+o(t)+'"\n':null==t||t.constructor!==e.constructor?'expected an instance of type "'+o(e)+'"\n':e!==t?'expected a different instance of type "'+o(e)+'"\n':null};e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Response=t.StatusCode=void 0;var r=n(201);t.StatusCode={OK:200,CREATED:201,ACCEPTED:202,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,TIMED_OUT:408,CONFLICT:409,GONE:410,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,ERROR_UNKNOWN:-100,ERROR_ALLOCATION_FAILED:-101,ERROR_INVALID_ENCODING:-102,ERROR_INFINITE_LOOP:-103,ERROR_RESOLVER_NOT_FOUND:-104};class o extends r.Message{constructor(e,t,n,r){if("number"!=typeof t)throw new TypeError("Invalid `status` argument for Response.");super(e,n,r),this._status=t}static fromObject(e){return e&&e.uri&&e.status?new o(e.uri,e.status,e.headers,e.body):null}getMimeType(){return this._headers["content-type"]}getStatusCode(){return this._status}copy(e,t){return new o(this._uri,this._status,this._copyHeaders(e),void 0!==t?t:this._body)}toJSON(){return{uri:this._uri,status:this._status,headers:this._headers,body:this._body}}}t.Response=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,n){if("string"!=typeof e)throw new TypeError("Invalid `uri` argument for Message.");this._uri=e,this._headers=this._headersToLowerCase(t),this._body=function(e){return"string"!=typeof e?JSON.stringify(e):e}(n||"")}static fromObject(e){return e&&e.uri?new r(e.uri,e.headers,e.body):null}getURI(){return this._uri}getMimeType(){return this._headers.accept}getHeader(e){return this._headers[e.toLowerCase()]||null}getHeaders(){return this._copyHeaders(null)}getBody(){return this._body}getJSONBody(){try{return JSON.parse(this._body)}catch(e){return null}}copy(e,t){return new r(this._uri,this._copyHeaders(e),void 0!==t?t:this._body)}serialize(){return this.toJSON()}toJSON(){return{uri:this._uri,headers:this._headers,body:this._body}}_headersToLowerCase(e){return null===e||"object"!=typeof e?{}:Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{})}_copyHeaders(e){return Object.assign({},this._headers,this._headersToLowerCase(e))}}t.Message=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=t.Action=void 0;var r=n(201);t.Action={DELETE:"DELETE",GET:"GET",HEAD:"HEAD",POST:"POST",PUT:"PUT",SUB:"SUB",PATCH:"PATCH"};class o extends r.Message{constructor(e,t,n,r){if("string"!=typeof e)throw new TypeError("Invalid `action` argument for Request.");super(t,n,r),this._action=e}static fromObject(e){return e&&e.action&&e.uri?new o(e.action,e.uri,e.headers,e.body):null}getAction(){return this._action}copy(e,t){return new o(this._action,this._uri,this._copyHeaders(e),void 0!==t?t:this._body)}toJSON(){return{action:this._action,uri:this._uri,headers:this._headers,body:this._body}}}t.Request=o},function(e,t){function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t){var r=[],o=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+o.slice(0,n(r,t)).join(".")+"]"}),function(i,a){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?o.splice(s,1/0,i):o.push(i),~n(r,a)&&(a=t.call(this,i,a))}else r.push(a);return null==e?a instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(a):a:e.call(this,i,a)}}(e.exports=function(e,t,n,o){return JSON.stringify(e,r(t,o),n)}).getSerialize=r},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},,function(e,t,n){},function(e){e.exports={name:"client-desktop",version:"1.0.85",author:"Desktop <desktop@spotify.com>",license:"UNLICENSED",private:!0,engines:{node:">=8.5.0",yarn:">=1.2.1"},"lint-staged":{linters:{"(apps|libs|tools)/**/*.js":["yarn run lint-js:staged","bash ./tools/check-formatting-staged.sh","jest --config ./.jestrc_unit.json --bail --findRelatedTests --ci"],"*.json":["yarn run json-validate"],"*.scss":["yarn run lint-scss"],"*.yaml":["yarn run yaml-validate"]}},scripts:{build:"node ./tools/npm-scripts/switchboard.js build",dev:"node ./tools/npm-scripts/switchboard.js dev","cassette-audit":"node ./tools/npm-scripts/audit-cassette-files.js","cassette-pack":"node ./tools/npm-scripts/cassette-pack.js","cassette-unpack":"node ./tools/npm-scripts/cassette-unpack.js","cassette-clean":"rm -rf .cassette && git checkout .cassette","check-licenses":"license-to-fail .license-whitelist","check-package-json":"node ./tools/npm-scripts/check-package-json.js","clean-vcr":"node ./tools/npm-scripts/clear-vcr.js",clean:"node ./tools/npm-scripts/switchboard.js clean","process-title":"node ./tools/npm-scripts/process-title","decorate-junit":"node ./tools/npm-scripts/decorate-junit.js","download-spclientd":"node ./tools/npm-scripts/download-spclientd.js",disable:"node ./tools/npm-scripts/switchboard.js disable",enable:"node ./tools/npm-scripts/switchboard.js enable","generate-yaml":"node tools/npm-scripts/translations-generate-yaml.js",help:"cat ./docs/help.txt",i18n:"node ./tools/npm-scripts/switchboard.js i18n","json-validate":"node tools/npm-scripts/json-validate.js","launch-osx":"open SpotifyLauncher","launch-osx-debug":"open SpotifyLauncherDebug","lint-scss":"node ./tools/npm-scripts/lint-scss.js","lint-js:fix":"eslint -c .eslintrc --fix","lint-js":'eslint -c .eslintrc --quiet "{apps,libs,tools}/**/*.js"',"lint-js:staged":"eslint -c .eslintrc --quiet",lint:"yarn run lint-js && yarn run lint-scss","package-apps":"node ./tools/npm-scripts/switchboard.js package-apps","lint-staged":"lint-staged",postinstall:"check-engines",precommit:"yarn run lint-staged","spa-zip":"node ./tools/npm-scripts/switchboard.js spa-zip",spa:"node ./tools/npm-scripts/switchboard.js spa","test-help":"node ./tools/npm-scripts/test-help.js","test-integration":"bash ./tools/npm-scripts/test-integration.sh","test-integration-bypass":"VCR_MODE=bypass yarn test-integration","test-integration-debug":"TEST_DEBUG=1 yarn test-integration","test-integration-playback":"VCR_MODE=playback yarn test-integration","test-integration-record":"VCR_MODE=record VCR_CLEAN=1 yarn test-integration","posttest-integration-record":"yarn run cassette-pack","test-integration-record-failed":"node ./tools/npm-scripts/test-integration-record-failed.js","test-integration-re-record-all":"node ./tools/npm-scripts/test-integration-record-failed.js record-all","test-integration-report":"node ./tools/npm-scripts/build-test-report.js ./artifacts/junit_jest_integration.xml","test-integration-report-open":"yarn test-integration-report && http-server ./tools/jest/test-report -o -c-1","which-node":"which node",format:"prettier --write","format:dryrun":'prettier --list-different "{apps,libs,tools}/**/*.js"',"format:all":'prettier --write "{apps,libs,tools}/**/*.js"',pretest:"check-engines",test:"yarn test-unit && yarn test-integration-playback","pretest-unit":"check-engines","test-unit":"bash ./tools/npm-scripts/test-unit.sh","test-unit-debug":"TEST_DEBUG=1 yarn test-unit","translations-check":"node ./tools/npm-scripts/translations-check.js","translations-download":"node ./tools/npm-scripts/translations-download.js","translations-upload":"node ./tools/npm-scripts/translations-upload.js","translations-untranslated":"node ./tools/npm-scripts/untranslated.js","update-libs-apps-tree":"node ./tools/npm-scripts/update-libs-apps-tree.js",watch:"yarn run update-libs-apps-tree && node ./tools/npm-scripts/switchboard.js watch","yaml-validate":"node tools/npm-scripts/yaml-validate.js"},dependencies:{async:"^2.6.1","avro-js":"^1.8.2","bfs-km-types":"^2.3.8",classnames:"^2.2.6",debug:"3.1.0","dom-delegate":"~2.0.3",domify:"~1.4.0",domready:"^1.0.8","escape-html":"~1.0.1",events:"^3.0.0",findandreplacedomtext:"0.4.6",glob:"^7.1.2",handlebars:"^4.0.11",hbsfy:"^2.8.1","highlight.js":"^9.12.0",humanize:"^0.0.9","is-jpg":"~2.0.0",jsonify:"file:libs/jsonify",knockout:"3.4.2",lodash:"^4.17.10",minimist:"^1.2.0",moment:"^2.22.2",mout:"^1.1.0",nlp_compromise:"^1.1.3","node-sass":"4.9.0",partialify:"^3.1.5","promisify-native":"^1.0.0","prop-types":"^15.6.1",quantize:"^1.0.2",quill:"0.19.10","raven-js":"^3.26.2",react:"^16.4.0","react-dom":"^16.4.0","react-redux":"^5.0.7","react-transition-group":"2.3.1","react-virtualized":"^9.19.1",redux:"^4.0.0","redux-thunk":"^2.3.0",request:"^2.87.0",reselect:"^3.0.1","shaka-player-spotify":"2.1.4-sp.4",slick:"^1.12.2","spotify-batch":"0.0.2","spotify-cosmos-api":"^1.7.4","spotify-deferred":"^0.3.0","spotify-eventemitter":"^3.0.1","spotify-inheritance":"^1.0.1","spotify-liburi":"^4.6.0","spotify-modal":"^1.1.0","spotify-simple-navbar":"^1.0.0","teamcity-service-messages":"^0.1.9",url:"~0.11.0","uuid-js":"^0.7.5",webhdfs:"^1.2.0",when:"^3.7.8"},devDependencies:{"@csstools/postcss-sass":"^2.0.0","@spotify/glue-tokens":"^0.0.10",archiver:"^2.1.1","babel-core":"^6.26.3","babel-jest":"^23.0.1","babel-loader":"^7.1.4","babel-plugin-syntax-object-rest-spread":"^6.3.13","babel-plugin-transform-es2015-modules-commonjs":"^7.0.0-alpha.19","babel-plugin-transform-object-rest-spread":"^6.3.13","babel-preset-react":"^6.3.13",babelify:"^8.0.0","best-effort-concurrent-cache":"^3.0.2",browserify:"^16.2.2","browserify-incremental":"^3.1.0","bucket-runner":"^3.1.1","cache-loader":"^1.2.2","canvas-prebuilt":"^1.6.5-prerelease.1","check-engines":"^1.5.0","concat-stream":"^1.6.2","console.table":"^0.10.0","css-loader":"^0.28.11","dependency-tree":"^6.1.0","element-dataset":"^2.2.6",envify:"^4.1.0",enzyme:"^3.3.0","enzyme-adapter-react-16":"^1.1.1","enzyme-to-json":"^3.3.4",eslint:"^4.19.1","eslint-config-prettier":"^2.9.0","eslint-config-spotify":"^9.0.0","eslint-plugin-jest":"^21.17.0","eslint-plugin-jsx-a11y":"^6.0.3","eslint-plugin-lodash":"^2.7.0","eslint-plugin-mocha":"^5.0.0","eslint-plugin-react":"^7.9.1","fast-sass-loader":"^1.4.5","fetch-mock":"^6.4.4","file-loader":"1.1.11","handlebars-loader":"^1.7.0","html-webpack-harddisk-plugin":"^0.2.0","html-webpack-plugin":"^3.2.0","http-server":"^0.11.1",husky:"^0.14.3","intl-pluralrules":"^0.2.1","is-reachable":"^2.4.0","isomorphic-fetch":"^2.2.1",jest:"^23.1.0","jest-junit":"^5.0.0","jest-unique-reporter":"^1.0.0","js-yaml":"^3.12.0","json-stable-stringify":"^1.0.1","license-checker":"^20.1.0","license-to-fail":"^2.1.0","lint-staged":"^7.2.0","mini-css-extract-plugin":"^0.4.0",mkdirp:"^0.5.1",ncp:"^2.0.0",nsp:"^3.2.1","nsp-preprocessor-yarn":"^1.1.2",opn:"^5.3.0","optimize-css-assets-webpack-plugin":"^4.0.2",postcss:"^6.0.22","postcss-loader":"^2.1.5","postcss-rtl":"^1.3.0","postcss-scss":"^1.0.5",prettier:"^1.13.5","react-devtools":"^3.2.3","react-hot-loader":"^4.3.2","redux-mock-store":"^1.5.1","remote-client-resolver":"^0.26.0","remote-redux-devtools":"^0.5.12","remotedev-server":"^0.2.4",semver:"^5.5.0","set-blocking":"^2.0.0",sinon:"~1.17.3","sinon-as-promised":"~4.0.3","spotify-sepia":"^4.0.0","stitch-manifest-gen":"^2.0.0","style-loader":"^0.21.0",stylelint:"^9.2.1","stylelint-config-spotify":"^2.0.0","thread-loader":"^1.1.5",through2:"^2.0.1",uglifyify:"^5.0.0","uglifyjs-webpack-plugin":"^1.2.5","url-loader":"^1.0.1",watch:"^1.0.2",webpack:"^4.12.0","webpack-bundle-analyzer":"^2.13.1","webpack-cli":"^3.0.4","webpack-dev-server":"^3.1.4","webpack-merge":"^4.1.2","webpack-sentry-plugin":"^1.15.0",xml2js:"^0.4.19"},"jest-junit":{output:"./artifacts/jest_junit.xml",suiteNameTemplate:"{filepath}",classNameTemplate:"{classname}",titleTemplate:"{title}"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(3)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(63)),i=v(n(82)),a=v(n(122)),s=v(n(16)),l=v(n(49)),u=v(n(80)),c=v(n(23)),d=v(n(36)),f=v(n(64)),p=v(n(123)),h=v(n(92)),m=v(n(47)),g=v(n(141)),y=v(n(48));function v(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e,t,n){r.default.check.type(e,HTMLDocument),r.default.check.type(t,Window),r.default.check.object(n),this._document=e,this._window=t,this._config=r.default.clone(n)}newApplicationContext(e){r.default.check.type(e,Element);const t=new c.default(this._window,()=>new Date),n=new d.default,o=new m.default,u=new s.default(t,()=>new l.default,this._config),h=(e,r)=>new e(r,n,o,u,t,this._document,this._window),g=this._newViewParser(h),y=this._newSwitchableBackend(t,u),v=new p.default(y,g,u,()=>new Date);o.register(v);const _=new i.default(this._window,e,n,o,u,t,(e,t,n)=>new f.default(e,t,n),h),b=this._document.documentElement;return new a.default(b,_,u,t)}_newSwitchableBackend(e,t){r.default.check.type(e,c.default),r.default.check.type(t,s.default);const n=new u.default(e),o=new h.default(t,()=>new XMLHttpRequest);return new g.default(n,o,t)}_newViewParser(e){r.default.check.function(e);const t=new y.default(e);return t.register("bfs-card-album",o.CardAlbum),t.register("bfs-card-artist",o.CardArtist),t.register("bfs-card-chart",o.CardChart),t.register("bfs-card-episode",o.CardEpisode),t.register("bfs-card-link",o.CardLink),t.register("bfs-card-playlist",o.CardPlaylist),t.register("bfs-card-profile",o.CardProfile),t.register("bfs-card-show",o.CardShow),t.register("bfs-cell",o.Cell),t.register("bfs-container",o.Container),t.register("bfs-embedded-app",o.EmbeddedApp),t.register("bfs-error-screen",o.ErrorScreen),t.register("bfs-grid",o.Grid),t.register("bfs-header-browse",o.HeaderBrowse),t.register("bfs-header-genre",o.HeaderGenre),t.register("bfs-item-album",o.ItemAlbum),t.register("bfs-item-concert",o.ItemConcert),t.register("bfs-list-group",o.ListGroup),t.register("bfs-deferred-container",o.DeferredContainer),t.register("bfs-puff",o.Puff),t.register("bfs-section",o.Section),t.register("bfs-section-carousel",o.SectionCarousel),t.register("bfs-section-grid",o.SectionGrid),t.register("bfs-section-grid-buttons",o.SectionGridButtons),t.register("bfs-tab",o.Tab),t.register("bfs-tracklist",o.Tracklist),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rectIntersect=t.getParsedJson=t.getGridBreakPoint=t.getDateTime=t.formatClientVersion=void 0;var r=l(n(142)),o=l(n(87)),i=l(n(84)),a=l(n(117)),s=l(n(138));function l(e){return e&&e.__esModule?e:{default:e}}t.formatClientVersion=r.default,t.getDateTime=o.default,t.getGridBreakPoint=i.default,t.getParsedJson=a.default,t.rectIntersect=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Service=t.HubviewService=void 0;var r=i(n(123)),o=i(n(90));function i(e){return e&&e.__esModule?e:{default:e}}t.HubviewService=r.default,t.Service=o.default},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'data-list-items="true"\ndata-scroll-container\n'},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return null!=(i=(n.compare||t&&t.compare||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.sortDirection:t,"asc",{name:"compare",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o}))?i:""},2:function(e,t,n,r,o){return"    tl-sort-asc\n"},4:function(e,t,n,r,o){return"    tl-sort-desc\n"},6:function(e,t,n,r,o){return'  data-sort="track(negPopularity)"\n  data-interaction-target="header-name"\n  data-interaction-intent="sort-by-popularity"\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{};return'<th class="tl-popularity\n'+(null!=(i=(n.compare||t&&t.compare||n.helperMissing).call(a,"track(negPopularity)",null!=t?t.sortQuery:t,{name:"compare",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'"\n'+(null!=(i=n.if.call(a,null!=t?t.sortable:t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o}))?i:"")+"></th>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return null!=(i=(n.compare||t&&t.compare||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.sortDirection:t,"asc",{name:"compare",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o}))?i:""},2:function(e,t,n,r,o){return"    tl-sort-asc\n"},4:function(e,t,n,r,o){return"    tl-sort-desc\n"},6:function(e,t,n,r,o){return'data-sort="track(duration)" data-interaction-target="header-duration" data-interaction-intent="sort-by-duration"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{};return'<th class="tl-time\n'+(null!=(i=(n.compare||t&&t.compare||n.helperMissing).call(a,"track(duration)",null!=t?t.sortQuery:t,{name:"compare",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'" '+(null!=(i=n.if.call(a,null!=t?t.sortable:t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o}))?i:"")+"></th>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"data-sort-previous"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return'<th class="tl-more" '+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.sortable:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"></th>\r"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"data-sort-previous"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return'<th class="tl-local" '+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.sortable:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"></th>"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return null!=(i=(n.compare||t&&t.compare||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.sortDirection:t,"asc",{name:"compare",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o}))?i:""},2:function(e,t,n,r,o){return"    tl-sort-asc\n"},4:function(e,t,n,r,o){return"    tl-sort-desc\n"},6:function(e,t,n,r,o){return'data-sort="track(album(name),disc,number)" data-interaction-target="header-album" data-interaction-intent="sort-by-album"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing;return'<th class="tl-albums\n'+(null!=(i=(n.compare||t&&t.compare||s).call(a,"track(album(name),disc,number)",null!=t?t.sortQuery:t,{name:"compare",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'" '+(null!=(i=n.if.call(a,null!=t?t.sortable:t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o}))?i:"")+">"+e.escapeExpression((n.loc||t&&t.loc||s).call(a,"Album",{name:"loc",hash:{},data:o}))+"</th>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return null!=(i=(n.compare||t&&t.compare||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.sortDirection:t,"asc",{name:"compare",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o}))?i:""},2:function(e,t,n,r,o){return"    tl-sort-asc\n"},4:function(e,t,n,r,o){return"    tl-sort-desc\n"},6:function(e,t,n,r,o){return'data-sort="track(artists[0:1](name),album(name),disc,number)" data-interaction-target="header-artist" data-interaction-intent="sort-by-artist"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing;return'<th class="tl-artists\n'+(null!=(i=(n.compare||t&&t.compare||s).call(a,"track(artists[0:1](name),album(name),disc,number)",null!=t?t.sortQuery:t,{name:"compare",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'" '+(null!=(i=n.if.call(a,null!=t?t.sortable:t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o}))?i:"")+">"+e.escapeExpression((n.loc||t&&t.loc||s).call(a,"Artist",{name:"loc",hash:{},data:o}))+"</th>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"data-sort-previous"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return'<th class="tl-explicit" '+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.sortable:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"></th>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"data-sort-previous"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return'<th class="tl-premium" '+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.sortable:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"></th>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return null!=(i=(n.compare||t&&t.compare||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.sortDirection:t,"asc",{name:"compare",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o}))?i:""},2:function(e,t,n,r,o){return"    tl-sort-asc\n"},4:function(e,t,n,r,o){return"    tl-sort-desc\n"},6:function(e,t,n,r,o){return'data-sort="track(name)" data-interaction-target="header-name" data-interaction-intent="sort-by-name"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing;return'<th class="tl-name\n'+(null!=(i=(n.compare||t&&t.compare||s).call(a,"track(name)",null!=t?t.sortQuery:t,{name:"compare",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'" '+(null!=(i=n.if.call(a,null!=t?t.sortable:t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o}))?i:"")+">"+e.escapeExpression((n.loc||t&&t.loc||s).call(a,"Title",{name:"loc",hash:{},data:o}))+"</th>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<th class="tl-save"></th>\n'},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<th class="tl-play"></th>\n'},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'data-insert="'+l("function"==typeof(i=null!=(i=n.insertTracks||(null!=t?t.insertTracks:t))?i:s)?i.call(a,{name:"insertTracks",hash:{},data:o}):i)+'"\ndata-remove="'+l("function"==typeof(i=null!=(i=n.removeTracks||(null!=t?t.removeTracks:t))?i:s)?i.call(a,{name:"removeTracks",hash:{},data:o}):i)+'"\n'},3:function(e,t,n,r,o){return'data-context="true"\n'},5:function(e,t,n,r,o){return'data-list-quick-jump="true"\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c=n.blockHelperMissing,d='data-uri="'+e.escapeExpression("function"==typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)?a.call(l,{name:"uri",hash:{},data:o}):a)+'"\ndata-list="true"\n';return a=null!=(a=n.allows||(null!=t?t.allows:t))?a:u,s={name:"allows",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o},i="function"==typeof a?a.call(l,s):a,n.allows||(i=c.call(t,i,s)),null!=i&&(d+=i),a=null!=(a=n.noContext||(null!=t?t.noContext:t))?a:u,s={name:"noContext",hash:{},fn:e.noop,inverse:e.program(3,o,0),data:o},i="function"==typeof a?a.call(l,s):a,n.noContext||(i=c.call(t,i,s)),null!=i&&(d+=i),d+(null!=(i=n.if.call(l,null!=t?t.quickJump:t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+'data-interaction-context="tracklist"\ndata-ta-id="tracklist"\n'},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return' data-tooltip="'+e.escapeExpression((n.loc||t&&t.loc||n.helperMissing).call(null!=t?t:e.nullContext||{},"ListenCount",null!=(i=null!=t?t.track:t)?i.listenCount:i,{name:"loc",hash:{},data:o}))+'" data-tooltip-instant'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return'<td class="tl-cell tl-popularity"'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.track:t)?i.listenCount:i,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'>\n  <div class="pop-meter">\n    <div class="pop-meter-background"></div>\n    <div class="pop-meter-overlay" style="width: '+e.escapeExpression(e.lambda(null!=(i=null!=t?t.track:t)?i.popularity:i,t))+'%"></div>\n  </div>\n</td>\n'},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return'<td class="tl-cell tl-time" data-log-context="time-cell">\n  <div class="tl-cell__fixed-height">\n    <span data-log-click="duration">'+e.escapeExpression((n.duration||t&&t.duration||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.track:t)?i.duration:i,{name:"duration",hash:{},data:o}))+"</span>\n  </div>\n</td>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'<td class="tl-cell tl-more">\n  <div class="tl-cell__fixed-height">\n    <button\n      type="button"\n      data-button="contextmenu"\n      class="button button-icon-only button-more"\n      data-tooltip="'+l((n.loc||t&&t.loc||s).call(a,"More",{name:"loc",hash:{},data:o}))+'"\n      data-log-click="more-button"\n      data-log-data=\'{ "index": '+l("function"==typeof(i=null!=(i=n.index||o&&o.index)?i:s)?i.call(a,{name:"index",hash:{},data:o}):i)+', "target_uri": "'+l("function"==typeof(i=null!=(i=n.uri||(null!=t?t.uri:t))?i:s)?i.call(a,{name:"uri",hash:{},data:o}):i)+'" }\'\n      data-interaction-target="context-menu-button"\n      data-interaction-intent="show-options"></button>\n  </div>\n</td>\n'},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'  <span class="tl-item-local spoticon-localfile-16" data-tooltip="'+e.escapeExpression((n.loc||t&&t.loc||n.helperMissing).call(null!=t?t:e.nullContext||{},"LocalFile",{name:"loc",hash:{},data:o}))+'"></span>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return'<td class="tl-cell tl-local">\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.track:t)?i.local:i,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"</td>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.local:t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o}))?i:""},2:function(e,t,n,r,o){var i;return'      <span class="tl-cell__content" dir="auto">'+e.escapeExpression("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:o}):i)+"</span>\n"},4:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.uri:t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o}))?i:""},5:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'        <a title="'+l("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:s)?i.call(a,{name:"name",hash:{},data:o}):i)+'" href="'+l("function"==typeof(i=null!=(i=n.uri||(null!=t?t.uri:t))?i:s)?i.call(a,{name:"uri",hash:{},data:o}):i)+'" data-uri="'+l("function"==typeof(i=null!=(i=n.uri||(null!=t?t.uri:t))?i:s)?i.call(a,{name:"uri",hash:{},data:o}):i)+'" data-log-click="album-name" data-interaction-target="album-name" class="tl-cell__content" dir="auto">'+l("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:s)?i.call(a,{name:"name",hash:{},data:o}):i)+"</a>\n"},7:function(e,t,n,r,o){var i;return'        <span dir="auto" class="tl-cell__content">'+e.escapeExpression("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:o}):i)+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return'<td class="tl-cell tl-albums" data-log-context="album-cell">\n'+(null!=(i=n.blockHelperMissing.call(t,e.lambda(null!=(i=null!=t?t.track:t)?i.album:i,t),{name:"track.album",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"</td>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.local:t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o}))?i:""},2:function(e,t,n,r,o){var i;return'<span class="tl-cell__content" dir="auto">'+e.escapeExpression("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:o}):i)+"</span>"},4:function(e,t,n,r,o){var i;return null!=(i=(n.compare||t&&t.compare||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.uri:t,"spotify:artist:0LyfQWJT6nXafLPZqxe9Of",{name:"compare",hash:{operator:"!="},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:""},5:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l="function",u=e.escapeExpression;return'<a title="'+u(typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:s)===l?i.call(a,{name:"name",hash:{},data:o}):i)+'" href="'+u(typeof(i=null!=(i=n.uri||(null!=t?t.uri:t))?i:s)===l?i.call(a,{name:"uri",hash:{},data:o}):i)+'" data-uri="'+u(typeof(i=null!=(i=n.uri||(null!=t?t.uri:t))?i:s)===l?i.call(a,{name:"uri",hash:{},data:o}):i)+'" data-log-click="artist-name" data-interaction-target="'+u(typeof(i=null!=(i=n.index||o&&o.index)?i:s)===l?i.call(a,{name:"index",hash:{},data:o}):i)+'" class="tl-cell__content" dir="auto">'+u(typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:s)===l?i.call(a,{name:"name",hash:{},data:o}):i)+"</a>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return'<td class="tl-cell tl-artists" data-log-context="artist-cell" data-interaction-context="artists">\n  '+(null!=(i=(n.slice||t&&t.slice||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.track:t)?i.artists:i,", ",{name:"slice",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"\n</td>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.track:t)?i.premium:i,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o}))?i:""},2:function(e,t,n,r,o){return'    <td class="tl-cell tl-name" colspan="1" data-log-context="name-cell" data-ta-id="name-cell">\n'},4:function(e,t,n,r,o){return'    <td class="tl-cell tl-name" colspan="2" data-log-context="name-cell" data-ta-id="name-cell">\n'},6:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.track:t)?i.premium:i,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.program(7,o,0),data:o}))?i:""},7:function(e,t,n,r,o){return'    <td class="tl-cell tl-name" colspan="3" data-log-context="name-cell" data-ta-id="name-cell">\n'},9:function(e,t,n,r,o){return'    <span class="tl-status-indicator tl-status-indicator--in-progress"></span>\n'},11:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.new:t,{name:"if",hash:{},fn:e.program(12,o,0),inverse:e.noop,data:o}))?i:""},12:function(e,t,n,r,o){return'      <span class="tl-status-indicator tl-status-indicator--new"></span>\n'},14:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isLongDescriptionExpanded:t,{name:"if",hash:{},fn:e.program(15,o,0),inverse:e.program(17,o,0),data:o}))?i:""},15:function(e,t,n,r,o){var i;return'    <div class="tl-name__description tl-name__description--scrollable">\n      <span dir="auto">'+e.escapeExpression(e.lambda(null!=(i=null!=t?t.track:t)?i.description:i,t))+"</span>\n    </div>\n"},17:function(e,t,n,r,o){var i;return'    <div class="tl-name__description tl-name__description--clamped">\n       <span dir="auto">'+e.escapeExpression(e.lambda(null!=(i=null!=t?t.track:t)?i.description:i,t))+"</span>\n    </div>\n"},19:function(e,t,n,r,o){return'</td><td class="tl-cell tl-premium"><span class="label" data-log-click="premium">PREMIUM</span>'},21:function(e,t,n,r,o){return'</td><td class="tl-cell tl-explicit"><span class="label" data-log-click="explicit">EXPLICIT</span>'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lambda,l=n.blockHelperMissing;return(null!=(i=n.if.call(a,null!=(i=null!=t?t.track:t)?i.explicit:i,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(6,o,0),data:o}))?i:"")+'<div class="tl-highlight tl-cell__fixed-height" data-log-click="name">\n'+(null!=(i=n.if.call(a,null!=t?t.inProgress:t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.program(11,o,0),data:o}))?i:"")+'  <span class="tl-name__title tl-cell__content" dir="auto">\n  '+e.escapeExpression(s(null!=(i=null!=t?t.track:t)?i.name:i,t))+"\n  </span>\n</div>\n"+(null!=(i=n.if.call(a,null!=(i=null!=t?t.track:t)?i.description:i,{name:"if",hash:{},fn:e.program(14,o,0),inverse:e.noop,data:o}))?i:"")+(null!=(i=l.call(t,s(null!=(i=null!=t?t.track:t)?i.premium:i,t),{name:"track.premium",hash:{},fn:e.program(19,o,0),inverse:e.noop,data:o}))?i:"")+"\n"+(null!=(i=l.call(t,s(null!=(i=null!=t?t.track:t)?i.explicit:i,t),{name:"track.explicit",hash:{},fn:e.program(21,o,0),inverse:e.noop,data:o}))?i:"")+"\n</td>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return null!=(i=(n.type||t&&t.type||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.track:t)?i.uri:i,"track",{name:"type",hash:{},fn:e.program(2,o,0),inverse:e.program(8,o,0),data:o}))?i:""},2:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'      <button type="button" data-button="add"\n        class="\n        button\n        button-icon-only\n        button-add\n        "\n'+(null!=(i=(n.compare||t&&t.compare||s).call(a,null!=(i=null!=t?t.track:t)?i.thumb:i,"down",{name:"compare",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+'        data-tooltip="'+l((n.loc||t&&t.loc||s).call(a,"SaveYourMusic",{name:"loc",hash:{},data:o}))+'"\n        data-tooltip-add="'+l((n.loc||t&&t.loc||s).call(a,"SaveToYourFavoriteSongs",{name:"loc",hash:{},data:o}))+'"\n        data-tooltip-remove="'+l((n.loc||t&&t.loc||s).call(a,"RemoveFromYourFavoriteSongs",{name:"loc",hash:{},data:o}))+'"\n        data-log-click="save-button"\n        data-interaction-target="save-remove-button"\n        data-interaction-intent="save"></button>\n'},3:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.track:t)?i.added:i,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.program(6,o,0),data:o}))?i:""},4:function(e,t,n,r,o){return""},6:function(e,t,n,r,o){return"                disabled\n"},8:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'      <button type="button" data-button="add"\n        class="\n        button\n        button-icon-only\n        button-add\n        "\n'+(null!=(i=(n.compare||t&&t.compare||s).call(a,null!=(i=null!=t?t.track:t)?i.thumb:i,"down",{name:"compare",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+'        data-tooltip="'+l((n.loc||t&&t.loc||s).call(a,"SaveYourMusic",{name:"loc",hash:{},data:o}))+'"\n        data-tooltip-add="'+l((n.loc||t&&t.loc||s).call(a,"SaveYourMusic",{name:"loc",hash:{},data:o}))+'"\n        data-tooltip-remove="'+l((n.loc||t&&t.loc||s).call(a,"RemoveYourMusic",{name:"loc",hash:{},data:o}))+'"\n        data-log-click="save-button"\n        data-interaction-target="save-remove-button"\n        data-interaction-intent="save"></button>\n'},10:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'    <button type="button" data-button="add"\n      class="\n      button\n      button-icon-only\n      button-add\n      "\n'+(null!=(i=(n.compare||t&&t.compare||s).call(a,null!=(i=null!=t?t.track:t)?i.thumb:i,"down",{name:"compare",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o}))?i:"")+'      data-tooltip="'+l((n.loc||t&&t.loc||s).call(a,"SaveYourMusic",{name:"loc",hash:{},data:o}))+'"\n      data-tooltip-add="'+l((n.loc||t&&t.loc||s).call(a,"SaveYourMusic",{name:"loc",hash:{},data:o}))+'"\n      data-tooltip-remove="'+l((n.loc||t&&t.loc||s).call(a,"RemoveYourMusic",{name:"loc",hash:{},data:o}))+'"\n      data-log-click="save-button"\n      data-interaction-target="save-remove-button"\n      data-interaction-intent="save"></button>\n'},11:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.track:t)?i.added:i,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.program(12,o,0),data:o}))?i:""},12:function(e,t,n,r,o){return"              disabled\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s,l='<td class="tl-cell tl-save">\n';return a=null!=(a=n.nft||(null!=t?t.nft:t))?a:n.helperMissing,s={name:"nft",hash:{},fn:e.program(1,o,0),inverse:e.program(10,o,0),data:o},i="function"==typeof a?a.call(null!=t?t:e.nullContext||{},s):a,n.nft||(i=n.blockHelperMissing.call(t,i,s)),null!=i&&(l+=i),l+"</td>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<td class="tl-cell tl-play">\n  <div class="tl-cell__fixed-height allow-overflow">\n  <button\n    type="button"\n    data-button="play"\n    class="button button-icon-with-stroke button-play"\n    data-ta-id="play-button"\n    data-interaction-target="play-pause-button"\n    data-interaction-intent="play"\n    data-log-click="play-button"></button>\n  </div>\n</td>\n'},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:o}):i)},3:function(e,t,n,r,o){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.index||(null!=t?t.index:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"index",hash:{},data:o}):i)},5:function(e,t,n,r,o){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.index||o&&o.index)?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"index",hash:{},data:o}):i)},7:function(e,t,n,r,o){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.contextIndex||(null!=t?t.contextIndex:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"contextIndex",hash:{},data:o}):i)},9:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.index:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o}))?i:""},11:function(e,t,n,r,o){var i;return'data-uid="'+e.escapeExpression("function"==typeof(i=null!=(i=n.uid||(null!=t?t.uid:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"uid",hash:{},data:o}):i)+'"'},13:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.track:t)?i.offlineProgress:i,{name:"if",hash:{},fn:e.program(14,o,0),inverse:e.program(19,o,0),data:o}))?i:""},14:function(e,t,n,r,o){var i;return null!=(i=(n.compare||t&&t.compare||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.track:t)?i.offlineProgress:i,1,{name:"compare",hash:{},fn:e.program(15,o,0),inverse:e.program(17,o,0),data:o}))?i:""},15:function(e,t,n,r,o){return"            offline-downloaded\n"},17:function(e,t,n,r,o){return"            offline-downloading\n"},19:function(e,t,n,r,o){return"          offline-waiting\n"},21:function(e,t,n,r,o){return"playing"},23:function(e,t,n,r,o){return"selected"},25:function(e,t,n,r,o){return"added"},27:function(e,t,n,r,o){return"unavailable"},29:function(e,t,n,r,o){return"local"},31:function(e,t,n,r,o){return"locally-playable"},33:function(e,t,n,r,o){var i;return"thumbs-"+e.escapeExpression(e.lambda(null!=(i=null!=t?t.track:t)?i.thumb:i,t))},35:function(e,t,n,r,o){return"thumbs-none"},37:function(e,t,n,r,o){return"tl-row--episode"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=e.lambda,l=e.escapeExpression,u=null!=t?t:e.nullContext||{},c=n.helperMissing;return'<tr tabindex="0"\n    aria-label="'+l(s(null!=(i=null!=t?t.track:t)?i.name:i,t))+" "+l((n.loc||t&&t.loc||c).call(u,"By",{name:"loc",hash:{},data:o}))+" "+(null!=(i=(n.slice||t&&t.slice||c).call(u,null!=(i=null!=t?t.track:t)?i.artists:i,", ",{name:"slice",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+". "+l((n.loc||t&&t.loc||c).call(u,"PressEnterToPlay",{name:"loc",hash:{},data:o}))+'."\n    data-list-item="true"\n    data-uri="'+l(s(null!=(i=null!=t?t.track:t)?i.uri:i,t))+'"\n    data-index="'+(null!=(i=n.if.call(u,null!=t?t.index:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o}))?i:"")+'"\n    data-context-index="'+(null!=(i=n.if.call(u,null!=t?t.contextIndex:t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.program(9,o,0),data:o}))?i:"")+'"\n    '+(null!=(i=n.if.call(u,null!=t?t.uid:t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o}))?i:"")+'\n    data-scroll-page-item="'+l("function"==typeof(a=null!=(a=n.scrollPageItem||(null!=t?t.scrollPageItem:t))?a:c)?a.call(u,{name:"scrollPageItem",hash:{},data:o}):a)+'" draggable="true"\n    data-interaction-context="'+(null!=(i=n.if.call(u,null!=t?t.index:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o}))?i:"")+'"\n    data-ta-id="tracklist-row"\n    data-log-data=\'{\n      "index": '+(null!=(i=n.if.call(u,null!=t?t.index:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o}))?i:"")+',\n      "target_uri": "'+l(s(null!=(i=null!=t?t.track:t)?i.uri:i,t))+'",\n      "name": "'+l(s(null!=(i=null!=t?t.track:t)?i.name:i,t))+'"\n    }\'\n    data-contextmenu-spy\n    class="tl-row\n'+(null!=(i=n.if.call(u,null!=(i=null!=t?t.track:t)?i.shouldBeOffline:i,{name:"if",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o}))?i:"")+"      "+(null!=(i=n.if.call(u,null!=(i=null!=t?t.track:t)?i.playing:i,{name:"if",hash:{},fn:e.program(21,o,0),inverse:e.noop,data:o}))?i:"")+"\n      "+(null!=(i=n.if.call(u,null!=(i=null!=t?t.track:t)?i.selected:i,{name:"if",hash:{},fn:e.program(23,o,0),inverse:e.noop,data:o}))?i:"")+"\n      "+(null!=(i=n.if.call(u,null!=(i=null!=t?t.track:t)?i.added:i,{name:"if",hash:{},fn:e.program(25,o,0),inverse:e.noop,data:o}))?i:"")+"\n      "+(null!=(i=n.if.call(u,null!=(i=null!=t?t.track:t)?i.unavailable:i,{name:"if",hash:{},fn:e.program(27,o,0),inverse:e.noop,data:o}))?i:"")+"\n      "+(null!=(i=n.if.call(u,null!=(i=null!=t?t.track:t)?i.local:i,{name:"if",hash:{},fn:e.program(29,o,0),inverse:e.noop,data:o}))?i:"")+"\n      "+(null!=(i=n.if.call(u,null!=(i=null!=t?t.track:t)?i.locallyPlayable:i,{name:"if",hash:{},fn:e.program(31,o,0),inverse:e.noop,data:o}))?i:"")+"\n      "+(null!=(i=n.if.call(u,null!=(i=null!=t?t.track:t)?i.thumb:i,{name:"if",hash:{},fn:e.program(33,o,0),inverse:e.program(35,o,0),data:o}))?i:"")+"\n      "+(null!=(i=n.if.call(u,null!=(i=null!=t?t.track:t)?i.isEpisode:i,{name:"if",hash:{},fn:e.program(37,o,0),inverse:e.noop,data:o}))?i:"")+'\n    "\n    data-contextmenu>\n'},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a;return(null!=(a=e.invokePartial(n(233),t,{name:"./tracklist/row-start.hbs",data:i,helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(232),t,{name:"./tracklist/play.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(231),t,{name:"./tracklist/save.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(230),t,{name:"./tracklist/name.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(229),t,{name:"./tracklist/artists.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(228),t,{name:"./tracklist/album.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(227),t,{name:"./tracklist/local.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(226),t,{name:"./tracklist/more.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(225),t,{name:"./tracklist/time.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(224),t,{name:"./tracklist/popularity.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"</tr>\n"},usePartial:!0,useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return'aria-labelledby="'+e.escapeExpression("function"==typeof(i=null!=(i=n.ariaLabel||(null!=t?t.ariaLabel:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"ariaLabel",hash:{},data:o}):i)+'"'},3:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(234),t,{name:"./tracklist-search-row.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:""},compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a,s,l=null!=t?t:e.nullContext||{},u=r.helperMissing;return'<table\n  class="tracklist-search '+e.escapeExpression("function"==typeof(s=null!=(s=r.modifiers||(null!=t?t.modifiers:t))?s:u)?s.call(l,{name:"modifiers",hash:{},data:i}):s)+'"\n  '+(null!=(a=r.if.call(l,null!=t?t.ariaLabel:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?a:"")+"\n"+(null!=(a=e.invokePartial(n(223),t,{name:"./tracklist/table-attributes.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+'>\n  <thead class="tl-header">\n    <tr>\n'+(null!=(a=e.invokePartial(n(222),t,{name:"./tracklist/header/play.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(221),t,{name:"./tracklist/header/save.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(220),t,{name:"./tracklist/header/name.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(219),t,{name:"./tracklist/header/premium.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(218),t,{name:"./tracklist/header/explicit.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(217),t,{name:"./tracklist/header/artists.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(216),t,{name:"./tracklist/header/album.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(215),t,{name:"./tracklist/header/local.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(214),t,{name:"./tracklist/header/more.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(213),t,{name:"./tracklist/header/time.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(n(212),t,{name:"./tracklist/header/popularity.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"    </tr>\n  </thead>\n  <tbody "+(null!=(a=e.invokePartial(n(211),t,{name:"./tracklist/table-body-attributes.hbs",data:i,helpers:r,partials:o,decorators:e.decorators}))?a:"")+">\n"+(null!=(a=(r.list||t&&t.list||u).call(l,null!=t?t.rows:t,{name:"list",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?a:"")+"  </tbody>\n</table>\n"},usePartial:!0,useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'    <button type="button" class="button button-with-stroke grid-button hide" data-node="less">\n      '+l("function"==typeof(i=null!=(i=n.less||(null!=t?t.less:t))?i:s)?i.call(a,{name:"less",hash:{},data:o}):i)+'\n    </button>\n    <button type="button" class="button button-with-stroke grid-button" data-node="more">\n      '+l("function"==typeof(i=null!=(i=n.more||(null!=t?t.more:t))?i:s)?i.call(a,{name:"more",hash:{},data:o}):i)+"\n    </button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a;return'<div class="bfs-tracklist summary" data-node="tracklist">\n'+(null!=(a=e.invokePartial(n(235),t,{name:"../../../../glue/templates/tracklist-search.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+'</div>\n<div class="grid-button-container">\n'+(null!=(a=r.with.call(null!=t?t:e.nullContext||{},null!=t?t.titles:t,{name:"with",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?a:"")+"</div>\n"},usePartial:!0,useData:!0})},function(e){e.exports={titles:{less:"",more:""},tracks:[{album:{name:"",uri:""},artists:[{name:"",uri:""}],duration:0,"explicit?":!1,name:"",popularity:0,"unavailable?":!1,uri:""}],uri:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(237)),a=s(n(236));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._scrollBy=((e,t)=>{s.scrollBy(e,t)}),this._lessElement=this._documentFragment.find('[data-node="less"]'),this._moreElement=this._documentFragment.find('[data-node="more"]'),this._tracklistElement=this._documentFragment.find('[data-node="tracklist"]'),this._makePlayableLiveModel(),this._setUpEventRoutes()}_makePlayableLiveModel(){const e={};e.rows=this._model.tracks.map(e=>({track:r.default.clone(e)})),e.uri=this._model.uri,this._environment.makeTracklistLiveModel(e.uri,e)}_onClickLess(e){r.default.check.type(e,Element);const t=this._lessElement.getBoundingClientRect();this._lessElement.classList.add("hide"),this._moreElement.classList.remove("hide"),this._tracklistElement.classList.add("summary");const n=this._moreElement.getBoundingClientRect();this._tracklistElement.getBoundingClientRect().top<0&&this._scrollBy(0,n.top-t.top)}_onClickMore(e){r.default.check.type(e,Element),this._lessElement.classList.remove("hide"),this._moreElement.classList.add("hide"),this._tracklistElement.classList.remove("summary")}_render(){const e={};return e.titles={less:this._model.titles.less,more:this._model.titles.more},e.rows=this._model.tracks.map(e=>({track:r.default.clone(e)})),e.uri=this._model.uri,(0,a.default)(e)}_setUpEventRoutes(){this._addInteractionHandler(this._lessElement,"click",this._onClickLess),this._addInteractionHandler(this._moreElement,"click",this._onClickMore)}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return"<div data-child-container>\n</div>\n"},useData:!0})},function(e){e.exports={"id?":""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(240)),a=s(n(239));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._areChildrenShown=!1,this._setUpEventRoutes()}attach(e){r.default.check.type(e,Element),this._documentFragment.attach(e)}hasVisibleChildren(){return this._areChildrenShown&&super.hasVisibleChildren()}_onShowTab(e){if(r.default.check.object(e),"id"in this._model&&r.default.conforms(e,{id:""}))if(e.id===this._model.id){this._areChildrenShown=!0;for(let e=0;e<this._childViews.length;e++)this._childViews[e].attach(this._childContainerElement);this._environment.updateSpotifyEventsIn(this._childContainerElement);const e=this._configuration.getDefaultState().getString("app/name");this._environment.sendViewReady(e)}else{this._areChildrenShown=!1;for(let e=0;e<this._childViews.length;e++)this._childViews[e].detach()}}_render(){return(0,a.default)({})}_setUpEventRoutes(){"id"in this._model&&this._addEventListener("show-tab",this._onShowTab)}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'    <button type="button" class="button button-with-stroke grid-button" data-node="all">\n      '+l("function"==typeof(i=null!=(i=n.all||(null!=t?t.all:t))?i:s)?i.call(a,{name:"all",hash:{},data:o}):i)+'\n    </button>\n    <button type="button" class="button button-with-stroke grid-button" data-node="less">\n      '+l("function"==typeof(i=null!=(i=n.less||(null!=t?t.less:t))?i:s)?i.call(a,{name:"less",hash:{},data:o}):i)+'\n    </button>\n    <button type="button" class="button button-with-stroke grid-button" data-node="more">\n      '+l("function"==typeof(i=null!=(i=n.more||(null!=t?t.more:t))?i:s)?i.call(a,{name:"more",hash:{},data:o}):i)+"\n    </button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return'<div class="grid-button-container" data-node="container">\n'+(null!=(i=n.with.call(null!=t?t:e.nullContext||{},null!=t?t.titles:t,{name:"with",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"</div>\n"},useData:!0})},function(e){e.exports={id:"",titles:{all:"",less:"",more:""}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(243)),a=s(n(242));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._allElement=this._documentFragment.find('[data-node="all"]'),this._containerElement=this._documentFragment.find('[data-node="container"]'),this._lessElement=this._documentFragment.find('[data-node="less"]'),this._moreElement=this._documentFragment.find('[data-node="more"]'),this._scrollBy=((e,t)=>{s.scrollBy(e,t)}),this._setUpEventRoutes()}_onClickAll(e){r.default.check.type(e,Element),this._eventDispatcher.dispatch("click-all",{id:this._model.id})}_onClickLess(e){r.default.check.type(e,Element);const t=e.getBoundingClientRect();this._eventDispatcher.dispatch("click-less",{id:this._model.id,top:t.top})}_onClickMore(e){r.default.check.type(e,Element),this._eventDispatcher.dispatch("click-more",{id:this._model.id})}_onGridUpdate(e){if(r.default.check.object(e),r.default.conforms(e,{id:"",expansions:0,hidden:0,visible:0})&&e.id===this._model.id){const t=e.expansions,n=e.hidden,r=e.visible;this._allElement.classList.add("hide"),0===t&&n>0&&n<=r&&this._allElement.classList.remove("hide"),1===t&&n>0&&this._allElement.classList.remove("hide"),this._lessElement.classList.add("hide"),t>0&&0===n&&this._lessElement.classList.remove("hide"),this._moreElement.classList.add("hide"),0===t&&n>r&&this._moreElement.classList.remove("hide")}}_onSetButtonPosition(e){if(r.default.check.object(e),r.default.conforms(e,{id:"",top:0})&&e.id===this._model.id){const t=this._containerElement.getBoundingClientRect();this._scrollBy(0,t.top-e.top)}}_render(){const e={};return e.titles={all:this._model.titles.all,less:this._model.titles.less,more:this._model.titles.more},(0,a.default)(e)}_setUpEventRoutes(){this._addEventListener("grid-update",this._onGridUpdate),this._addEventListener("set-button-position",this._onSetButtonPosition),this._addInteractionHandler(this._allElement,"click",this._onClickAll),this._addInteractionHandler(this._lessElement,"click",this._onClickLess),this._addInteractionHandler(this._moreElement,"click",this._onClickMore)}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'      <p class="section-divider-description">'+e.escapeExpression(e.lambda(t,t))+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{};return'<section>\n  <div class="section-divider">\n    <h2 class="section-divider-title">'+e.escapeExpression("function"==typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:n.helperMissing)?a.call(s,{name:"title",hash:{},data:o}):a)+"</h2>\n"+(null!=(i=n.with.call(s,null!=t?t.description:t,{name:"with",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'  </div>\n  <div class="row standard-grid" data-child-container data-interaction-context="grid" data-interaction-list>\n  </div>\n</section>\n'},useData:!0})},function(e){e.exports={"description?":"",id:"","layout?":{cols:{large:0,medium:0,small:0,"xSmall?":0},rows:0},title:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(3)),o=l(n(5)),i=l(n(246)),a=l(n(245)),s=l(n(84));function l(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,l){super(e,t,n,r,o,a,l,i.default),this._getGridBreakPoint=(()=>(0,s.default)(a,l)),this._numberOfVisibleChildren=null,this._timesGridExpanded=0,this._currentRows=this._getDefaultNumberOfVisibleRows(),this._setUpEventRoutes()}attach(e){if(r.default.check.type(e,Element),"layout"in this._model){this._updateVisibility();for(let e=0;e<this._numberOfVisibleChildren;e++)this._childViews[e].attach(this._childContainerElement);this._documentFragment.attach(e)}else super.attach(e)}_getColsForCurrentBreakPoint(){if("layout"in this._model){const e=this._getGridBreakPoint();return"lg"===e?this._model.layout.cols.large:"md"===e?this._model.layout.cols.medium:"sm"===e?this._model.layout.cols.small:"xSmall"in this._model.layout.cols?this._model.layout.cols.xSmall:this._model.layout.cols.small}return 1/0}_getDefaultNumberOfVisibleRows(){return"layout"in this._model?this._model.layout.rows:1/0}_getMaximumNumberOfVisibleChildren(){return this._getColsForCurrentBreakPoint()*this._currentRows}_onClickAll(e){r.default.check.object(e),e.id===this._model.id&&(this._timesGridExpanded++,this._currentRows=1/0,this._updateVisibility())}_onClickLess(e){r.default.check.object(e),e.id===this._model.id&&(this._timesGridExpanded=0,this._currentRows=this._getDefaultNumberOfVisibleRows(),this._updateVisibility(),this._eventDispatcher.dispatch("set-button-position",e))}_onClickMore(e){r.default.check.object(e),e.id===this._model.id&&(this._timesGridExpanded++,this._currentRows+=this._getDefaultNumberOfVisibleRows(),this._updateVisibility())}_onRootViewUpdate(e){r.default.check.object(e),this._updateVisibility()}_onWindowResize(e){r.default.check.object(e),this._updateVisibility()}_render(){const e={};return"description"in this._model&&(e.description=this._model.description),e.title=this._model.title,(0,a.default)(e)}_setUpEventRoutes(){"layout"in this._model&&(this._addEventListener("click-all",this._onClickAll),this._addEventListener("click-less",this._onClickLess),this._addEventListener("click-more",this._onClickMore),this._addEventListener("root-view-update",this._onRootViewUpdate),this._addEventListener("window-resize",this._onWindowResize))}_updateVisibility(){const e=Math.min(this._getMaximumNumberOfVisibleChildren(),this._childViews.length);if(this._numberOfVisibleChildren!==e){const t=this._childViews.length-e;for(let t=0;t<e;t++)this._childViews[t].attach(this._childContainerElement);for(let t=e;t<this._childViews.length;t++)this._childViews[t].detach();this._environment.updateSpotifyEventsIn(this._childContainerElement),this._numberOfVisibleChildren=e,this._eventDispatcher.dispatch("grid-update",{id:this._model.id,expansions:this._timesGridExpanded,hidden:t,visible:e})}}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'        <p class="section-divider-description">'+e.escapeExpression(e.lambda(t,t))+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<section>\n  <div>\n    <div class="section-divider">\n      <h2 class="section-divider-title">'+u("function"==typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:l)?a.call(s,{name:"title",hash:{},data:o}):a)+'</h2>\n      <div class="section-auxiliary" data-interaction-context="carousel-controls">\n        <button class="button button-icon-only spoticon-chevron-left-16" data-carousel="'+u("function"==typeof(a=null!=(a=n.id||(null!=t?t.id:t))?a:l)?a.call(s,{name:"id",hash:{},data:o}):a)+'" data-button="carousel-previous" data-interaction-target="previous-button" data-interaction-intent="slide-left"></button>\n        <button class="button button-icon-only spoticon-chevron-right-16" data-carousel="'+u("function"==typeof(a=null!=(a=n.id||(null!=t?t.id:t))?a:l)?a.call(s,{name:"id",hash:{},data:o}):a)+'" data-button="carousel-next" data-interaction-target="next-button" data-interaction-intent="slide-right"></button>\n      </div>\n'+(null!=(i=n.with.call(s,null!=t?t.description:t,{name:"with",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'    </div>\n  </div>\n  <div class="carousel" data-carousel="'+u("function"==typeof(a=null!=(a=n.id||(null!=t?t.id:t))?a:l)?a.call(s,{name:"id",hash:{},data:o}):a)+'" data-carousel-main>\n    <div class="row standard-grid">\n      <div class="crsl-inner" data-carousel-inner data-child-container data-interaction-context="carousel" data-interaction-list>\n      </div>\n    </div>\n  </div>\n</section>\n'},useData:!0})},function(e){e.exports={"description?":"",id:"",title:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(5)),o=a(n(249)),i=a(n(248));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class extends r.default{constructor(e,t,n,r,i,a,s){super(e,t,n,r,i,a,s,o.default)}_render(){const e={};return"description"in this._model&&(e.description=this._model.description),e.id=this._model.id,e.title=this._model.title,(0,i.default)(e)}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'        <h2 class="section-divider-title">'+e.escapeExpression(e.lambda(t,t))+"</h2>\n"},3:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'        <div class="section-auxiliary" data-node="show-all">\n          <a href="'+l("function"==typeof(i=null!=(i=n.uri||(null!=t?t.uri:t))?i:s)?i.call(a,{name:"uri",hash:{},data:o}):i)+'" data-log-click="show-all" data-interaction-target="show-all-button" data-interaction-intent="show-all">'+l("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:s)?i.call(a,{name:"title",hash:{},data:o}):i)+"</a>\n        </div>\n"},5:function(e,t,n,r,o){return'        <p class="section-divider-description" data-description>'+e.escapeExpression(e.lambda(t,t))+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{};return'<section>\n  <div class="section-divider-sticky-wrapper">\n    <div class="section-divider">\n'+(null!=(i=n.with.call(a,null!=t?t.title:t,{name:"with",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+(null!=(i=n.with.call(a,null!=t?t.link:t,{name:"with",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+(null!=(i=n.with.call(a,null!=t?t.description:t,{name:"with",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+'    </div>\n  </div>\n  <div class="section-divider-section-content" data-child-container></div>\n</section>\n'},useData:!0})},function(e){e.exports={"description?":"","id?":"","link?":{title:"",uri:""},"logs?":{"navigateToShowAll?":{}},"title?":""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(252)),a=s(n(251));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._setUpEventRoutes()}_onClickDataLogClick(e){r.default.check.type(e,Element),"show-all"===e.getAttribute("data-log-click")&&"logs"in this._model&&"navigateToShowAll"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToShowAll)}_render(){const e={};return"description"in this._model&&(e.description=this._model.description),"link"in this._model&&(e.link={title:this._model.link.title,uri:this._model.link.uri}),"title"in this._model&&(e.title=this._model.title),(0,a.default)(e)}_setUpEventRoutes(){this._documentFragment.query("[data-log-click]").forEach(e=>{this._addInteractionHandler(e,"click",this._onClickDataLogClick)})}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return'        <div\n          class="card-puff__image"\n          style="background-image: url('+e.escapeExpression("function"==typeof(i=null!=(i=n.imageUrl||(null!=t?t.imageUrl:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"imageUrl",hash:{},data:o}):i)+');"\n        ></div>\n'},3:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{};return'      <div class="card-puff__images">\n'+(null!=(i=n.each.call(a,null!=t?t.images:t,{name:"each",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o}))?i:"")+"      </div>\n\n"+(null!=(i=n.if.call(a,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o}))?i:"")},4:function(e,t,r,o,i){var a,s=null!=t?t:e.nullContext||{};return'          <div class="\n            card-puff__card-image\n            card\n            card-type-'+e.escapeExpression((r.type||t&&t.type||r.helperMissing).call(s,null!=t?t.uri:t,{name:"type",hash:{},data:i}))+"\n            "+(null!=(a=r.unless.call(s,null!=t?t.imageUrl:t,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?a:"")+'\n          ">\n'+(null!=(a=e.invokePartial(n(86),t,{name:"./internal/image.hbs",data:i,indent:"            ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"          </div>\n"},5:function(e,t,n,r,o){return"no-image-url"},7:function(e,t,n,r,o){var i;return'        <div class="card-puff__title-container" data-ta-id="card-title-link">\n          <div class="card-puff__title">'+e.escapeExpression("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:o}):i)+"</div>\n        </div>\n"},9:function(e,t,n,r,o){var i;return'    <div class="card-puff__subtitle" data-ta-id="puff-subtitle">\n      '+e.escapeExpression("function"==typeof(i=null!=(i=n.subtitle||(null!=t?t.subtitle:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"subtitle",hash:{},data:o}):i)+"\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<div\n  class="card card-puff"\n  data-card-pressed-container\n  data-interaction-context="card-puff"\n>\n  <div class="card-puff__image-wrapper">\n    <a\n      href="'+u("function"==typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:l)?a.call(s,{name:"uri",hash:{},data:o}):a)+'"\n      class="card-puff__link"\n      data-log-click="puff"\n      draggable="false"\n      data-card-trigger-pressed-state\n      aria-label='+u("function"==typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:l)?a.call(s,{name:"title",hash:{},data:o}):a)+'\n      data-interaction-target="image"\n    >\n      <div class="card-hit-area-counter-scale"></div>\n'+(null!=(i=n.if.call(s,null!=t?t.imageUrl:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"\n"+(null!=(i=n.if.call(s,null!=t?t.images:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+'    </a>\n  </div>\n\n  <div class="card-puff__info-container">\n'+(null!=(i=n.if.call(s,null!=t?t.subtitle:t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o}))?i:"")+"  </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(254),t,{name:"../../../../glue/templates/cards/puff.hbs",data:i,helpers:r,partials:o,decorators:e.decorators}))?a:""},usePartial:!0,useData:!0})},function(e){e.exports={images:{left:"",middle:"",right:""},"logs?":{"impression?":{},"navigateToLink?":{}},subtitle:"",title:"",uri:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(256)),a=s(n(255));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._setUpEventRoutes()}_onClickDataLogClick(e){r.default.check.type(e,Element),"puff"===e.getAttribute("data-log-click")&&"logs"in this._model&&"navigateToLink"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToLink)}_render(){const e={};return e.images=[{imageUrl:this._model.images.right},{imageUrl:this._model.images.left},{imageUrl:this._model.images.middle}],e.subtitle=this._model.subtitle,e.title=this._model.title,e.uri=this._model.uri,(0,a.default)(e)}_setUpEventRoutes(){this._documentFragment.query("[data-log-click]").forEach(e=>{this._addInteractionHandler(e,"click",this._onClickDataLogClick)}),this._setUpStandardImpressionLogging()}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a;return'<div class="show-offline-screen">\n'+(null!=(a=e.invokePartial(n(131),t,{name:"../../../../glue/templates/error-and-offline.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"</div>\n"},usePartial:!0,useData:!0})},function(e){e.exports={"button?":{title:"",uri:""},"subtitle?":"","title?":""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(5)),o=a(n(259)),i=a(n(258));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class extends r.default{constructor(e,t,n,r,i,a,s){super(e,t,n,r,i,a,s,o.default)}_render(){const e={useDefaultOffline:!0};return"title"in this._model&&(e.offlineTitle=this._model.title,e.useDefaultOffline=!1),"subtitle"in this._model&&(e.offlineMessage=this._model.subtitle,e.useDefaultOffline=!1),"button"in this._model&&(e.offlineEscapeUrl=this._model.button.uri,e.offlineEscapeMessage=this._model.button.title),(0,i.default)(e)}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'    <div class="list-group-item list-group-item-media">\n      <a class="item-link" href="'+l("function"==typeof(i=null!=(i=n.uri||(null!=t?t.uri:t))?i:s)?i.call(a,{name:"uri",hash:{},data:o}):i)+'">\n        <div class="item-data">'+l("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:s)?i.call(a,{name:"title",hash:{},data:o}):i)+"</div>\n      </a>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{};return'<div class="bfs-list-group" data-node="list-group">\n  <div class="section-divider section-divider-borderless">\n    <div>\n      <h2 class="section-divider-title">'+e.escapeExpression("function"==typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:n.helperMissing)?a.call(s,{name:"title",hash:{},data:o}):a)+"</h2>\n    </div>\n  </div>\n"+(null!=(i=n.each.call(s,null!=t?t.items:t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"</div>\n"},useData:!0})},function(e){e.exports={items:[{title:"",uri:""}],title:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(5)),o=a(n(262)),i=a(n(261));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class extends r.default{constructor(e,t,n,r,i,a,s){super(e,t,n,r,i,a,s,o.default)}_render(){const e={};return e.items=this._model.items.map(e=>({title:e.title,uri:e.uri})),e.title=this._model.title,(0,i.default)(e)}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'      <div class="bfs-calendar-icon">\n        <div class="bfs-calendar-month">'+l("function"==typeof(i=null!=(i=n.month||(null!=t?t.month:t))?i:s)?i.call(a,{name:"month",hash:{},data:o}):i)+'</div>\n        <div class="bfs-calendar-day">'+l("function"==typeof(i=null!=(i=n.day||(null!=t?t.day:t))?i:s)?i.call(a,{name:"day",hash:{},data:o}):i)+"</div>\n      </div>\n"},3:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'      <div class="bfs-concert-info-venue">'+l("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:s)?i.call(a,{name:"name",hash:{},data:o}):i)+" &#x2022; "+l("function"==typeof(i=null!=(i=n.city||(null!=t?t.city:t))?i:s)?i.call(a,{name:"city",hash:{},data:o}):i)+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<div class="bfs-concert">\n  <div class="bfs-concert-date">\n'+(null!=(i=n.with.call(s,null!=t?t.date:t,{name:"with",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'  </div>\n  <div class="bfs-concert-info">\n    <div class="bfs-concert-info-name">\n      <a class="bfs-concert-info-link" href="'+u("function"==typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:l)?a.call(s,{name:"uri",hash:{},data:o}):a)+'" data-log-click="concert-name" dir="auto">'+u("function"==typeof(a=null!=(a=n.name||(null!=t?t.name:t))?a:l)?a.call(s,{name:"name",hash:{},data:o}):a)+"</a>\n    </div>\n"+(null!=(i=n.with.call(s,null!=t?t.venue:t,{name:"with",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+"  </div>\n</div>\n"},useData:!0})},function(e){e.exports={date:{day:"",month:""},"logs?":{"impression?":{},"navigateToConcert?":{}},name:"",uri:"",venue:{city:"",name:""}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(265)),a=s(n(264));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._setUpEventRoutes()}_onClickDataLogClick(e){r.default.check.type(e,Element),"concert-name"===e.getAttribute("data-log-click")&&"logs"in this._model&&"navigateToConcert"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToConcert)}_render(){const e={};return e.date={day:this._model.date.day,month:this._model.date.month},e.name=this._model.name,e.uri=this._model.uri,e.venue={city:this._model.venue.city,name:this._model.venue.name},(0,a.default)(e)}_setUpEventRoutes(){this._documentFragment.query("[data-log-click]").forEach(e=>{this._addInteractionHandler(e,"click",this._onClickDataLogClick)}),this._setUpStandardImpressionLogging()}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(25),t,{name:"../../../../glue/templates/cards/card-horizontal.hbs",data:i,helpers:r,partials:o,decorators:e.decorators}))?a:""},usePartial:!0,useData:!0})},function(e){e.exports={"artists?":[{name:"",uri:""}],"image?":"",name:"",uri:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(5)),o=a(n(268)),i=a(n(267));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class extends r.default{constructor(e,t,n,r,i,a,s){super(e,t,n,r,i,a,s,o.default)}_render(){const e={};return"artists"in this._model&&(e.subtitleLinks=this._model.artists.map(e=>({name:e.name,uri:e.uri}))),"image"in this._model&&(e.imageUrl=this._model.image),e.title=this._model.name,e.uri=this._model.uri,(0,i.default)(e)}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a;return'<div class="app-header" data-node="header">\n'+(null!=(a=e.invokePartial(n(129),null!=t?t.pageHeader:t,{name:"../../../../glue/templates/headers/page-header.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+'</div>\n<div class="app-content container">\n  <div class="row" data-child-container>\n  </div>\n</div>\n'},usePartial:!0,useData:!0})},function(e){e.exports={"image?":"","logs?":{"impression?":{}},"subtitle?":"",title:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(5)),o=a(n(271)),i=a(n(270));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class extends r.default{constructor(e,t,n,r,i,a,s){super(e,t,n,r,i,a,s,o.default),this._setUpEventRoutes()}_render(){const e={},t={title:this._model.title};return"image"in this._model?(t.background={imageUrl:this._model.image,type:"image"},t.useResponsiveHeightLarge=!0):t.background={type:"color"},"subtitle"in this._model&&(t.description=this._model.subtitle),e.pageHeader=t,(0,i.default)(e)}_setUpEventRoutes(){this._setUpStandardImpressionLogging()}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return' data-navbar-item-matcher="'+e.escapeExpression("function"==typeof(i=null!=(i=n.matcher||(null!=t?t.matcher:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"matcher",hash:{},data:o}):i)+'"'},3:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'  <a href="'+l("function"==typeof(i=null!=(i=n.url||(null!=t?t.url:t))?i:s)?i.call(a,{name:"url",hash:{},data:o}):i)+'" data-log-click="'+l("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:s)?i.call(a,{name:"id",hash:{},data:o}):i)+'" draggable="false" data-interaction-target="link">'+l("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:s)?i.call(a,{name:"name",hash:{},data:o}):i)+"</a>\n  "},5:function(e,t,n,r,o){var i;return" "+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.id:t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.program(8,o,0),data:o}))?i:"")+" "},6:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'\n  <a data-log-click="'+l("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:s)?i.call(a,{name:"id",hash:{},data:o}):i)+'" draggable="false" data-interaction-target="link">'+l("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:s)?i.call(a,{name:"name",hash:{},data:o}):i)+"</a>\n"},8:function(e,t,n,r,o){var i;return'  <p class="navbar-text">'+e.escapeExpression("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:o}):i)+"</p>\n  "},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<li class="'+u("function"==typeof(a=null!=(a=n.className||(null!=t?t.className:t))?a:l)?a.call(s,{name:"className",hash:{},data:o}):a)+'" data-navbar-item-id="'+u("function"==typeof(a=null!=(a=n.id||(null!=t?t.id:t))?a:l)?a.call(s,{name:"id",hash:{},data:o}):a)+'"'+(null!=(i=n.if.call(s,null!=t?t.matcher:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+">\n"+(null!=(i=n.if.call(s,null!=t?t.url:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o}))?i:"")+"\n</li>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,r,o,i){var a;return'  <div class="glue-page-header__navbar-wrapper">\n'+(null!=(a=e.invokePartial(n(124),null!=t?t.navBar:t,{name:"../../../navbar.hbs",data:i,indent:"    ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"  </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.navBar:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:""},usePartial:!0,useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,r,o,i){var a,s;return'  <div class="facepile" data-tooltip title="'+e.escapeExpression("function"==typeof(s=null!=(s=r.name||(null!=t?t.name:t))?s:r.helperMissing)?s.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:i}):s)+'" data-tooltip-instant>\n'+(null!=(a=e.invokePartial(n(24),t,{name:"./cards/card.hbs",data:i,indent:"    ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"  </div>\n"},3:function(e,t,n,r,o,i,a){var s,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c=e.escapeExpression;return'  <button\n    type="button"\n    class="button facepile-badge"\n    title="'+c("function"==typeof(s=null!=(s=n.badgeTooltip||(null!=t?t.badgeTooltip:t))?s:u)?s.call(l,{name:"badgeTooltip",hash:{},data:o}):s)+'"\n    data-tooltip\n    data-tooltip-instant\n    data-modal="spotify:modal:socialproof:'+c(e.lambda(null!=a[1]?a[1].uri:a[1],t))+'"\n  >\n    +'+c("function"==typeof(s=null!=(s=n.badgeCount||(null!=t?t.badgeCount:t))?s:u)?s.call(l,{name:"badgeCount",hash:{},data:o}):s)+"\n  </button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o,i,a){var s;return null!=(s=(n.facepile||t&&t.facepile||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.users:t,{name:"facepile",hash:{},fn:e.program(1,o,0,i,a),inverse:e.program(3,o,0,i,a),data:o}))?s:""},usePartial:!0,useData:!0,useDepths:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.escapeExpression;return'  <div class="glue-page-header__count-label">\n'+(null!=(i=n.if.call(a,null!=(i=null!=t?t.countLabel:t)?i.link:i,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o}))?i:"")+'      <div class="glue-page-header__count-label-text">\n        '+s(e.lambda(null!=(i=null!=t?t.countLabel:t)?i.label:i,t))+'\n      </div>\n      <div class="glue-page-header__count-label-number">\n        '+s((n.numeral||t&&t.numeral||n.helperMissing).call(a,null!=(i=null!=t?t.countLabel:t)?i.number:i,{name:"numeral",hash:{},data:o}))+"\n      </div>\n"+(null!=(i=n.if.call(a,null!=(i=null!=t?t.countLabel:t)?i.link:i,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o}))?i:"")+"\n"+(null!=(i=n.if.call(a,null!=(i=null!=t?t.countLabel:t)?i.facePile:i,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o}))?i:"")+"  </div>\n"},2:function(e,t,n,r,o){var i;return'    <a\n      href="'+e.escapeExpression(e.lambda(null!=(i=null!=t?t.countLabel:t)?i.link:i,t))+'"\n      class="glue-page-header__count-label-link"\n      data-glue-page-header-count-label-link\n      data-interaction-target="monthly-listeners-count"\n    >\n'},4:function(e,t,n,r,o){return"    </a>\n"},6:function(e,t,r,o,i){var a;return'      <div class="glue-page-header__count-label-facepile">\n'+(null!=(a=e.invokePartial(n(125),null!=(a=null!=t?t.countLabel:t)?a.facePile:a,{name:"../../../facepile.hbs",data:i,indent:"        ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"      </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.countLabel:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:""},usePartial:!0,useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i=null!=t?t:e.nullContext||{},a=n.helperMissing,s=e.escapeExpression;return'<button\n  class="button button-icon-with-stroke spoticon-more-16"\n  data-button="contextmenu"\n  data-tooltip="'+s((n.loc||t&&t.loc||a).call(i,"More",{name:"loc",hash:{},data:o}))+'"\n  data-log-click="contextmenu-button"\n  data-ta-id="page-header-button-more"\n  aria-label="'+s((n.loc||t&&t.loc||a).call(i,"More",{name:"loc",hash:{},data:o}))+'"\n  data-interaction-target="context-menu-button"\n  data-interaction-intent="show-options"\n>\n</button>\n'},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return null!=(i=(n.type||t&&t.type||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.uri:t,"user",{name:"type",hash:{},fn:e.program(2,o,0),inverse:e.program(5,o,0),data:o}))?i:""},2:function(e,t,r,o,i){var a,s,l=null!=t?t:e.nullContext||{};return'    <button\n      class="button button-with-stroke button-add '+(null!=(a=r.if.call(l,null!=t?t.isAdded:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?a:"")+'"\n      data-button="add"\n      data-uri="'+e.escapeExpression("function"==typeof(s=null!=(s=r.uri||(null!=t?t.uri:t))?s:r.helperMissing)?s.call(l,{name:"uri",hash:{},data:i}):s)+'"\n      data-log-click="add-button"\n      data-ta-id="page-header-button-add"\n      data-interaction-target="add-remove-button"\n      data-interaction-intent="add"\n    >\n'+(null!=(a=e.invokePartial(n(126),t,{name:"../../../buttons/add-interior.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"    </button>\n"},3:function(e,t,n,r,o){return"added"},5:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'    <button\n      class="button button-header-add button-icon-with-stroke '+(null!=(i=n.if.call(s,null!=t?t.isAdded:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+'"\n      data-button="add"\n      data-uri="'+u("function"==typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:l)?a.call(s,{name:"uri",hash:{},data:o}):a)+'"\n      data-log-click="add-button"\n      data-ta-id="page-header-button-add"\n      data-interaction-target="add-remove-button"\n      data-interaction-intent="add"\n      data-tooltip="'+(null!=(i=n.if.call(s,null!=t?t.isAdded:t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.program(8,o,0),data:o}))?i:"")+'"\n      data-tooltip-add="'+u((n.loc||t&&t.loc||l).call(s,"SaveYourMusic",{name:"loc",hash:{},data:o}))+'"\n      data-tooltip-remove="'+u((n.loc||t&&t.loc||l).call(s,"RemoveYourMusic",{name:"loc",hash:{},data:o}))+'"\n      aria-label="'+(null!=(i=n.if.call(s,null!=t?t.isAdded:t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.program(8,o,0),data:o}))?i:"")+'"\n    >\n    </button>\n'},6:function(e,t,n,r,o){return e.escapeExpression((n.loc||t&&t.loc||n.helperMissing).call(null!=t?t:e.nullContext||{},"RemoveYourMusic",{name:"loc",hash:{},data:o}))},8:function(e,t,n,r,o){return e.escapeExpression((n.loc||t&&t.loc||n.helperMissing).call(null!=t?t:e.nullContext||{},"SaveYourMusic",{name:"loc",hash:{},data:o}))},10:function(e,t,r,o,i){var a,s,l=null!=t?t:e.nullContext||{};return'  <button\n    class="button button-with-stroke button-add '+(null!=(a=r.if.call(l,null!=t?t.isAdded:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?a:"")+'"\n    data-button="add"\n    data-uri="'+e.escapeExpression("function"==typeof(s=null!=(s=r.uri||(null!=t?t.uri:t))?s:r.helperMissing)?s.call(l,{name:"uri",hash:{},data:i}):s)+'"\n    data-log-click="add-button"\n    data-ta-id="page-header-button-add"\n    data-interaction-target="add-remove-button"\n    data-interaction-intent="add"\n  >\n'+(null!=(a=e.invokePartial(n(126),t,{name:"../../../buttons/add-interior.hbs",data:i,indent:"    ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"  </button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s,l="";return a=null!=(a=n.nft||(null!=t?t.nft:t))?a:n.helperMissing,s={name:"nft",hash:{},fn:e.program(1,o,0),inverse:e.program(10,o,0),data:o},i="function"==typeof a?a.call(null!=t?t:e.nullContext||{},s):a,n.nft||(i=n.blockHelperMissing.call(t,i,s)),null!=i&&(l+=i),l},usePartial:!0,useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i=null!=t?t:e.nullContext||{},a=n.helperMissing,s=e.escapeExpression;return'<div class="b-play-text">'+s((n.loc||t&&t.loc||a).call(i,"Play",{name:"loc",hash:{},data:o}))+'</div>\n<div class="b-pause-text b-alt-text">'+s((n.loc||t&&t.loc||a).call(i,"Pause",{name:"loc",hash:{},data:o}))+"</div>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return'    data-uri="'+e.escapeExpression("function"==typeof(i=null!=(i=n.playContextUri||(null!=t?t.playContextUri:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"playContextUri",hash:{},data:o}):i)+'"\n    data-context\n'},compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a;return'<button\n  class="button button-green button-play"\n  data-button="play-context"\n  data-log-click="play-button"\n  data-ta-id="page-header-button-play"\n'+(null!=(a=r.if.call(null!=t?t:e.nullContext||{},null!=t?t.playContextUri:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?a:"")+'  data-interaction-target="play-pause-button"\n>\n'+(null!=(a=e.invokePartial(n(279),t,{name:"../../../buttons/play-interior.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"</button>"},usePartial:!0,useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a;return'  <div\n    class="glue-page-header__meta-info"\n    data-ta-id="page-header-meta-info"\n  >\n    '+(null!=(i="function"==typeof(a=null!=(a=n.metaInfoHTML||(null!=t?t.metaInfoHTML:t))?a:n.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"metaInfoHTML",hash:{},data:o}):a)?i:"")+"\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.metaInfoHTML:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:""},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a;return'  <div\n    class="glue-page-header__description"\n    data-ta-id="page-header-description"\n    data-glue-page-header-description\n  >\n    <span dir="auto">\n      '+(null!=(i="function"==typeof(a=null!=(a=n.descriptionHTML||(null!=t?t.descriptionHTML:t))?a:n.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"descriptionHTML",hash:{},data:o}):a)?i:"")+"\n    </span>\n  </div>\n"},3:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.description:t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o}))?i:""},4:function(e,t,n,r,o){var i;return'    <div\n      class="glue-page-header__description"\n      data-ta-id="page-header-description"\n      data-glue-page-header-description\n    >\n      <span dir="auto">\n        '+e.escapeExpression("function"==typeof(i=null!=(i=n.description||(null!=t?t.description:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"description",hash:{},data:o}):i)+"\n      </span>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.descriptionHTML:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:""},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a;return'  <div class="glue-page-header__label" data-ta-id="page-header-label">\n    <span dir="auto">'+(null!=(i="function"==typeof(a=null!=(a=n.labelHTML||(null!=t?t.labelHTML:t))?a:n.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"labelHTML",hash:{},data:o}):a)?i:"")+"</span>\n  </div>\n"},3:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.label:t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o}))?i:""},4:function(e,t,n,r,o){var i;return'    <div class="glue-page-header__label" data-ta-id="page-header-label"><span dir="auto">'+e.escapeExpression("function"==typeof(i=null!=(i=n.label||(null!=t?t.label:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"label",hash:{},data:o}):i)+"</span></div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.labelHTML:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:""},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{};return'    <div\n      class="\n        glue-page-header__background-image-loader\n'+(null!=(i=n.if.call(a,null!=t?t.isLoaded:t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o}))?i:"")+'      "\n      data-glue-page-header-background-image-loader\n    >\n      <div\n        class="glue-page-header__background-image"\n'+(null!=(i=n.if.call(a,null!=(i=null!=t?t.background:t)?i.imageUrl:i,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o}))?i:"")+'        data-glue-page-header-background-image\n        data-glue-page-header-background-image-url="'+e.escapeExpression(e.lambda(null!=(i=null!=t?t.background:t)?i.imageUrl:i,t))+'"\n        data-ta-id="page-header-background-image"\n      >\n      </div>\n    </div>\n    <div class="glue-page-header__background-overlay">\n    </div>\n    <div class="glue-page-header__background-image-overlay-gradient">\n    </div>\n    <div\n      class="glue-page-header__background-scroll-overlay-ellipse-backdrop"\n      data-glue-page-header-background-scroll-overlay-ellipse-backdrop\n    >\n    </div>\n    <div\n      class="glue-page-header__background-scroll-overlay-ellipse"\n      data-glue-page-header-background-scroll-overlay-ellipse\n    >\n    </div>\n'},2:function(e,t,n,r,o){return"          glue-page-header__background-image-loader--is-loaded\n"},4:function(e,t,n,r,o){var i;return'          style="background-image: url('+e.escapeExpression(e.lambda(null!=(i=null!=t?t.background:t)?i.imageUrl:i,t))+')"\n'},6:function(e,t,n,r,o){var i;return'    <div\n      class="glue-page-header__background-color"\n'+(null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.background:t)?i.color:i,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o}))?i:"")+'    >\n    </div>\n    <div class="glue-page-header__background-overlay">\n    </div>\n    <div\n      class="glue-page-header__background-scroll-overlay"\n      data-glue-page-header-background-scroll-overlay\n    >\n    </div>\n'},7:function(e,t,n,r,o){var i;return'        style="background-color: '+e.escapeExpression(e.lambda(null!=(i=null!=t?t.background:t)?i.color:i,t))+'"\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return'<div\n  class="glue-page-header__background"\n  data-glue-page-header-background\n>\n'+(null!=(i=(n.compare||t&&t.compare||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?t.background:t)?i.type:i,"image",{name:"compare",hash:{},fn:e.program(1,o,0),inverse:e.program(6,o,0),data:o}))?i:"")+"</div>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"      card-video\n"},3:function(e,t,n,r,o){var i;return null!=(i=(n.compare||t&&t.compare||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.isVideo:t,!1,{name:"compare",hash:{},fn:e.program(4,o,0),inverse:e.program(6,o,0),data:o}))?i:""},4:function(e,t,n,r,o){return""},6:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing;return null!=(i=(n.compare||t&&t.compare||s).call(a,(n.type||t&&t.type||s).call(a,null!=t?t.uri:t,{name:"type",hash:{},data:o}),"episode",{name:"compare",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o}))?i:""},7:function(e,t,n,r,o){return"          card-video\n"},9:function(e,t,n,r,o){return"card-type-station-"+e.escapeExpression((n.type||t&&t.type||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.seedUri:t,{name:"type",hash:{},data:o}))},11:function(e,t,n,r,o){return"      card-show-attention-highlight\n"},13:function(e,t,n,r,o){return"no-image-url"},compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a,s,l=null!=t?t:e.nullContext||{},u=r.helperMissing,c=e.escapeExpression;return'<div\n  class="\n    card\n    card-type-'+c((r.type||t&&t.type||u).call(l,null!=t?t.uri:t,{name:"type",hash:{},data:i}))+"\n"+(null!=(a=(r.compare||t&&t.compare||u).call(l,null!=t?t.isVideo:t,!0,{name:"compare",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))?a:"")+"    "+(null!=(a=r.if.call(l,null!=t?t.seedUri:t,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?a:"")+"\n"+(null!=(a=r.if.call(l,null!=t?t.showAttentionHighlight:t,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?a:"")+"    "+(null!=(a=r.unless.call(l,null!=t?t.imageUrl:t,{name:"unless",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?a:"")+'\n  "\n  data-uri="'+c("function"==typeof(s=null!=(s=r.uri||(null!=t?t.uri:t))?s:u)?s.call(l,{name:"uri",hash:{},data:i}):s)+'"\n  data-contextmenu\n  data-drag-text="'+c("function"==typeof(s=null!=(s=r.dragText||(null!=t?t.dragText:t))?s:u)?s.call(l,{name:"dragText",hash:{},data:i}):s)+'"\n  draggable="true"\n  data-ta-id="card"\n>\n  <div class="card-attention-highlight-box">\n  </div>\n  <div class="card-image-wrapper" data-contextmenu-spy data-ta-id="card-image-wrapper">\n'+(null!=(a=e.invokePartial(n(85),t,{name:"./internal/image-with-overlay.hbs",data:i,indent:"    ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"  </div>\n</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a;return'<header class="app-header" data-interaction-context="header">\n  <div data-node="hpto-wrapper" class="hide">\n    <div class="hpto-top-bar"></div>\n    <div data-node="hpto" class="hpto-container"></div>\n  </div>\n  <div data-node="header">\n'+(null!=(a=e.invokePartial(n(129),null!=t?t.pageHeader:t,{name:"../../../../glue/templates/headers/page-header.hbs",data:i,indent:"      ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+'  </div>\n  <div data-node="navbar" data-interaction-context="navbar">\n'+(null!=(a=e.invokePartial(n(124),null!=t?t.navBar:t,{name:"../../../../glue/templates/navbar.hbs",data:i,indent:"    ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+'  </div>\n</header>\n<div class="app-content container bfs-container" data-interaction-context="body">\n  <div class="row" data-child-container>\n  </div>\n</div>\n'},usePartial:!0,useData:!0})},function(e){e.exports={"logs?":{"impression?":{}},tab:"",tabs:[{id:"",title:"",uri:""}],title:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(3)),o=l(n(130)),i=l(n(5)),a=l(n(287)),s=l(n(286));function l(e){return e&&e.__esModule?e:{default:e}}t.default=class extends i.default{constructor(e,t,n,r,i,s,l){super(e,t,n,r,i,s,l,a.default),this._hptoElement=this._documentFragment.find('[data-node="hpto"]'),this._hptoWrapperElement=this._documentFragment.find('[data-node="hpto-wrapper"]'),this._headerElement=this._documentFragment.find('[data-node="header"]'),this._navbarElement=this._documentFragment.find('[data-node="navbar"]'),this._navbarPlaceholder=new o.default(s,this._navbarElement),this._headerPlaceholder=new o.default(s,this._headerElement),this._onHptoRendered=(()=>{this._hptoWrapperElement.classList.remove("hide"),this._headerPlaceholder.showPlaceholderElement(),this._navbarPlaceholder.showTargetElement(),this._environment.updateSpotifyEventsIn(this._navbarElement),this._environment.updateSpotifyEventsIn(this._hptoElement)}),this._onHptoHidden=(()=>{this._hptoWrapperElement.classList.add("hide"),this._headerPlaceholder.showTargetElement(),this._navbarPlaceholder.showPlaceholderElement(),this._environment.updateSpotifyEventsIn(this._headerElement)}),this._environment.createHomePageTakeOverFor(this._hptoElement,this._onHptoRendered,this._onHptoHidden),this._setUpEventRoutes(),this._window=l}destroy(){this._environment.destroyHomePageTakeOver(this._onHptoRendered,this._onHptoHidden),super.destroy()}handlesArgumentsChange(e){if(r.default.check.array(e),e.length>0){let t=this._model.tabs[0].id;for(let n=1;n<this._model.tabs.length;n++)if(this._model.tabs[n].id===e[0]){t=this._model.tabs[n].id;break}return this._eventDispatcher.dispatch("show-tab",{id:t}),this._window.scrollTo(0,0),!0}return!1}_onRootViewUpdate(e){r.default.check.object(e),this._eventDispatcher.dispatch("show-tab",{id:this._model.tab})}_render(){const e={},t={"nav-items":this._model.tabs.map(e=>({id:e.uri,name:e.title,url:e.uri}))};return e.pageHeader={background:{type:"color"},navBar:t,title:this._model.title},e.navBar=t,(0,s.default)(e)}_setUpEventRoutes(){this._addEventListener("root-view-update",this._onRootViewUpdate),this._setUpStandardImpressionLogging()}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="row standard-grid" data-child-container data-interaction-list data-interaction-context="grid">\n</div>\n'},useData:!0})},function(e){e.exports={id:"","layout?":{cols:{large:0,medium:0,small:0,"xSmall?":0},rows:0},"nextPage?":""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(3)),o=l(n(5)),i=l(n(290)),a=l(n(289)),s=l(n(84));function l(e){return e&&e.__esModule?e:{default:e}}const u=800;class c extends o.default{constructor(e,t,n,r,o,a,l){super(e,t,n,r,o,a,l,i.default),this._getPixelsToBottomBelowScreen=(()=>a.body.scrollHeight-(l.scrollY+l.innerHeight)),this._getGridBreakPoint=(()=>(0,s.default)(a,l)),this._numberOfVisibleChildren=null,this._timesGridExpanded=0,this._currentRows=this._getDefaultNumberOfVisibleRows(),this._pendingPageRequest=!1,this._setUpEventRoutes()}attach(e){if(r.default.check.type(e,Element),"layout"in this._model){this._updateVisibility();for(let e=0;e<this._numberOfVisibleChildren;e++)this._childViews[e].attach(this._childContainerElement);this._documentFragment.attach(e)}else super.attach(e)}_getColsForCurrentBreakPoint(){if("layout"in this._model){const e=this._getGridBreakPoint();return"lg"===e?this._model.layout.cols.large:"md"===e?this._model.layout.cols.medium:"sm"===e?this._model.layout.cols.small:"xSmall"in this._model.layout.cols?this._model.layout.cols.xSmall:this._model.layout.cols.small}return 1/0}_getDefaultNumberOfVisibleRows(){return"layout"in this._model?this._model.layout.rows:1/0}_getMaximumNumberOfVisibleChildren(){return this._getColsForCurrentBreakPoint()*this._currentRows}_loadNextPage(){"nextPage"in this._model&&(this._pendingPageRequest=!0,this._serviceRouter.request(this._model.nextPage,e=>{if(null!==e)if(r.default.is.type(e,c)){const t=e._childViews.slice();for(let e=0;e<t.length;e++)this.addChild(t[e]);"nextPage"in e._model&&t.length>0?this._model.nextPage=e._model.nextPage:delete this._model.nextPage,e.destroy(),this._pendingPageRequest=!1,this._environment.updateSpotifyEventsIn(this._childContainerElement),this._maybeLoadNextPage()}else e.destroy(),delete this._model.nextPage,this._pendingPageRequest=!1;else delete this._model.nextPage,this._pendingPageRequest=!1}))}_maybeLoadNextPage(){if(this._documentFragment.isAttached()&&!this._pendingPageRequest){this._getPixelsToBottomBelowScreen()<u&&this._loadNextPage()}}_onClickAll(e){r.default.check.object(e),e.id===this._model.id&&(this._timesGridExpanded++,this._currentRows=1/0,this._updateVisibility())}_onClickLess(e){r.default.check.object(e),e.id===this._model.id&&(this._timesGridExpanded=0,this._currentRows=this._getDefaultNumberOfVisibleRows(),this._updateVisibility(),this._eventDispatcher.dispatch("set-button-position",e))}_onClickMore(e){r.default.check.object(e),e.id===this._model.id&&(this._timesGridExpanded++,this._currentRows+=this._getDefaultNumberOfVisibleRows(),this._updateVisibility())}_onRootViewUpdateLayout(e){r.default.check.object(e),this._updateVisibility()}_onRootViewUpdateLoad(e){r.default.check.object(e),this._maybeLoadNextPage()}_onWindowResize(e){r.default.check.object(e),this._updateVisibility()}_onWindowScroll(e){r.default.check.object(e),this._maybeLoadNextPage()}_render(){return(0,a.default)({})}_setUpEventRoutes(){"layout"in this._model&&(this._addEventListener("click-all",this._onClickAll),this._addEventListener("click-less",this._onClickLess),this._addEventListener("click-more",this._onClickMore),this._addEventListener("root-view-update",this._onRootViewUpdateLayout),this._addEventListener("window-resize",this._onWindowResize)),"nextPage"in this._model&&(this._addEventListener("window-scroll",this._onWindowScroll),this._addEventListener("root-view-update",this._onRootViewUpdateLoad))}_updateVisibility(){const e=Math.min(this._getMaximumNumberOfVisibleChildren(),this._childViews.length);if(this._numberOfVisibleChildren!==e){const t=this._childViews.length-e;for(let t=0;t<e;t++)this._childViews[t].attach(this._childContainerElement);for(let t=e;t<this._childViews.length;t++)this._childViews[t].detach();this._environment.updateSpotifyEventsIn(this._childContainerElement),this._numberOfVisibleChildren=e,this._eventDispatcher.dispatch("grid-update",{id:this._model.id,expansions:this._timesGridExpanded,hidden:t,visible:e})}}}t.default=c},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a;return'<div class="show-error-screen">\n'+(null!=(a=e.invokePartial(n(131),t,{name:"../../../../glue/templates/error-and-offline.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"</div>\n"},usePartial:!0,useData:!0})},function(e){e.exports={"button?":{title:"",uri:""},"subtitle?":"","title?":""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(5)),o=a(n(293)),i=a(n(292));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class extends r.default{constructor(e,t,n,r,i,a,s){super(e,t,n,r,i,a,s,o.default)}_render(){const e={useDefaultError:!0};return"title"in this._model&&(e.errorTitle=this._model.title,e.useDefaultError=!1),"subtitle"in this._model&&(e.errorMessage=this._model.subtitle,e.useDefaultError=!1),"button"in this._model&&(e.errorEscapeUrl=this._model.button.uri,e.errorEscapeMessage=this._model.button.title),(0,i.default)(e)}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'<div class="embedded-app-row hide">\n  <iframe\n    src="'+l("function"==typeof(i=null!=(i=n.uri||(null!=t?t.uri:t))?i:s)?i.call(a,{name:"uri",hash:{},data:o}):i)+'"\n    class="embedded-app-iframe"\n    data-embedded="true"\n    data-origin="'+l("function"==typeof(i=null!=(i=n.origin||(null!=t?t.origin:t))?i:s)?i.call(a,{name:"origin",hash:{},data:o}):i)+'"\n    data-post-message-name="'+l("function"==typeof(i=null!=(i=n.postMessageName||(null!=t?t.postMessageName:t))?i:s)?i.call(a,{name:"postMessageName",hash:{},data:o}):i)+'">\n  </iframe>\n</div>\n'},useData:!0})},function(e){e.exports={uri:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(296)),a=s(n(295));function s(e){return e&&e.__esModule?e:{default:e}}const l="hub-embedded-resize";t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._mainContainerElement=this._documentFragment.find("div"),this._iframeElement=this._documentFragment.find("iframe"),this._origin=s.location.origin,this._hasBeenAttached=!1,this._setUpEventRoutes()}attach(e){r.default.check.type(e,Element),this._hasBeenAttached||(super.attach(e),this._hasBeenAttached=!0),this._mainContainerElement.classList.remove("hide")}detach(){this._mainContainerElement.classList.add("hide")}_onWindowMessage(e){if(!r.default.conforms(e,{height:0,name:"",uri:""}))return;if(e.name!==l)return;if(e.uri!==this._model.uri)return;const t=`${e.height}px`;this._iframeElement.height=t,this._iframeElement.style.height=t}_render(){const e={};return e.origin=this._origin,e.postMessageName=l,e.uri=this._model.uri,(0,a.default)(e)}_setUpEventRoutes(){this._addEventListener("window-message",this._onWindowMessage)}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return"<div data-child-container data-interaction-list>\n</div>\n"},useData:!0})},function(e){e.exports={uri:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(299)),a=s(n(298));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._contentLoaded=!1,this._pendingPageRequest=!1}attach(e){r.default.check.type(e,Element),super.attach(e),this._loadContent()}_loadContent(){this._contentLoaded||this._pendingPageRequest||(this._pendingPageRequest=!0,this._serviceRouter.request(this._model.uri,e=>{if(null===e)return this._contentLoaded=!0,void(this._pendingPageRequest=!1);const t=e._childViews.slice();for(let e=0;e<t.length;e++)super.addChild(t[e]);e.destroy(),this._contentLoaded=!0,this._pendingPageRequest=!1,this._environment.updateSpotifyEventsIn(this._childContainerElement),this._eventDispatcher.dispatch("deferred-content-load",{})}))}_nrOfDeferredContentLoads(){return 1}_render(){return(0,a.default)({})}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"true"},3:function(e,t,n,r,o){return"false"},5:function(e,t,n,r,o){return" enabled"},7:function(e,t,n,r,o){return" disabled"},9:function(e,t,n,r,o){return"enabled"},11:function(e,t,n,r,o){return"disabled"},13:function(e,t,n,r,o){return'aria-disabled="true"'},15:function(e,t,n,r,o){var i;return'data-slider="'+e.escapeExpression("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"id",hash:{},data:o}):i)+'"'},17:function(e,t,n,r,o){return"data-slider"},19:function(e,t,n,r,o){var i;return'data-ta-id="'+e.escapeExpression("function"==typeof(i=null!=(i=n.id||(null!=t?t.id:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"id",hash:{},data:o}):i)+'"'},21:function(e,t,n,r,o){var i;return'aria-labelledby="'+e.escapeExpression("function"==typeof(i=null!=(i=n.labelId||(null!=t?t.labelId:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"labelId",hash:{},data:o}):i)+'"'},23:function(e,t,n,r,o){var i;return'data-uri="'+e.escapeExpression("function"==typeof(i=null!=(i=n.uri||(null!=t?t.uri:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"uri",hash:{},data:o}):i)+'"'},25:function(e,t,n,r,o){var i;return'data-slider-property="'+e.escapeExpression("function"==typeof(i=null!=(i=n.property||(null!=t?t.property:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"property",hash:{},data:o}):i)+'"'},27:function(e,t,n,r,o){var i;return'data-slider-allowed-property="'+e.escapeExpression("function"==typeof(i=null!=(i=n.allowedProperty||(null!=t?t.allowedProperty:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"allowedProperty",hash:{},data:o}):i)+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing;return'<div\n  tabindex="0"\n  role="checkbox"\n  aria-checked="'+(null!=(i=n.if.call(a,null!=t?t.enabled:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:"")+'"\n  class="slider'+(null!=(i=n.if.call(a,null!=t?t.enabled:t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+(null!=(i=(n.compare||t&&t.compare||s).call(a,null!=t?t.allowed:t,!1,{name:"compare",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o}))?i:"")+'"\n  data-ta-slider-state="'+(null!=(i=n.if.call(a,null!=t?t.enabled:t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.program(11,o,0),data:o}))?i:"")+'"\n  '+(null!=(i=(n.compare||t&&t.compare||s).call(a,null!=t?t.allowed:t,!1,{name:"compare",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o}))?i:"")+"\n  "+(null!=(i=n.if.call(a,null!=t?t.id:t,{name:"if",hash:{},fn:e.program(15,o,0),inverse:e.program(17,o,0),data:o}))?i:"")+"\n  "+(null!=(i=n.if.call(a,null!=t?t.id:t,{name:"if",hash:{},fn:e.program(19,o,0),inverse:e.noop,data:o}))?i:"")+"\n  "+(null!=(i=n.if.call(a,null!=t?t.labelId:t,{name:"if",hash:{},fn:e.program(21,o,0),inverse:e.noop,data:o}))?i:"")+"\n  "+(null!=(i=n.if.call(a,null!=t?t.uri:t,{name:"if",hash:{},fn:e.program(23,o,0),inverse:e.noop,data:o}))?i:"")+"\n  "+(null!=(i=n.if.call(a,null!=t?t.property:t,{name:"if",hash:{},fn:e.program(25,o,0),inverse:e.noop,data:o}))?i:"")+"\n  "+(null!=(i=n.if.call(a,null!=t?t.allowedProperty:t,{name:"if",hash:{},fn:e.program(27,o,0),inverse:e.noop,data:o}))?i:"")+">\n  <div></div>\n</div>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(301),t,{name:"../../../../glue/templates/slider.hbs",data:i,indent:"          ",helpers:r,partials:o,decorators:e.decorators}))?a:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{};return'<div class="bfs-debug-controls-overlay" data-node="overlay">\n  <div class="bfs-debug-controls-buttons">\n    <span class="bfs-debug-controls-button spoticon-refresh-32" data-node="reload"></span>\n    <span class="bfs-debug-controls-button spoticon-gears-32" data-node="toggle"></span>\n  </div>\n  <div class="bfs-debug-controls-controls hide" data-node="controls">\n\n    <div class="bfs-debug-controls-row">\n      <div class="bfs-debug-controls-col-expanding">\n        <h4 class="bfs-debug-controls-heading bfs-debug-controls-no-margin" data-node="appInfo"></h4>\n      </div>\n    </div>\n\n    <div class="bfs-debug-controls-row">\n      <div class="bfs-debug-controls-col-expanding">\n        <h4 class="bfs-debug-controls-heading bfs-debug-controls-no-margin">Proxy</h4>\n      </div>\n    </div>\n\n    <div class="bfs-debug-controls-row">\n      <div class="bfs-debug-controls-col-expanding">\n        <p class="bfs-debug-controls-no-margin">Enable backend development on your local machine using the HTTP proxy.</p>\n      </div>\n    </div>\n\n    <div class="bfs-debug-controls-row">\n      <div class="bfs-debug-controls-col-wrapping">\n'+(null!=(i=n.with.call(a,null!=t?t.proxy:t,{name:"with",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'      </div>\n    </div>\n\n    <div class="bfs-debug-controls-row">\n      <div class="bfs-debug-controls-col-wrapping">\n        <input data-node="proxyPortCheckbox" type="checkbox" />\n      </div>\n      <div class="bfs-debug-controls-col-expanding">\n        <p class="bfs-debug-controls-no-margin">Port:</p>\n      </div>\n      <div class="bfs-debug-controls-col-wrapping">\n        <input class="bfs-debug-controls-input" data-node="proxyPortInput" disabled="disabled" type="text" />\n      </div>\n    </div>\n\n    <div class="bfs-debug-controls-row">\n      <div class="bfs-debug-controls-col-expanding">\n        <h4 class="bfs-debug-controls-heading bfs-debug-controls-no-margin">Logging</h4>\n      </div>\n    </div>\n\n    <div class="bfs-debug-controls-row">\n      <div class="bfs-debug-controls-col-expanding">\n        <p class="bfs-debug-controls-no-margin">Log messages to the console instead of the logging endpoint.</p>\n      </div>\n    </div>\n\n    <div class="bfs-debug-controls-row">\n      <div class="bfs-debug-controls-col-wrapping">\n'+(null!=(i=n.with.call(a,null!=t?t.logging:t,{name:"with",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'      </div>\n    </div>\n\n    <div class="bfs-debug-controls-row">\n      <div class="bfs-debug-controls-col-expanding">\n        <h4 class="bfs-debug-controls-heading bfs-debug-controls-no-margin">Caching</h4>\n      </div>\n    </div>\n\n    <div class="bfs-debug-controls-row">\n      <div class="bfs-debug-controls-col-expanding">\n        <p class="bfs-debug-controls-no-margin">Use the native response cache for Hermes requests. Disabling this will add a new cache entry for each request.</p>\n      </div>\n    </div>\n\n    <div class="bfs-debug-controls-row">\n      <div class="bfs-debug-controls-col-wrapping">\n'+(null!=(i=n.with.call(a,null!=t?t.caching:t,{name:"with",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'      </div>\n    </div>\n\n    <div class="bfs-debug-controls-row">\n      <div class="bfs-debug-controls-col-expanding">\n        <h4 class="bfs-debug-controls-heading bfs-debug-controls-no-margin">Overrides</h4>\n      </div>\n    </div>\n\n    <div class="bfs-debug-controls-row">\n      <div class="bfs-debug-controls-col-expanding">\n        <p class="bfs-debug-controls-no-margin">Override certain user attributes to test regionalized content programming. The overrides are only active in this app.</p>\n      </div>\n    </div>\n\n    <div class="bfs-debug-controls-row">\n      <div class="bfs-debug-controls-col-wrapping">\n        <input data-node="userCountryCheckbox" type="checkbox" />\n      </div>\n      <div class="bfs-debug-controls-col-expanding">\n        <p class="bfs-debug-controls-no-margin">Country:</p>\n      </div>\n      <div class="bfs-debug-controls-col-wrapping">\n        <input class="bfs-debug-controls-input" data-node="userCountryInput" disabled="disabled" type="text" />\n      </div>\n    </div>\n\n    <div class="bfs-debug-controls-row">\n      <div class="bfs-debug-controls-col-wrapping">\n        <input data-node="userLanguageCheckbox" type="checkbox" />\n      </div>\n      <div class="bfs-debug-controls-col-expanding">\n        <p class="bfs-debug-controls-no-margin">Language:</p>\n      </div>\n      <div class="bfs-debug-controls-col-wrapping">\n        <input class="bfs-debug-controls-input" data-node="userLanguageInput" disabled="disabled" type="text" />\n      </div>\n    </div>\n\n  </div>\n</div>\n'},usePartial:!0,useData:!0})},function(e){e.exports={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(303)),a=s(n(302));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._overlayElement=this._documentFragment.find('[data-node="overlay"]'),this._toggleElement=this._documentFragment.find('[data-node="toggle"]'),this._reloadElement=this._documentFragment.find('[data-node="reload"]'),this._controlsElement=this._documentFragment.find('[data-node="controls"]'),this._appInfoElement=this._documentFragment.find('[data-node="appInfo"]'),this._proxyEnabledSliderElement=this._documentFragment.find('[data-slider="proxyEnabledSlider"]'),this._proxyPortCheckboxElement=this._documentFragment.find('[data-node="proxyPortCheckbox"]'),this._proxyPortInputElement=this._documentFragment.find('[data-node="proxyPortInput"]'),this._loggingEnabledSliderElement=this._documentFragment.find('[data-slider="loggingEnabledSlider"]'),this._userCountryCheckboxElement=this._documentFragment.find('[data-node="userCountryCheckbox"]'),this._userCountryInputElement=this._documentFragment.find('[data-node="userCountryInput"]'),this._userLanguageCheckboxElement=this._documentFragment.find('[data-node="userLanguageCheckbox"]'),this._userLanguageInputElement=this._documentFragment.find('[data-node="userLanguageInput"]'),this._cachingEnabledSliderElement=this._documentFragment.find('[data-slider="cachingEnabledSlider"]'),this._updateFormFromConfiguration(),this._setUpEventRoutes()}_onClickCachingEnabledSliderElement(e){r.default.check.type(e,Element),this._cachingEnabledSliderElement.classList.toggle("enabled")?this._configuration.removeValue("caching/enabled"):this._configuration.storeValue("caching/enabled",!1)}_onClickLoggingEnabledSliderElement(e){r.default.check.type(e,Element),this._loggingEnabledSliderElement.classList.toggle("enabled")?this._configuration.storeValue("logging/enabled",!0):this._configuration.removeValue("logging/enabled")}_onClickProxyEnabledSliderElement(e){r.default.check.type(e,Element),this._proxyEnabledSliderElement.classList.toggle("enabled")?this._configuration.storeValue("proxy/enabled",!0):this._configuration.removeValue("proxy/enabled")}_onClickProxyPortCheckboxElement(e){r.default.check.type(e,Element),this._proxyPortCheckboxElement.checked?(this._proxyPortInputElement.disabled=!1,this._configuration.storeValue("debug-controls/port-enabled",!0),this._updateProxyPortFromInput()):(this._proxyPortInputElement.disabled=!0,this._configuration.removeValue("proxy/port"),this._configuration.removeValue("debug-controls/port-enabled"))}_onClickReloadElement(e){r.default.check.type(e,Element),this._eventDispatcher.dispatch("reload-view",{})}_onClickToggleElement(e){r.default.check.type(e,Element),this._controlsElement.classList.contains("hide")?(this._controlsElement.classList.remove("hide"),this._configuration.storeValue("debug-controls/controls-visible",!0)):(this._controlsElement.classList.add("hide"),this._configuration.removeValue("debug-controls/controls-visible"))}_onClickUserCountryCheckboxElement(e){r.default.check.type(e,Element),this._userCountryCheckboxElement.checked?(this._userCountryInputElement.disabled=!1,this._configuration.storeValue("debug-controls/country-enabled",!0),this._updateUserCountryFromInput()):(this._userCountryInputElement.disabled=!0,this._configuration.removeValue("user/country"),this._configuration.removeValue("debug-controls/country-enabled"))}_onClickUserLanguageCheckboxElement(e){r.default.check.type(e,Element),this._userLanguageCheckboxElement.checked?(this._userLanguageInputElement.disabled=!1,this._configuration.storeValue("debug-controls/language-enabled",!0),this._updateUserLanguageFromInput()):(this._userLanguageInputElement.disabled=!0,this._configuration.removeValue("user/language"),this._configuration.removeValue("debug-controls/language-enabled"))}_onInputProxyPortInputElement(e){r.default.check.type(e,Element),this._updateProxyPortFromInput()}_onInputUserCountryInputElement(e){r.default.check.type(e,Element),this._updateUserCountryFromInput()}_onInputUserLanguageInputElement(e){r.default.check.type(e,Element),this._updateUserLanguageFromInput()}_render(){return(0,a.default)({caching:{id:"cachingEnabledSlider"},logging:{id:"loggingEnabledSlider"},proxy:{id:"proxyEnabledSlider"}})}_setUpEventRoutes(){this._addInteractionHandler(this._toggleElement,"click",this._onClickToggleElement),this._addInteractionHandler(this._reloadElement,"click",this._onClickReloadElement),this._addInteractionHandler(this._proxyEnabledSliderElement,"click",this._onClickProxyEnabledSliderElement),this._addInteractionHandler(this._proxyPortCheckboxElement,"click",this._onClickProxyPortCheckboxElement),this._addInteractionHandler(this._proxyPortInputElement,"input",this._onInputProxyPortInputElement),this._addInteractionHandler(this._loggingEnabledSliderElement,"click",this._onClickLoggingEnabledSliderElement),this._addInteractionHandler(this._userCountryCheckboxElement,"click",this._onClickUserCountryCheckboxElement),this._addInteractionHandler(this._userCountryInputElement,"input",this._onInputUserCountryInputElement),this._addInteractionHandler(this._userLanguageCheckboxElement,"click",this._onClickUserLanguageCheckboxElement),this._addInteractionHandler(this._userLanguageInputElement,"input",this._onInputUserLanguageInputElement),this._addInteractionHandler(this._cachingEnabledSliderElement,"click",this._onClickCachingEnabledSliderElement)}_updateFormFromConfiguration(){const e=this._configuration.getDefaultState(),t=e.getString("app/name"),n=e.getString("app/version");this._appInfoElement.textContent=`${t} ${n}`,this._configuration.getCurrentState(e=>{if(e.getBooleanOr("proxy/enabled",!1)&&this._proxyEnabledSliderElement.classList.add("enabled"),e.hasNumber("proxy/port")){const t=e.getNumber("proxy/port");this._proxyPortInputElement.value=`${t}`}if(e.getBooleanOr("logging/enabled",!1)&&this._loggingEnabledSliderElement.classList.add("enabled"),e.hasString("user/country")){const t=e.getString("user/country");this._userCountryInputElement.value=t}if(e.hasString("user/language")){const t=e.getString("user/language");this._userLanguageInputElement.value=t}e.getBooleanOr("debug-controls/port-enabled",!1)&&(this._proxyPortCheckboxElement.checked=!0,this._proxyPortInputElement.disabled=!1),e.getBooleanOr("debug-controls/country-enabled",!1)&&(this._userCountryCheckboxElement.checked=!0,this._userCountryInputElement.disabled=!1),e.getBooleanOr("debug-controls/language-enabled",!1)&&(this._userLanguageCheckboxElement.checked=!0,this._userLanguageInputElement.disabled=!1),e.getBooleanOr("debug-controls/controls-visible",!1)&&this._controlsElement.classList.remove("hide"),e.getBooleanOr("caching/enabled",!0)&&this._cachingEnabledSliderElement.classList.add("enabled")})}_updateProxyPortFromInput(){const e=parseInt(this._proxyPortInputElement.value,10);this._configuration.storeValue("proxy/port",e)}_updateUserCountryFromInput(){const e=this._userCountryInputElement.value;this._configuration.storeValue("user/country",e)}_updateUserLanguageFromInput(){const e=this._userLanguageInputElement.value;this._environment.isSupportedLocale(e)?(this._userLanguageInputElement.classList.remove("invalid"),this._configuration.storeValue("user/language",e)):this._userLanguageInputElement.classList.add("invalid")}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="container bfs-container">\n  <div class="row" data-child-container>\n  </div>\n</div>\n'},useData:!0})},function(e){e.exports={"logs?":{"impression?":{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(5)),o=a(n(306)),i=a(n(305));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class extends r.default{constructor(e,t,n,r,i,a,s){super(e,t,n,r,i,a,s,o.default),this._setUpEventRoutes()}_render(){return(0,i.default)({})}_setUpEventRoutes(){this._setUpStandardImpressionLogging()}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'<div class="crsl-item col-xs-'+l("function"==typeof(i=null!=(i=n.xSmall||(null!=t?t.xSmall:t))?i:s)?i.call(a,{name:"xSmall",hash:{},data:o}):i)+" col-sm-"+l("function"==typeof(i=null!=(i=n.small||(null!=t?t.small:t))?i:s)?i.call(a,{name:"small",hash:{},data:o}):i)+" col-md-"+l("function"==typeof(i=null!=(i=n.medium||(null!=t?t.medium:t))?i:s)?i.call(a,{name:"medium",hash:{},data:o}):i)+" col-lg-"+l("function"==typeof(i=null!=(i=n.large||(null!=t?t.large:t))?i:s)?i.call(a,{name:"large",hash:{},data:o}):i)+'" data-child-container>\n</div>\n'},useData:!0})},function(e){e.exports={large:0,medium:0,small:0,"xSmall?":0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(5)),o=a(n(309)),i=a(n(308));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class extends r.default{constructor(e,t,n,r,i,a,s){super(e,t,n,r,i,a,s,o.default)}_render(){const e={};return e.large=this._model.large,e.medium=this._model.medium,e.small=this._model.small,"xSmall"in this._model?e.xSmall=this._model.xSmall:e.xSmall=this._model.small,(0,i.default)(e)}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(25),t,{name:"../../../../glue/templates/cards/card-horizontal.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:""},3:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(24),t,{name:"../../../../glue/templates/cards/card.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.horizontal:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:""},usePartial:!0,useData:!0})},function(e){e.exports={"description?":"","horizontal?":!1,"image?":"","logs?":{"impression?":{},"navigateToShow?":{},"startPlayback?":{},"stopPlayback?":{}},"meta?":"",name:"",uri:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(312)),a=s(n(311));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._environment.addToLiveCache(this._model),this._setUpEventRoutes()}_onClickDataLogClick(e){r.default.check.type(e,Element);const t=e.getAttribute("data-log-click");"media-image"===t?"logs"in this._model&&"navigateToShow"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToShow):"media-title"===t?"logs"in this._model&&"navigateToShow"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToShow):"pause-button"===t?"logs"in this._model&&"stopPlayback"in this._model.logs&&this._logUIInteraction5(this._model.logs.stopPlayback):"play-button"===t&&"logs"in this._model&&"startPlayback"in this._model.logs&&this._logUIInteraction5(this._model.logs.startPlayback)}_render(){const e=this._configuration.getDefaultState(),t={};return"description"in this._model&&(""===this._model.description?t.description="":t.description=this._model.description),"horizontal"in this._model&&(t.horizontal=this._model.horizontal),"image"in this._model&&(t.imageUrl=this._model.image),"meta"in this._model&&(""===this._model.meta?t.metadata="":t.metadata=this._model.meta),t.playButtonOnly=!1,t.title=this._model.name,t.uri=this._model.uri,e.getBooleanOr("style/small-cards",!1)&&(delete t.description,delete t.metadata),(0,a.default)(t)}_setUpEventRoutes(){this._documentFragment.query("[data-log-click]").forEach(e=>{this._addInteractionHandler(e,"click",this._onClickDataLogClick)}),this._setUpStandardImpressionLogging()}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(25),t,{name:"../../../../glue/templates/cards/card-horizontal.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:""},3:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(24),t,{name:"../../../../glue/templates/cards/card.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.horizontal:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:""},usePartial:!0,useData:!0})},function(e){e.exports={"horizontal?":!1,"image?":"","logs?":{"impression?":{},"navigateToProfile?":{}},"meta?":"",name:"",uri:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(315)),a=s(n(314));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._environment.addToLiveCache(this._model),this._setUpEventRoutes()}_onClickDataLogClick(e){r.default.check.type(e,Element);const t=e.getAttribute("data-log-click");"media-image"===t?"logs"in this._model&&"navigateToProfile"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToProfile):"media-title"===t&&"logs"in this._model&&"navigateToProfile"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToProfile)}_render(){const e=this._configuration.getDefaultState(),t={};return"horizontal"in this._model&&(t.horizontal=this._model.horizontal),"image"in this._model&&(t.imageUrl=this._model.image),"meta"in this._model&&(""===this._model.meta?t.metadata="":t.metadata=this._model.meta),t.title=this._model.name,t.uri=this._model.uri,e.getBooleanOr("style/small-cards",!1)&&(t.playButtonOnly=!0,delete t.metadata),(0,a.default)(t)}_setUpEventRoutes(){this._documentFragment.query("[data-log-click]").forEach(e=>{this._addInteractionHandler(e,"click",this._onClickDataLogClick)}),this._setUpStandardImpressionLogging()}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(25),t,{name:"../../../../glue/templates/cards/card-horizontal.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:""},3:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(24),t,{name:"../../../../glue/templates/cards/card.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.horizontal:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:""},usePartial:!0,useData:!0})},function(e){e.exports={"description?":"","horizontal?":!1,"image?":"","link?":!1,"logs?":{"followPlaylist?":{},"impression?":{},"navigateToPlaylist?":{},"openContextMenu?":{},"startPlayback?":{},"stopPlayback?":{},"unfollowPlaylist?":{}},"meta?":"",name:"",uri:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(318)),a=s(n(317));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._environment.addToLiveCache(this._model),this._setUpEventRoutes()}_onClickDataLogClick(e){r.default.check.type(e,Element);const t=e.getAttribute("data-log-click");"add-button"===t?"logs"in this._model&&"followPlaylist"in this._model.logs&&this._logUIInteraction5(this._model.logs.followPlaylist):"context-menu-button"===t?"logs"in this._model&&"openContextMenu"in this._model.logs&&this._logUIInteraction5(this._model.logs.openContextMenu):"media-image"===t?"logs"in this._model&&"navigateToPlaylist"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToPlaylist):"media-title"===t?"logs"in this._model&&"navigateToPlaylist"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToPlaylist):"pause-button"===t?"logs"in this._model&&"stopPlayback"in this._model.logs&&this._logUIInteraction5(this._model.logs.stopPlayback):"play-button"===t?"logs"in this._model&&"startPlayback"in this._model.logs&&this._logUIInteraction5(this._model.logs.startPlayback):"remove-button"===t&&"logs"in this._model&&"unfollowPlaylist"in this._model.logs&&this._logUIInteraction5(this._model.logs.unfollowPlaylist)}_render(){const e=this._configuration.getDefaultState(),t={};return"description"in this._model&&(""===this._model.description?t.description="":t.description=this._model.description),"horizontal"in this._model&&(t.horizontal=this._model.horizontal),"image"in this._model&&(t.imageUrl=this._model.image),"meta"in this._model&&(""===this._model.meta?t.metadata="":t.metadata=this._model.meta),t.title=this._model.name,t.uri=this._model.uri,e.getBooleanOr("style/small-cards",!1)&&(t.playButtonOnly=!0,delete t.description,delete t.metadata),(0,a.default)(t)}_setUpEventRoutes(){this._documentFragment.query("[data-log-click]").forEach(e=>{this._addInteractionHandler(e,"click",this._onClickDataLogClick)}),this._setUpStandardImpressionLogging()}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"gc-image-cols-"+e.escapeExpression(e.lambda(t,t))},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<div\n  class="card genre-card"\n  data-card-pressed-container\n>\n  <a\n    href="'+u("function"==typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:l)?a.call(s,{name:"uri",hash:{},data:o}):a)+'"\n    draggable="false"\n    data-log-click="genre-card"\n    data-card-trigger-pressed-state\n    data-interaction-target="genre-card"\n  >\n    <div class="card-hit-area-counter-scale"></div>\n    <div class="gc-image-container">\n      <div class="gc-image '+(null!=(i=n.with.call(s,null!=t?t.cols:t,{name:"with",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'" style="background-image: url(\''+u("function"==typeof(a=null!=(a=n.imageUrl||(null!=t?t.imageUrl:t))?a:l)?a.call(s,{name:"imageUrl",hash:{},data:o}):a)+'\')"></div>\n      <div class="gc-label-container">\n        <div class="gc-label-text-wrapper">\n          <span class="gc-label-text" data-ta-id="genre-card-title">'+u("function"==typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:l)?a.call(s,{name:"title",hash:{},data:o}):a)+"</span>\n        </div>\n      </div>\n    </div>\n  </a>\n</div>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(320),t,{name:"../../../../glue/templates/genre-card.hbs",data:i,helpers:r,partials:o,decorators:e.decorators}))?a:""},usePartial:!0,useData:!0})},function(e){e.exports={"cols?":0,image:"","logs?":{"impression?":{},"navigateToLink?":{}},title:"",uri:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(322)),a=s(n(321));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._setUpEventRoutes()}_onClickDataLogClick(e){r.default.check.type(e,Element),"genre-card"===e.getAttribute("data-log-click")&&"logs"in this._model&&"navigateToLink"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToLink)}_render(){const e={};return"cols"in this._model&&(e.cols=this._model.cols),e.imageUrl=this._model.image,e.title=this._model.title,e.uri=this._model.uri,(0,a.default)(e)}_setUpEventRoutes(){this._documentFragment.query("[data-log-click]").forEach(e=>{this._addInteractionHandler(e,"click",this._onClickDataLogClick)},this),this._setUpStandardImpressionLogging()}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(25),t,{name:"../../../../glue/templates/cards/card-horizontal.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:""},3:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(24),t,{name:"../../../../glue/templates/cards/card.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.horizontal:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:""},usePartial:!0,useData:!0})},function(e){e.exports={"horizontal?":!1,"image?":"","link?":!1,"logs?":{"impression?":{},"startPlayback?":{}},"meta?":"",name:"",uri:"","description?":"","wideImage?":!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(325)),a=s(n(324));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._environment.addToLiveCache(this._model),this._setUpEventRoutes()}_onClickDataLogClick(e){r.default.check.type(e,Element),"play-button"===e.getAttribute("data-log-click")&&"logs"in this._model&&"startPlayback"in this._model.logs&&this._logUIInteraction5(this._model.logs.startPlayback)}_render(){const e=this._configuration.getDefaultState(),t={};return"horizontal"in this._model&&(t.horizontal=this._model.horizontal),"image"in this._model&&(t.imageUrl=this._model.image),"meta"in this._model&&(""===this._model.meta?t.metadata="":t.metadata=this._model.meta),this._model.wideImage&&(t.isVideo=!0),t.title=this._model.name,t.uri=this._model.uri,t.description=this._model.description,e.getBooleanOr("style/small-cards",!1)&&(t.playButtonOnly=!0,delete t.title,delete t.metadata),(0,a.default)(t)}_setUpEventRoutes(){this._documentFragment.query("[data-log-click]").forEach(e=>{this._addInteractionHandler(e,"click",this._onClickDataLogClick)}),this._setUpStandardImpressionLogging()}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(25),t,{name:"../../../../glue/templates/cards/card-horizontal.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:""},3:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(24),t,{name:"../../../../glue/templates/cards/card.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.horizontal:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:""},usePartial:!0,useData:!0})},function(e){e.exports={"description?":"","horizontal?":!1,"image?":"","link?":!1,"logs?":{"impression?":{},"navigateToChart?":{}},"meta?":"",name:"",uri:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(328)),a=s(n(327));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._environment.addToLiveCache(this._model),this._setUpEventRoutes()}_onClickDataLogClick(e){r.default.check.type(e,Element);const t=e.getAttribute("data-log-click");"media-image"===t?"logs"in this._model&&"navigateToChart"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToChart):"media-title"===t&&"logs"in this._model&&"navigateToChart"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToChart)}_render(){const e=this._configuration.getDefaultState(),t={};return"description"in this._model&&(""===this._model.description?t.description="":t.description=this._model.description),"horizontal"in this._model&&(t.horizontal=this._model.horizontal),"image"in this._model&&(t.imageUrl=this._model.image),"meta"in this._model&&(""===this._model.meta?t.metadata="":t.metadata=this._model.meta),t.title=this._model.name,t.uri=this._model.uri,e.getBooleanOr("style/small-cards",!1)&&(t.playButtonOnly=!0,delete t.description,delete t.metadata),(0,a.default)(t)}_setUpEventRoutes(){this._documentFragment.query("[data-log-click]").forEach(e=>{this._addInteractionHandler(e,"click",this._onClickDataLogClick)}),this._setUpStandardImpressionLogging()}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(25),t,{name:"../../../../glue/templates/cards/card-horizontal.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:""},3:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(24),t,{name:"../../../../glue/templates/cards/card.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.horizontal:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:""},usePartial:!0,useData:!0})},function(e){e.exports={"horizontal?":!1,"image?":"","link?":!1,"logs?":{"impression?":{},"navigateToArtist?":{},"startPlayback?":{},"stopPlayback?":{}},name:"",uri:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(331)),a=s(n(330));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._environment.addToLiveCache(this._model),this._setUpEventRoutes()}_onClickDataLogClick(e){r.default.check.type(e,Element);const t=e.getAttribute("data-log-click");"media-image"===t?"logs"in this._model&&"navigateToArtist"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToArtist):"media-title"===t?"logs"in this._model&&"navigateToArtist"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToArtist):"pause-button"===t?"logs"in this._model&&"stopPlayback"in this._model.logs&&this._logUIInteraction5(this._model.logs.stopPlayback):"play-button"===t&&"logs"in this._model&&"startPlayback"in this._model.logs&&this._logUIInteraction5(this._model.logs.startPlayback)}_render(){const e=this._configuration.getDefaultState(),t={};return"horizontal"in this._model&&(t.horizontal=this._model.horizontal),"image"in this._model&&(t.imageUrl=this._model.image),t.title=this._model.name,t.uri=this._model.uri,e.getBooleanOr("style/small-cards",!1)&&(t.playButtonOnly=!0),(0,a.default)(t)}_setUpEventRoutes(){this._documentFragment.query("[data-log-click]").forEach(e=>{this._addInteractionHandler(e,"click",this._onClickDataLogClick)}),this._setUpStandardImpressionLogging()}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.dragText||(null!=t?t.dragText:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"dragText",hash:{},data:o}):i)},3:function(e,t,n,r,o){var i;return e.escapeExpression("function"==typeof(i=null!=(i=n.title||(null!=t?t.title:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:o}):i)},5:function(e,t,n,r,o){return"no-image-url"},compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a,s,l=null!=t?t:e.nullContext||{},u=r.helperMissing,c=e.escapeExpression;return'<a\n  href="'+c("function"==typeof(s=null!=(s=r.uri||(null!=t?t.uri:t))?s:u)?s.call(l,{name:"uri",hash:{},data:i}):s)+'"\n  data-uri="'+c("function"==typeof(s=null!=(s=r.uri||(null!=t?t.uri:t))?s:u)?s.call(l,{name:"uri",hash:{},data:i}):s)+'"\n  data-log-click="media-image"\n  draggable="true"\n  data-drag-text="'+(null!=(a=r.if.call(l,null!=t?t.dragText:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))?a:"")+'"\n  class="card-image-link '+(null!=(a=r.unless.call(l,null!=t?t.imageUrl:t,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?a:"")+'"\n  data-interaction-target="image"\n  aria-hidden="true"\n>\n  <div class="card-hit-area-counter-scale"></div>\n'+(null!=(a=e.invokePartial(n(85),t,{name:"./image-with-overlay.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:"")+"</a>\n"},usePartial:!0,useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return null!=(i=(n.type||t&&t.type||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.uri:t,"playlist","track","album","station","artist","show","collection-album","collection-artist",{name:"type",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o}))?i:""},2:function(e,t,n,r,o){var i,a,s,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c="";return a=null!=(a=n.nft||(null!=t?t.nft:t))?a:u,s={name:"nft",hash:{},fn:e.program(3,o,0),inverse:e.program(14,o,0),data:o},i="function"==typeof a?a.call(l,s):a,n.nft||(i=n.blockHelperMissing.call(t,i,s)),null!=i&&(c+=i),c+"\n"+(null!=(i=(n.type||t&&t.type||u).call(l,null!=t?t.uri:t,"playlist","artist","show","collection-artist",{name:"type",hash:{},fn:e.program(20,o,0),inverse:e.noop,data:o}))?i:"")+(null!=(i=(n.type||t&&t.type||u).call(l,null!=t?t.uri:t,"station",{name:"type",hash:{},fn:e.program(28,o,0),inverse:e.noop,data:o}))?i:"")},3:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing;return(null!=(i=(n.type||t&&t.type||s).call(a,null!=t?t.uri:t,"album","collection-album",{name:"type",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o}))?i:"")+(null!=(i=(n.type||t&&t.type||s).call(a,null!=t?t.uri:t,"track",{name:"type",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o}))?i:"")},4:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'        <button\n          type="button"\n          data-button="add"\n          class="button button-add card-button-add"\n          data-ta-id="card-button-add"\n          data-tooltip="'+(null!=(i=n.if.call(a,null!=t?t.added:t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o}))?i:"")+'"\n          data-tooltip-add="'+l((n.loc||t&&t.loc||s).call(a,"SaveYourMusic",{name:"loc",hash:{},data:o}))+'"\n          data-tooltip-remove="'+l((n.loc||t&&t.loc||s).call(a,"RemoveYourMusic",{name:"loc",hash:{},data:o}))+'"\n          data-log-click="add-button"\n          data-interaction-target="save-remove-button"\n          data-interaction-intent="save"></button>\n'},5:function(e,t,n,r,o){return e.escapeExpression((n.loc||t&&t.loc||n.helperMissing).call(null!=t?t:e.nullContext||{},"RemoveYourMusic",{name:"loc",hash:{},data:o}))},7:function(e,t,n,r,o){return e.escapeExpression((n.loc||t&&t.loc||n.helperMissing).call(null!=t?t:e.nullContext||{},"SaveYourMusic",{name:"loc",hash:{},data:o}))},9:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'        <button\n          type="button"\n          data-button="add"\n          class="button button-add card-button-add"\n          data-ta-id="card-button-add"\n          data-tooltip="'+(null!=(i=n.if.call(a,null!=t?t.added:t,{name:"if",hash:{},fn:e.program(10,o,0),inverse:e.program(12,o,0),data:o}))?i:"")+'"\n          data-tooltip-add="'+l((n.loc||t&&t.loc||s).call(a,"SaveToYourFavoriteSongs",{name:"loc",hash:{},data:o}))+'"\n          data-tooltip-remove="'+l((n.loc||t&&t.loc||s).call(a,"RemoveFromYourFavoriteSongs",{name:"loc",hash:{},data:o}))+'"\n          data-log-click="add-button"\n          data-interaction-target="save-remove-button"\n          data-interaction-intent="save"></button>\n'},10:function(e,t,n,r,o){return e.escapeExpression((n.loc||t&&t.loc||n.helperMissing).call(null!=t?t:e.nullContext||{},"RemoveFromYourFavoriteSongs",{name:"loc",hash:{},data:o}))},12:function(e,t,n,r,o){return e.escapeExpression((n.loc||t&&t.loc||n.helperMissing).call(null!=t?t:e.nullContext||{},"SaveToYourFavoriteSongs",{name:"loc",hash:{},data:o}))},14:function(e,t,n,r,o){var i;return null!=(i=(n.type||t&&t.type||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.uri:t,"track","album","collection-album",{name:"type",hash:{},fn:e.program(15,o,0),inverse:e.noop,data:o}))?i:""},15:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'        <button\n          type="button"\n          data-button="add"\n          class="button button-add card-button-add"\n          data-ta-id="card-button-add"\n          data-tooltip="'+(null!=(i=n.if.call(a,null!=t?t.added:t,{name:"if",hash:{},fn:e.program(16,o,0),inverse:e.program(18,o,0),data:o}))?i:"")+'"\n          data-tooltip-add="'+l((n.loc||t&&t.loc||s).call(a,"Save",{name:"loc",hash:{},data:o}))+'"\n          data-tooltip-remove="'+l((n.loc||t&&t.loc||s).call(a,"Remove",{name:"loc",hash:{},data:o}))+'"\n          data-log-click="add-button"\n          data-interaction-target="save-remove-button"\n          data-interaction-intent="save"></button>\n'},16:function(e,t,n,r,o){return e.escapeExpression((n.loc||t&&t.loc||n.helperMissing).call(null!=t?t:e.nullContext||{},"Remove",{name:"loc",hash:{},data:o}))},18:function(e,t,n,r,o){return e.escapeExpression((n.loc||t&&t.loc||n.helperMissing).call(null!=t?t:e.nullContext||{},"Save",{name:"loc",hash:{},data:o}))},20:function(e,t,n,r,o){var i,a,s,l="";return a=null!=(a=n.currentUserPlaylist||(null!=t?t.currentUserPlaylist:t))?a:n.helperMissing,s={name:"currentUserPlaylist",hash:{},fn:e.noop,inverse:e.program(21,o,0),data:o},i="function"==typeof a?a.call(null!=t?t:e.nullContext||{},s):a,n.currentUserPlaylist||(i=n.blockHelperMissing.call(t,i,s)),null!=i&&(l+=i),l},21:function(e,t,n,r,o){var i,a,s,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c=n.blockHelperMissing,d='      <button\n        type="button"\n        data-button="add"\n        class="button button-add card-button-add"\n        data-ta-id="card-button-add"\n        data-tooltip="'+(null!=(i=n.if.call(l,null!=t?t.added:t,{name:"if",hash:{},fn:e.program(22,o,0),inverse:e.program(25,o,0),data:o}))?i:"")+'"\n        data-tooltip-add="';return a=null!=(a=n.nft||(null!=t?t.nft:t))?a:u,s={name:"nft",hash:{},fn:e.program(7,o,0),inverse:e.program(26,o,0),data:o},i="function"==typeof a?a.call(l,s):a,n.nft||(i=c.call(t,i,s)),null!=i&&(d+=i),d+='"\n        data-tooltip-remove="',a=null!=(a=n.nft||(null!=t?t.nft:t))?a:u,s={name:"nft",hash:{},fn:e.program(5,o,0),inverse:e.program(23,o,0),data:o},i="function"==typeof a?a.call(l,s):a,n.nft||(i=c.call(t,i,s)),null!=i&&(d+=i),d+'"\n        data-log-click="follow-button"\n        data-interaction-target="toggle-follow-state-button"\n        data-interaction-intent="follow"></button>\n'},22:function(e,t,n,r,o){var i,a,s,l="";return a=null!=(a=n.nft||(null!=t?t.nft:t))?a:n.helperMissing,s={name:"nft",hash:{},fn:e.program(5,o,0),inverse:e.program(23,o,0),data:o},i="function"==typeof a?a.call(null!=t?t:e.nullContext||{},s):a,n.nft||(i=n.blockHelperMissing.call(t,i,s)),null!=i&&(l+=i),l},23:function(e,t,n,r,o){return e.escapeExpression((n.loc||t&&t.loc||n.helperMissing).call(null!=t?t:e.nullContext||{},"Unfollow",{name:"loc",hash:{},data:o}))},25:function(e,t,n,r,o){var i,a,s,l="";return a=null!=(a=n.nft||(null!=t?t.nft:t))?a:n.helperMissing,s={name:"nft",hash:{},fn:e.program(7,o,0),inverse:e.program(26,o,0),data:o},i="function"==typeof a?a.call(null!=t?t:e.nullContext||{},s):a,n.nft||(i=n.blockHelperMissing.call(t,i,s)),null!=i&&(l+=i),l},26:function(e,t,n,r,o){return e.escapeExpression((n.loc||t&&t.loc||n.helperMissing).call(null!=t?t:e.nullContext||{},"Follow",{name:"loc",hash:{},data:o}))},28:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing;return null!=(i=(n.compare||t&&t.compare||s).call(a,(n.type||t&&t.type||s).call(a,null!=t?t.seedUri:t,{name:"type",hash:{},data:o}),"cluster",{name:"compare",hash:{operator:"!="},fn:e.program(21,o,0),inverse:e.noop,data:o}))?i:""},30:function(e,t,n,r,o){var i;return null!=(i=(n.type||t&&t.type||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.uri:t,"playlist","track","album","station","artist","collection-album","collection-artist",{name:"type",hash:{},fn:e.program(31,o,0),inverse:e.noop,data:o}))?i:""},31:function(e,t,n,r,o){return'    <button\n      type="button"\n      data-button="contextmenu"\n      class="button button-more button-no-border card-button-more"\n      data-ta-id="card-button-context-menu"\n      data-tooltip="'+e.escapeExpression((n.loc||t&&t.loc||n.helperMissing).call(null!=t?t:e.nullContext||{},"More",{name:"loc",hash:{},data:o}))+'"\n      data-log-click="context-menu-button"\n      data-interaction-target="context-menu-button"\n      data-interaction-intent="show-options"></button>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,r,o,i){var a,s=null!=t?t:e.nullContext||{};return(null!=(a=r.unless.call(s,null!=t?t.playButtonOnly:t,{name:"unless",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?a:"")+"\n"+(null!=(a=e.invokePartial(n(132),t,{name:"./controls-play-button.hbs",data:i,helpers:r,partials:o,decorators:e.decorators}))?a:"")+"\n"+(null!=(a=r.unless.call(s,null!=t?t.playButtonOnly:t,{name:"unless",hash:{},fn:e.program(30,i,0),inverse:e.noop,data:i}))?a:"")},usePartial:!0,useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="card-placeholder-wrapper">\n  <svg class="card-placeholder" viewBox="0 0 10 10" preserveAspectRatio="xMidYMid meet">\n    <text class="playlist-placeholder" x="5" y="9.8">&#xf135;</text>\n    <text class="playlist-folder-placeholder" x="5" y="9.8">&#xf137;</text>\n    <text class="album-placeholder" x="5" y="9.8">&#xf101;</text>\n    <text class="track-placeholder" x="5" y="9.8">&#xf157;</text>\n    <text class="artist-placeholder" x="5" y="9.8">&#xf103;</text>\n    <text class="user-placeholder" x="5" y="9.8">&#xf15d;</text>\n    <text class="genre-placeholder" x="5" y="9.8">&#xf109;</text>\n    <text class="collection-placeholder" x="5" y="9.8">&#xf157;</text>\n    <text class="local-files-placeholder" x="5" y="9.8">&#xf1fb;</text>\n    <text class="episode-placeholder" x="5" y="9.8">&#xf26C;</text>\n  </svg>\n</div>\n'},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(25),t,{name:"../../../../glue/templates/cards/card-horizontal.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:""},3:function(e,t,r,o,i){var a;return null!=(a=e.invokePartial(n(24),t,{name:"../../../../glue/templates/cards/card.hbs",data:i,indent:"  ",helpers:r,partials:o,decorators:e.decorators}))?a:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return null!=(i=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.horizontal:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?i:""},usePartial:!0,useData:!0})},function(e){e.exports={"artists?":[{name:"",uri:""}],"horizontal?":!1,"image?":"","link?":!1,"logs?":{"addToCollection?":{},"impression?":{},"navigateToAlbum?":{},"navigateToArtist?":{},"openContextMenu?":{},"removeFromCollection?":{},"startPlayback?":{},"stopPlayback?":{}},name:"",uri:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(5)),i=s(n(337)),a=s(n(336));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e,t,n,r,o,a,s){super(e,t,n,r,o,a,s,i.default),this._environment.addToLiveCache(this._model),this._setUpEventRoutes()}_onClickDataLogClick(e){r.default.check.type(e,Element);const t=e.getAttribute("data-log-click");"add-button"===t?"logs"in this._model&&"addToCollection"in this._model.logs&&this._logUIInteraction5(this._model.logs.addToCollection):"artist-name"===t?"logs"in this._model&&"navigateToArtist"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToArtist):"context-menu-button"===t?"logs"in this._model&&"openContextMenu"in this._model.logs&&this._logUIInteraction5(this._model.logs.openContextMenu):"media-image"===t?"logs"in this._model&&"navigateToAlbum"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToAlbum):"media-title"===t?"logs"in this._model&&"navigateToAlbum"in this._model.logs&&this._logUIInteraction5(this._model.logs.navigateToAlbum):"pause-button"===t?"logs"in this._model&&"stopPlayback"in this._model.logs&&this._logUIInteraction5(this._model.logs.stopPlayback):"play-button"===t?"logs"in this._model&&"startPlayback"in this._model.logs&&this._logUIInteraction5(this._model.logs.startPlayback):"remove-button"===t&&"logs"in this._model&&"removeFromCollection"in this._model.logs&&this._logUIInteraction5(this._model.logs.removeFromCollection)}_render(){const e=this._configuration.getDefaultState(),t={};return"artists"in this._model&&(t.subtitleLinks=this._model.artists.map(e=>({name:e.name,uri:e.uri}))),"horizontal"in this._model&&(t.horizontal=this._model.horizontal),"image"in this._model&&(t.imageUrl=this._model.image),t.title=this._model.name,t.uri=this._model.uri,e.getBooleanOr("style/small-cards",!1)&&(t.playButtonOnly=!0),(0,a.default)(t)}_setUpEventRoutes(){this._documentFragment.query("[data-log-click]").forEach(e=>{this._addInteractionHandler(e,"click",this._onClickDataLogClick)}),this._setUpStandardImpressionLogging()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(3)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(63)),i=g(n(140)),a=g(n(16)),s=g(n(49)),l=g(n(80)),u=g(n(23)),c=g(n(36)),d=g(n(89)),f=g(n(47)),p=g(n(135)),h=g(n(133)),m=g(n(48));function g(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e,t,n){r.default.check.type(e,HTMLDocument),r.default.check.type(t,Window),r.default.check.object(n),this._document=e,this._window=t,this._config=r.default.clone(n)}newSurfaceHubApp(e){r.default.check.string(e);const t=new c.default,n=new f.default,o=new u.default(this._window,()=>new Date),h=new a.default(o,()=>new s.default,this._config),m=this._newViewParser((e,r)=>new e(r,t,n,h,o,this._document,this._window)),g=new l.default(o),y=new i.default(g,m,e),v=new d.default(this._window);return new p.default(y,o,v,t)}newVanillaUriBuilder(){const e=new u.default(this._window,()=>new Date),t=new a.default(e,()=>new s.default,this._config);return new h.default(t,()=>new Date)}_newViewParser(e){r.default.check.function(e);const t=new m.default(e);return t.register("bfs-card-album",o.CardAlbum),t.register("bfs-card-artist",o.CardArtist),t.register("bfs-card-chart",o.CardChart),t.register("bfs-card-episode",o.CardEpisode),t.register("bfs-card-link",o.CardLink),t.register("bfs-card-playlist",o.CardPlaylist),t.register("bfs-card-profile",o.CardProfile),t.register("bfs-card-show",o.CardShow),t.register("bfs-cell",o.Cell),t.register("bfs-container",o.Container),t.register("bfs-grid",o.Grid),t.register("bfs-puff",o.Puff),t.register("bfs-section",o.Section),t.register("bfs-section-carousel",o.SectionCarousel),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VanillaUriBuilder=t.UriBuilder=t.GenericUriBuilder=void 0;var r=a(n(134)),o=a(n(88)),i=a(n(133));function a(e){return e&&e.__esModule?e:{default:e}}t.GenericUriBuilder=r.default,t.UriBuilder=o.default,t.VanillaUriBuilder=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SurfaceHubApp=t.HubApp=void 0;var r=i(n(136)),o=i(n(135));function i(e){return e&&e.__esModule?e:{default:e}}t.HubApp=r.default,t.SurfaceHubApp=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentProvider=t.BackendContentProvider=void 0;var r=i(n(140)),o=i(n(91));function i(e){return e&&e.__esModule?e:{default:e}}t.BackendContentProvider=r.default,t.ContentProvider=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scheduler=t.HubFactory=t.uriBuilders=t.hubApps=t.contentProviders=void 0;var r=u(n(342)),o=u(n(341)),i=u(n(340)),a=l(n(339)),s=l(n(89));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.contentProviders=r,t.hubApps=o,t.uriBuilders=i,t.HubFactory=a.default,t.Scheduler=s.default},function(e){e.exports={type:"record",name:"UIImpression",namespace:"com.spotify.Message",doc:"A UI impression log",fields:[{name:"message_name",type:"string"},{name:"message_version",type:"int"},{name:"request_id",type:["null","string"],doc:"Request ID from Spaces Log",default:null},{name:"feature_id",type:["null","string"],doc:"A name for a feature (e.g., browse-new-releases, collection, etc.)",default:null},{name:"pageuri",type:["null","string"],doc:"Uri of the page within the feature (e.g., spotify:hub:music, etc.)",default:null},{name:"section_id",type:["null","string"],doc:"Section of the page (e.g., Early Morning)",default:null},{name:"item_index",type:["null","int"],doc:"Index of item in block",default:null},{name:"target_uri",type:["null","string"],doc:"URI of item impressed (nullable for page and block impressions)",default:null},{name:"impression_type",type:["null","string"],doc:"Page, block, or item",default:null},{name:"render_type",type:["null","string"],doc:"Block container ceramic type (e.g. carousel, list, tile)",default:null},{name:"timestamp",type:["null","double"],doc:"Unix timestamp of event",default:null}],schema_version:5}},function(e,t,n){"use strict";const r=n(344),o=n(33);e.exports={schema:r,log:o.bind(null,r)}},function(e,t,n){"use strict";var r=a(n(2)),o=n(17),i=a(n(37));function a(e){return e&&e.__esModule?e:{default:e}}let s;function l(e,t){if(e||!t)return;const n=i.default.formatListUtils.makeFeedbackUri(t.context_uri,t.uri);let o=null;switch(t.type){case"like":o="up";break;case"dislike":o="down"}(0,r.default)(n).update({thumb:o})}t.register=function(){s=(0,o.cosmosJSON)({method:"SUB",uri:"sp://feedback/v1/feedback"},l)},t.unregister=function(){s(),s=null}},function(e,t,n){"use strict";var r=s(n(2)),o=s(n(12)),i=s(n(4)),a=s(n(14));function s(e){return e&&e.__esModule?e:{default:e}}const l=t.matches=/^spotify:((internal:sortlist:(asc|desc):([^:]*):(internal:filterlist:[^:]*):)|(internal:sortlist:(asc|desc):([^:]*):)|(internal:filterlist:[^:]*):)?show:[^:]+$/;let u;const c=[];function d(e,t){if(!t.includes("show")&&!t.includes("rows"))return;if(c.includes(e.uri))return;c.push(e.uri);let n=e.uri,r="",s="number,publishDate,name";const l=a.default.parse(e.uri);l&&(n=l.originUri,l.sort&&l.sort.query&&(s=function(e){const t=e.direction.toUpperCase();let n="number,publishDate,name";switch(e.query){case"track(name)":n=`name ${t}`;break;case"track(duration)":n=`length ${t}`;break;case"track(timeLeft)":n=`progress ${t}`;break;case"timeSinceAdded,track(album(name),disc,number)":n=`number ${t},publishDate ${t},name ${t}`;break;default:console.error("Invalid query",e.query)}return n}(l.sort)),l.filter&&l.filter.query&&(r=function(e){if(e.length>0)return`,${e}`;return""}(l.filter.query)));const u=i.default.from(n).getBase62Id();o.default.subscribe({url:`sp://core-show/unstable/show/${u}?filter=available eq true${r}&sort=${s}`},(t,n)=>{if(t)throw t;const{show:r,items:o}=n.body;r.uri=r.link,o.forEach(e=>{e.uri=e.link,e.show.uri=e.show.link}),e.update({show:r,rows:o.map(e=>({track:e})),lastUpdateTimestamp:Date.now()})})}t.register=(()=>{u||(u=!0,c.length=0,r.default.subscribe(l,"wait",d))}),t.unregister=(()=>{u&&(u=!1,c.length=0,r.default.unsubscribe(l,"wait",d))})},function(e,t,n){"use strict";const r=n(2),o=n(12);function i(e){o.get({url:"sp://core-show/unstable/decorate",body:{items:[e.uri]}},function(t,n){if(t)throw t;const r=n.body.items[e.uri];r.show.uri=r.show.link,e.update(r)})}const a=t.matches=/^spotify:episode:[^:]+$/;let s;t.register=function(){s||(s=!0,r.subscribe(a,"wait",i))},t.unregister=function(){s&&(s=!1,r.unsubscribe(a,"wait",i))}},function(e,t,n){"use strict";t.legacyQueries={"track(album(name))":"track(album(name),disc,number)","track(artists(name))":"track(artists[0:1](name),album(name),disc,number)","track(addedBy)":"addedBy(name)","track(addedBy(name))":"addedBy(name)",timeSinceAdded:"timeSinceAdded,track(album(name),disc,number)"}},function(e,t,n){"use strict";const r=n(72);t.subscribe=function(e){return new r("ui").subscribe("show_unplayable_tracks",function(t,n){t?e(t):e(null,!!n)})}},function(e,t,n){"use strict";var r=d(n(10)),o=d(n(350)),i=d(n(349)),a=d(n(2)),s=d(n(29)),l=d(n(67)),u=d(n(37)),c=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}const f="spotify:session-storage",p="spotify:client-storage",h="list-filter-string-";function m(e,n){if(!(0,r.default)(n,"listVariant"))return;const i=function(e){let t=e;const n=s.default.parse(t);n&&(t=n.originUri);const r=l.default.parse(t);r&&(t=r.originUri);return t}(e.uri);let d=(0,a.default)(i).get("listVariant");d||(d=(0,a.default)({origin:{uri:i}})).on("wait",function(e,n){if((0,r.default)(n,"currentUri"))return void function(e){function t(){const t="filterString, sortQuery, sortDirection, sortUri, showUnplayable, origin(uri)";e.query(t,function(n,r){if(n)return void console.error("Error when getting",t,":",Error);let o=r.origin.uri;const i=[];r.filterString&&i.push(`text contains ${encodeURIComponent(r.filterString)}`),r.showUnplayable||i.push("playable eq true"),i.length&&(o=l.default.create(o,i.join(",")));const a=r.sortUri&&s.default.parse(r.sortUri);a&&(o=s.default.create(o,a.direction,a.query)),e.update({currentUri:o})})}e.on("update",t),t()}(e);(0,r.default)(n,"filterString")&&function(e){const t=e.get("origin").uri,n=(0,a.default)(f),r=h+t;n.get("implemented")?(E(e,t,r),n.on("update",function(n){n.hasOwnProperty(r)&&E(e,t,r)})):e.update({filterString:""})}(e);((0,r.default)(n,"sortQuery")||(0,r.default)(n,"sortDirection")||(0,r.default)(n,"sortUri"))&&async function(e){const n=e.get("origin").uri,r=(0,a.default)(p),o=t.getSortVariantKey(n);if(r.get("implemented")){if(c.default.isPlaylistV2(n)){const e=await _(n);if(!e){const e=await _(await u.default.fetchPlaylistV1UriFromPlaylist(n));e&&r.publish({[o]:e})}}b(e,n,o),r.on("update",function(t){t.hasOwnProperty(o)&&b(e,n,o)})}else{const t=w(n);e.update(t)}}(e);(0,r.default)(n,"showUnplayable")&&function(e){const t=e.get("origin").uri;if(!c.default.isPlaylistV1OrV2(t))return void e.update({showUnplayable:!0});(0,a.default)(t).get("formatListType",function(t,n){t||"chart"!==n?function(e){if(v.push(e),g)return void e.update({showUnplayable:g});o.default.subscribe(function(e,t){let n=t;e&&(console.error(e),n=!1),g=n;for(let e=0;e<v.length;e++)v[e].update({showUnplayable:n})})}(e):e.update({showUnplayable:!0})})}(e)}.bind(null,d)),e.update({listVariant:d}),i!==e.uri&&(0,a.default)(i).update({listVariant:d})}let g,y,v=[];function _(e){return new Promise((n,r)=>(0,a.default)(p).get(t.getSortVariantKey(e),(e,t)=>{e?r(e):n(t)}))}function b(e,t,n){const r=(0,a.default)(p);r.get(n,function(o,a){const l=a&&s.default.parse(a);if(!o&&l){const o=i.default.legacyQueries[l.query];if(o&&o!==l.query){const e=s.default.create(t,l.direction,o),i={};return i[n]=e,void r.publish(i)}e.update({sortQuery:l.query,sortDirection:l.direction,sortUri:a})}else if(a===t)e.update({sortQuery:null,sortDirection:null,sortUri:null});else{const n=w(t);e.update(n)}})}function w(e){let t=null,n=null,r=null;return"spotify:internal:local-files"===e&&(t="track(name)",n="asc",r=s.default.create(e,n,t)),{sortQuery:t,sortDirection:n,sortUri:r}}function E(e,t,n){(0,a.default)(f).get(n,function(t,n){e.update({filterString:n||""})},a.default.ASAP)}function k(e){y=e,(0,a.default)("spotify:list-variant").update({implemented:e})}t.getSortVariantKey=function(e){return"list-variant-"+e};const S=t.matches=/^spotify:/;t.register=function(){y||(a.default.subscribe(S,"wait",m),k(!0))},t.unregister=function(){y&&(v=[],g=null,a.default.unsubscribe(S,"wait",m),k(!1))}},function(e,t,n){"use strict";(function(e){const r=n(10),o=n(2),i=n(99),a=n(4),s=n(18),l=n(12),u=/^spotify:internal:local-files$/;function c(t,n){r(n,"allows")&&function(e){e.update({allows:{insertTracks:!1,removeTracks:!1}})}(t),r(n,"rows")&&function(t){l.get({url:"sp://local-files/v1/tracks"},function(n,r){n?e.console&&console.error(n):(t.update({rows:d(r.body)}),l.subscribe({url:"sp://local-files/v1/changes"},function(n,r){n?e.console&&console.error(n):function(e,t){switch(t.type){case"removed":!function(e,t){const n=i.getRemoveOperations(t.positions);e.get("rows").update(n)}(e,t.data);break;case"added":!function(e,t){p(e,t.tracks,t.position)}(e,t.data);break;case"moved":!function(e,t){const n=i.getMoveOperations(t.positions,t.position);e.get("rows").update(n)}(e,t.data);break;case"changed":!function(e,t){const n=s.fromIndices(t.positions);let r=0;for(let o=0;o<n.length;o++){const a=n[o],s=a.toIndices(),l=a.length,u=new Array(s.length);for(let e=0;e<l;e++)u[e]=t.tracks[r+e];const c=i.getRemoveOperations(s);e.get("rows").update(c),p(e,u,s[0]),r+=l}}(e,t.data);break;default:console.error("Unexpected event type",t.type)}}(t,r.body)}))})}(t)}function d(e){const t=new Array(e.length);for(let n=0,r=e.length;n<r;n++){const r=e[n];f(r);const o=1e3*r.dateAdded,i={uri:m(r.uri),track:r,dateAdded:o};t[n]=i,delete r.dateAdded,delete r.addedBy}return t}function f(e){if(e.album&&e.album.uri){const t=a.from(e.album.uri).type;e.album.local=t===a.Type.LOCAL_ALBUM}if(e.artists)for(let t=0,n=e.artists.length;t<n;t++){const n=e.artists[t];if(n.uri){const e=a.from(n.uri).type;n.local=e===a.Type.LOCAL_ARTIST}}}function p(e,t,n){const r=d(t),o=i.getInsertOperations(r,n);e.get("rows").update(o)}let h=1e3;function m(e){return e.replace("spotify:",`spotify:row:${(++h).toString(36)}:`)}let g=!1;t.register=function(){g||(g=!0,o.subscribe(u,"wait",c))},t.unregister=function(){g&&(g=!1,o.unsubscribe(u,"wait",c))},t.matches=u}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=function(){if(l)return;l=!0,s=new o.default({isInCollection:"sp://core-collection/v1/contains",updateIsInCollection:"sp://core-collection/v1/items",broadcast:"sp://messages/v1/collectionstate",pubsub:"hm://collection/collection/@/json"}),r.default.subscribe(a,"publish",s.onPublish),r.default.subscribe(a,"wait",s.onWait)},t.unregister=function(){if(!l)return;l=!1,r.default.unsubscribe(a,"publish",s.onPublish),r.default.unsubscribe(a,"wait",s.onWait)};var r=i(n(2)),o=i(n(93));function i(e){return e&&e.__esModule?e:{default:e}}const a=/^spotify:show:[^:]+$/;let s,l=!1},function(e,t,n){"use strict";const r=n(2),o=n(10),i=function(e,t){o(t,"added")&&e.update({added:!1})},a=t.matches=/^spotify:local:[^:]*:[^:]*:[^:]*:\d*$|^spotify:local:[^:]*:[^:]*$|^spotify:local:[^:]*$/;let s=!1;t.register=function(){s||(s=!0,r.subscribe(a,"wait",i))},t.unregister=function(){s&&(s=!1,r.unsubscribe(a,"wait",i))}},function(e,t,n){"use strict";const r=n(143),o=t.matches=/^spotify:user:[^:]+$/;let i;t.register=function(){i||(i=!0,r.register(o))},t.unregister=function(){i&&(i=!1,r.unregister(o))}},function(e,t,n){"use strict";(function(e){const r=n(2),o=n(12),i=n(93),a=n(4),s={isInCollection:"sp://core-collection/v1/contains",updateIsInCollection:"sp://core-collection/v1/items",broadcast:"sp://messages/v1/collectionstate",pubsub:"hm://collection/collection/@/json"},l=function(t,n){t?e.console&&console.error(t):r(n.body.items.filter(({type:e=""})=>"TRACK"===e.toUpperCase()).map(({identifier:e,removed:t})=>({uri:a.trackURI(e).toURI(),added:!t})))};let u,c,d;const f=t.matches=/^spotify:track:[^:]+$/;let p=!1;t.register=function(){p||(p=!0,u=new i(s),r.subscribe(f,"publish",u.onPublish),r.subscribe(f,"wait",u.onWait),c=o.subscribe({url:s.broadcast},i.onBroadcast),d=o.subscribe({url:s.pubsub},l))},t.unregister=function(){p&&(p=!1,r.unsubscribe(f,"publish",u.onPublish),r.unsubscribe(f,"wait",u.onWait),u=null,c&&(c.cancel(),c=null),d&&(d.cancel(),d=null))},t._endpoints=s}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var r=function(e){return e&&e.__esModule?e:{default:e}}(n(37));const o=n(10),i=n(2),a=n(12),s="sp://messages/v1/followstate";function l(e,t){if("added"in t){e.update({added:t.added}),null!==e.get("followersCount")&&e.update({followersCount:e.get("followersCount")+(t.added?1:-1)}),(t.added?r.default.followPlaylist:r.default.removePlaylist)(e.uri,n=>{n&&(e.update({added:!t.added}),null!==e.get("followersCount")&&e.update({followersCount:e.get("followersCount")+(t.added?-1:1)}))})}}function u(t,n){if(t)return void(e.console&&console.error(t));let r;"added"in n.body?r=n.body.added:"isFollowing"in n.body&&(r=n.body.isFollowing),void 0!==r&&i(n.body.uri).update({added:r})}const c=function(t,n){const r=o(n,"added"),i=o(n,"followersCount");if(r){const n=t.get("subscribed");void 0!==n?t.update({added:n}):function(t){a.get({url:`sp://core-playlist/v1/playlist/${encodeURIComponent(t.uri)}/metadata`,body:{policy:{followed:!0}}},function(n,r){n?e.console&&console.error(n):t.update({added:r.body.metadata.followed})})}(t)}i&&function(t){a.get({url:`sp://core-playlist/v1/playlist/${encodeURIComponent(t.uri)}/metadata`,body:{policy:{followers:!0}}},function(n,r){n?e.console&&console.error(n):t.update({followersCount:r.body.metadata.followers})})}(t)},d=t.matches=/^spotify:(user:[^:]+:)?playlist:[^:]+$/;let f,p;t.register=function(){p||(p=!0,i.subscribe(d,"publish",l),i.subscribe(d,"wait",c),f=a.subscribe({url:s},u))},t.unregister=function(){p&&(p=!1,i.unsubscribe(d,"publish",l),i.unsubscribe(d,"wait",c),f.cancel(),f=null)}}).call(this,n(1))},function(e,t,n){"use strict";const r=n(143),o=t.matches=/^spotify:artist:/;let i;t.register=function(){i||(i=!0,r.register(o))},t.unregister=function(){i&&(i=!1,r.unregister(o))}},function(e,t,n){"use strict";(function(e){const r=n(2),o=n(12),i=n(93),a=n(4),s={isInCollection:"sp://core-collection/v1/contains",updateIsInCollection:"sp://core-collection/v1/items",broadcast:"sp://messages/v1/collectionstate",pubsub:"hm://collection/collection/@/json"},l=function(t,n){t?e.console&&console.error(t):r(n.body.items.filter(({type:e=""})=>"ALBUM"===e.toUpperCase()).map(({identifier:e,removed:t})=>({uri:a.albumURI(e).toURI(),added:!t})))};let u,c,d;const f=t.matches=/^spotify:album:[^:]+$/;let p=!1;t.register=function(){p||(p=!0,u=new i(s),r.subscribe(f,"publish",u.onPublish),r.subscribe(f,"wait",u.onWait),c=o.subscribe({url:s.broadcast},i.onBroadcast),d=o.subscribe({url:s.pubsub},l))},t.unregister=function(){p&&(p=!1,r.unsubscribe(f,"publish",u.onPublish),r.unsubscribe(f,"wait",u.onWait),u=null,c&&(c.cancel(),c=null),d&&(d.cancel(),d=null))},t._endpoints=s}).call(this,n(1))},function(e,t,n){"use strict";const r=n(359),o=n(358),i=n(357),a=n(356),s=n(355),l=n(354),u=n(353);t.register=function(){r.register(),o.register(),i.register(),a.register(),s.register(),l.register(),u.register()},t.unregister=function(){r.unregister(),o.unregister(),i.unregister(),a.unregister(),s.unregister(),l.unregister(),u.unregister()}},function(e,t,n){"use strict";(function(e){const r=n(2),o=n(4),i=n(10),a=n(28),s=n(50).request;function l(t,n){const l=i(n,"artist");!!a(n,["currentUser","name","username","image","images","subscribed"]).length&&function(t){s("user_metadata",[t.uri],function(n,i={}){n&&e.console&&console.error(n),i.username=i.username||o.from(t.uri).username,i.name=i.name||i.username,i.image=i.image||"",i.images=i.images||[],i.subscribed||(i.subscribed=!1),i.currentUser||r("spotify:client").query("currentUser(uri)",function(n,r){n?e.console&&console.error(n):t.update({currentUser:t.uri===r.currentUser.uri})}),t.update(i)})}(t),l&&function(t){s("user_associated_artist",[t.uri],function(n,r){if(n)return void(e.console&&console.error(n));const o=r.artist?{uri:r.artist}:null;t.update({artist:o})})}(t)}const u=t.matches=/^spotify:user:[^:]+$/;let c;t.register=function(){c||(c=!0,r.subscribe(u,"wait",l))},t.unregister=function(){c&&(c=!1,r.unsubscribe(u,"wait",l))}}).call(this,n(1))},function(e,t,n){"use strict";const r=n(4);e.exports={setLocalProperties:function(e){if(e.album&&e.album.uri){const t=r.from(e.album.uri).type;e.album.local=t===r.Type.LOCAL_ALBUM}if(e.artists)for(let t=0,n=e.artists.length;t<n;t++){const n=e.artists[t];if(n.uri){const e=r.from(n.uri).type;n.local=e===r.Type.LOCAL_ARTIST}}}}},function(e,t,n){"use strict";(function(e){const r=n(2),o=n(4),i=n(28),a=n(10),s=n(50).request,l=n(12),u=n(362),c=100;let d=null;const f=["album","artists","availability","disc","duration","explicit","image","local","name","number","placeholder","playable","linkedTrack"];function p(t,n){a(n,"unavailable")&&t.get("playable",function(n,r){n?e.console&&console.error(n):t.update({unavailable:!r})}),!!i(n,f).length&&function(t){s("track_metadata",[t.uri],function(n,r){n?e.console&&console.error(n):(u.setLocalProperties(r),r.image=function(e){let t,n=e.image;if(e.images)for(let r=0;r<e.images.length;r++){const o=e.images[r];(!t||o[0]>t)&&(t=o[0],n=o[1])}return n}(r),r.linkedTrack?r.linkedTrack={uri:r.linkedTrack}:r.linkedTrack=null,t.update(r))})}(t);const r=a(n,"shouldBeOffline"),c=a(n,"offlineProgress");(r||c)&&function(t){if(o.fromString(t.uri).type===o.Type.LOCAL)return void t.get("playable",function(n,r){n?e.console&&console.error(n):t.update({shouldBeOffline:r,offlineProgress:r?1:0})});l.subscribe({url:`sp://offline/v1/resources?uri=${t.uri}`},function(n,r){if(n){const r=n.response&&n.response.getStatusCode();if(-104!==r&&404!==r)return void(e.console&&console.error(n));h(t,{offline_availability:"no"})}else{const e=r.body.resources;h(t,e)}})}(t)}function h(e,t){let n=!1,r=0;switch(t.offline_availability){case"waiting":n=!0,r=0;break;case"downloading":n=!0,r=.5;break;case"yes":n=!0,r=1;break;case"no":n=!1,r=0;break;default:console.error("Unexpected resource.offline_availability",t.offline_availability)}e.update({shouldBeOffline:n,offlineProgress:r})}let m;const g=t.matches=/^spotify:track:|^spotify:local:[^:]*:[^:]*:[^:]*:\d*$/;t.register=function(){m||(m=!0,r.subscribe(g,"wait",p),function(){d=l.subscribe({url:"sp://local-files/v1/changes"},function(t,n){if(!m)return;if(t){const n=t.response&&t.response.getStatusCode();if(-104===n||404===n)return;return void(e.console&&console.error(t))}const o=n.body,i=o.data,a=o.type,s="added"===a;(s||"removed"===a)&&i.tracks.forEach(function(e){r(e.uri).update({shouldBeOffline:s,offlineProgress:s?1:0,playable:s})})})}(),e._getSpotifyModule&&function t(){s("track_event_wait_any",[],function(n,o){if(m){if(n)return setTimeout(function(){t()},c),void(e.console&&console.error(n));t(),"change"===o.type&&(void 0!==o.data.playable&&(o.data.unavailable=!o.data.playable),r(o.data.uri).update(o.data))}})}())},t.unregister=function(){m&&(m=!1,r.unsubscribe(g,"wait",p),d&&(d.cancel(),d=null))}}).call(this,n(1))},function(e,t,n){"use strict";e.exports=function e(t,n){let r=[];return t.forEach(function(t){const o=t.key,i=n[o];if(Array.isArray(i))if(t.mask){let n=[];for(let r=0,o=i.length;r<o;r++)n=n.concat(e(t.mask,i[r]));r.push(n.join(", "))}else r.push(i.join(", "));else t.mask?r.push.apply(r,e(t.mask,i)):r.push(i)}),r=function(e){const t=/\b[0-9]+\b/g,n="000000";return e.map(function(e){if("string"!=typeof e)return e;let r=e.toLowerCase();const o=["the ","(the) "];for(let e=0;e<o.length;e++){const t=o[e];if(0===r.indexOf(t)){r=r.replace(t,"");break}}return(r=r.replace(t,function(e){return e.length>=n.length?e:n.substr(0,n.length-e.length)+e})).trim()})}(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){const o=r||self;let i=[],a=null;o.addEventListener("message",function(r){if(r.data.reset)return i.length=0,a=r.data.newId,void o.postMessage({reset:!0,newId:a});if(null===a&&(a=r.data.id),a===r.data.id&&(i=i.concat(r.data.items),r.data.last)){const r=e(i),s=t(r);n(o,s,0,a)}},!1)}},function(e,t,n){"use strict";e.exports=function(e){return e.sort(function(e,t){const n=e.data.length;for(let r=0;r<n;r++){const n=e.data[r],o=t.data[r],i=parseInt(n,10),a=parseInt(o,10),s=!isNaN(i),l=!isNaN(a);if(s&&l){if(i<a)return-1;if(i>a)return 1}else{if(s)return-1;if(l)return 1}if(n.localeCompare){const e=n.localeCompare(o);if(0!==e)return e}else{if(n<o)return-1;if(n>o)return 1}}return-1}),e}},function(e,t,n){"use strict";e.exports=function e(t,n,r,o){const i={items:n[r],id:o};r===n.length-1&&(i.last=!0),t.postMessage(i),i.last||e(t,n,r+1,o)}},function(e,t,n){"use strict";e.exports=function(e,t=50){return function(e,t=2){const n=[];if(null===e)return n;const r=Math.floor(e.length/t),o=e.length%t;let i=0;const a=e.length;let s,l=0;for(;i<a;)s=r,l<o&&s++,n.push(e.slice(i,i+s)),l++,i+=s;return n}(e,Math.ceil(e.length/t))}},function(e,t,n){"use strict";(function(t){const r=n(368),o=n(367),i=n(366),a=n(365),s=n(31);let l;const u={},c={},d={};let f=0;const p={};function h(e,t,n){const r=i(t);c[e]=n,s.immediate(function(){n===c[e]&&(delete c[e],n(null,r))})}function m(e,t,n){let r=u[e];if(r){c[e]=n,d[e]=(d[e]||0)+1;const o=(++f).toString(36);return p[e]=o,r.postMessage({reset:!0,newId:o}),void g(t,r,o)}r=new Worker(l),u[e]=r,c[e]=n;const o=(++f).toString(36);p[e]=o,g(t,r,o);const i={items:[]};r.addEventListener("message",function(t){!function(e,t,n){if(e.data.reset)return d[n]--,void(t.items.length=0);if(e.data.id!==p[n])return;if(d[n])return;if(t.items=t.items.concat(e.data.items),e.data.last){u[n].terminate();const e=c[n];delete c[n],delete u[n],e(null,t.items)}}(t,i,e)},!1)}function g(e,t,n){const i=r(e);o(t,i,0,n)}function y(){return t.Worker&&t.Blob&&t.URL?(l||(l=function(){const e=`(${a.toString()})(${[i.toString(),r.toString(),o.toString()].join(", ")})`,t=new Blob([e],{type:"text/javascript"});return URL.createObjectURL(t)}()),m):h}e.exports=function(e,t,n){y()(e,t,n)}}).call(this,n(1))},function(e,t,n){"use strict";(function(e){const r=n(2),o=n(44),i=n(108),a=n(29),s=n(99),l=n(369),u=n(364);let c=0;const d={};function f(e){const t=h(e.uri);d[e.uri]=(++c).toString(36),t.on("update",function(t){const n=o({},t);delete n.rows,e.update(n)}),e.on("publish",function(e){const n=o({},e);delete n.rows,t.publish(n)})}function p(t,n){const r=h(t.uri);n.forEach(function(n){"rows"===n?function(t,n){const r=a.parse(t.uri),o=r.direction,i=r.query;m(n,t,i,o),t.get("rows",function(t,r){t?e.console&&console.error(t):r.on("publish",function(e){const t=n.get("rows");t&&g(t,e,"publish")})}),n.get("rows",function(r,a){r?e.console&&console.error(r):a.on("update",function(e){const r=t.get("rows");if(!r)return;const a=g(r,e,"update");a&&m(n,t,i,o)})})}(t,r):r.get(n,function(r,o){if(r)return void(e.console&&console.error(r));const i={};i[n]=o,t.update(i)})})}function h(e){const t=a.parse(e),n=t.direction,o=t.originUri,i=t.query;return r("desc"===n?a.create(o,"asc",i):o)}function m(t,n,o,a){d[n.uri]=(++c).toString(36);const s=d[n.uri];t.get("rows",function(t,c){if(t)return void(e.console&&console.error(t));const f=[],p=[];for(let e=0,t=c.length;e<t;e++)c.get(e)&&(f.push(c.get(e)),p.push(c.keys[e]));if(0===f.length){const e=n.get("rows");return void(e?e.update([{type:"remove",index:0,length:e.length}]):n.update({rows:[]}))}const h=r([]);h.update([{type:"insert",index:0,values:f,keys:p}]),h.query(o,function(t,c){if(t)e.console&&console.error(t);else if("desc"===a)!function(e,t){let n=e.get("rows");n||(n=new r.List,e.update({rows:n}));n.update([{type:"remove",index:0,length:n.length},{type:"insert",index:0,length:t.length,values:t.values.slice().reverse(),keys:t.keys.slice().reverse()}])}(n,h);else{const t=function(e,t,n){return e.map(function(e,r){const o=u(t,e);return o.push(r),{data:o,key:n.keys[r]}})}(c,i(o).mask,h);l(n.uri,t,function(t,o){t?e.console&&console.error(t):d[n.uri]===s&&function(e,t,n){let o=e.get("rows");o||(o=new r.List,e.update({rows:o}));const i=n.length,a=new Array(i),s=new Array(i);for(let e=0,r=n.length;e<r;e++)a[e]=n[e].key,s[e]=t.valueOf(a[e]);o.update([{type:"remove",index:0,length:o.length},{type:"insert",index:0,keys:a,values:s}])}(n,h,o)})}})})}function g(e,t,n){let r=!1;return t.forEach(function(t){let o=[];switch(t.type){case"remove":o=function(e,t){const n=[],r=t.keys;return e.keys.forEach(function(e,t){r.indexOf(e)>-1&&n.push(t)}),s.getRemoveOperations(n)}(e,t);break;case"insert":o=[{type:"insert",index:0,values:t.values,keys:t.keys}],r=!0;break;case"move":r=!0;break;default:console.error("Invalid operation type",t.type)}"publish"===n?e.publish(o):"update"===n&&e.update(o)}),r}const y=t.matches=/^spotify:internal:sortlist:(asc|desc):([^:]*):(.*)$/;let v=!1;t.register=function(){v||(v=!0,r.subscribe(y,"init",f),r.subscribe(y,"wait",p))},t.unregister=function(){v&&(v=!1,r.unsubscribe(y,"init",f),r.unsubscribe(y,"wait",p))}}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var r=l(n(2)),o=n(144),i=n(17),a=l(n(37)),s=n(27);function l(e){return e&&e.__esModule?e:{default:e}}function u(t,n){t?e.console&&console.error(t):(0,r.default)(n.uri).update(n)}function c(e,t){const n={};t.includes("name")&&(n.name=!0),t.includes("description")&&(n.description=!0),(t.includes("image")||t.includes("annotatedImage"))&&(n.picture=!0),t.includes("added")&&(n.followed=!0),t.includes("formatListType")&&(n.formatListType=!0),t.includes("formatListAttributes")&&(n.formatListAttributes=!0),t.includes("annotatedImage")&&(n.pictureFromAnnotate=!0),t.includes("owner")&&(n.owner={link:!0,username:!0,name:!0},n.ownedBySelf=!0),t.includes("madeFor")&&(n.madeFor={link:!0,username:!0,name:!0}),t.includes("published")&&(n.published=!0),t.includes("collaborative")&&(n.collaborative=!0),t.includes("allows")&&(n.allows={insert:!0,remove:!0}),0!==Object.keys(n).length&&a.default.subscribeToMetadata(e.uri,n,(n,r={})=>{n?console.error(n):(r&&"picture"in r&&(r.image=r.picture,delete r.picture),r&&"pictureFromAnnotate"in r&&(r.annotatedImage=r.pictureFromAnnotate&&r.image||null,delete r.pictureFromAnnotate),r&&"offline"in r&&(r.offlineStatus=r.offline,r.shouldBeOffline=(0,o.shouldBeOffline)(r.offline),delete r.offline),t.includes("formatListType")&&(r.formatListType=r.formatListType||"playlist"),"owner"in r&&"link"in r.owner&&(r.owner.uri=r.owner.link),"madeFor"in r&&"link"in r.madeFor&&(r.madeFor.uri=r.madeFor.link),"ownedBySelf"in r&&"owner"in r&&(r.owner.currentUser=r.ownedBySelf),r&&"allows"in r&&(r.allows={insertTracks:r.allows.insert,removeTracks:r.allows.remove}),e.update(r))})}function d(e,t){const n=a.default.formatListUtils.originalPlaylistUri(e.get("uri"));(0,r.default)(n).get("formatListAttributes",function(e,o){if(e)return void console.error(e);"1"===o.get("like-feedback-available")&&(0,s.messageProxy)({method:"POST",uri:"format-list-heart",body:{entityUri:n,trackUri:t}});const i=a.default.formatListUtils.makeFeedbackUri(n,t);(0,r.default)(i).update({thumb:"up"})})}function f(e,t){const n=a.default.formatListUtils.originalPlaylistUri(e.get("uri"));(0,r.default)(n).get("formatListAttributes",function(e,o){if(e)console.error(e);else if("1"===o.get("like-feedback-available")){(0,s.messageProxy)({method:"POST",uri:"format-list-undo-feedback",body:{entityUri:n,trackUri:t}});const e=a.default.formatListUtils.makeFeedbackUri(n,t);(0,r.default)(e).update({thumb:null})}})}const p=t.matches=/^spotify:(user:[^:]+:)?playlist:[^:]+$/;let h,m;t.register=function(){m||(m=!0,r.default.subscribe(p,"wait",c),r.default.subscribe(p,"heart",d),r.default.subscribe(p,"undo-heart",f),r.default.subscribe(p,"undo-ban",f),h=(0,i.cosmosJSON)({method:"SUB",uri:"sp://messages/v1/playliststate"},u))},t.unregister=function(){m&&(m=!1,r.default.unsubscribe(p,"wait",c),h(),h=null)}}).call(this,n(1))},function(e,t,n){"use strict";const r={shuffling_context:!1,repeating_context:!1,repeating_track:!1};e.exports=function(e,t){let n;const o={skip_to_index:{page:0,track:n=t&&(t.index||0===t.index)?t.index:function(e){const t=e.get("rows"),n=e.get("currentTrackUid");if(!t||!n)return 0;let r;return t.values.some(function(e,t){return e.get("uid")===n&&(r=t,!0)})?r:0}(e)},player_options_override:r};return t&&t.uid&&(o.uid=t.uid),o}},function(e,t,n){"use strict";e.exports=function(e){return{uid:e.get("uid"),uri:e.get("track").get("uri"),album_uri:e.get("track").get("albumUri"),artist_uri:e.get("track").get("artistUri"),metadata:{image_url:e.get("track").get("image"),"radio.thumb":e.get("track").get("thumb")}}}},function(e,t,n){"use strict";const r=n(373),o={disallow_toggling_repeat_context_reasons:["disallow-radio"],disallow_toggling_repeat_track_reasons:["disallow-radio"],disallow_toggling_shuffle_reasons:["disallow-radio"]};e.exports=function(e){return{entity_uri:e.get("uri"),pages:[{tracks:function(e){const t=e.get("rows");return t?t.values.map(r):[]}(e),next_page_url:e.get("nextPageUrl")}],metadata:{context_description:e.get("name")},restrictions:o}}},function(e,t,n){"use strict";let r,o,i,a,s,l;function u(){r&&r.off("update",i),r=null,o="",i=null,a=""}function c(e){if(!s)return{update:-1,playing:-1};const t=e.keys.indexOf(s);let n=t;if(-1===t){for(let t=l.indexOf(s),r=l.length;t<r;t++)if((n=e.keys.indexOf(l[t]))>-1){n--;break}}return{update:n,playing:t}}t.setPlayingIndex=function(e,t){if(!r&&!t)return;if(e<0)return;const n=t||r;s=n.keys[e]||null,l=n.keys.slice()},t.listen=function(e,t,n){r&&u(),r=e,o=t.context,a=t.referrerId,i=function(){t.index=c(e).update,n(t)},e.on("update",i)},t.clean=function(e){if(!i)return;const t=e.get("variant");if((t&&t.uri)!==o)u();else{const t=e.get("playOrigin");(t&&t.get("referrerIdentifier"))===a||e.get("contextUpdatedCrossFrame")||u()}},t.getPlayingAndUpdateIndicesInList=c,t.isPlayingFromRowsContext=function(e){return e?o===e:!!r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.play=function(e,t,n){const i=o.from(e),a={[o.Type.COLLECTION_ALBUM]:"album",[o.Type.COLLECTION_ARTIST]:"artist"}[i.type],s=i.getBase62Id(),l={[o.Type.COLLECTION_ALBUM]:"discNumber,trackNumber",[o.Type.COLLECTION_ARTIST]:"addTime DESC,discNumber,trackNumber"}[i.type],u={url:`sp://core-collection/unstable/@/list/tracks/${a}/${s}/play?sort=${l}`};t&&(u.body=t);r.post(u,n)};const r=n(12),o=n(4)},function(e,t,n){"use strict";const r=n(108),o={track:{_replace:"",artists:{_replace:"artist"},disc:{_replace:"discNumber"},number:{_replace:"trackNumber"},duration:{_replace:"length"}},timeSinceAdded:{_reverse:!0,_replace:"addTime"},addedBy:{_replace:"",name:{_replace:"addedByDisplayName"}}};e.exports=function(e,t,n){const i=r(e);return e?function e(t,n,r,o){const i=[],a=o&&o.slice()||[];return t.mask.forEach(t=>{const o=a.slice();if(t.key){let e=n&&n[t.key]&&null!==n[t.key]._replace&&void 0!==n[t.key]._replace?n[t.key]._replace:t.key;if(""!==e){if(!t.mask){const o=!!(n&&n[t.key]&&n[t.key]._reverse);if(r){const t=r.toUpperCase();e+=` ${o?function(e){return"ASC"===e?"DESC":"ASC"}(t):t}`}}o.push(e)}}if(t.mask){const a=e(t,n[t.key],r,o);a.length&&i.push(a)}else o.length&&i.push(o.join("."))}),i}(i,n||o,t).join(","):null}},function(e){e.exports={namespace:"com.spotify.Message",type:"record",name:"AddToPlaylist",fields:[{type:"string",name:"message_name"},{type:"int",name:"message_version"},{default:null,doc:"Create playlist, save to collection, save to existing playlist etc.",type:["null","string"],name:"intent"},{default:null,doc:"URI of item that was added and only the first if multiple.",type:["null","string"],name:"item_uri"},{default:null,doc:"Number of items added.",type:["null","string"],name:"number_items"},{default:null,doc:"What section the item where added from.",type:["null","string"],name:"section"},{default:null,doc:"The view uri which led to add to playlist.",type:["null","string"],name:"source"},{default:null,doc:"The action which led to add to playlist.",type:["null","string"],name:"source_action"},{default:null,doc:"The position of playlist added to or null.",type:["null","int"],name:"playlist_index"},{default:null,doc:"The uri of playlist added to or null.",type:["null","string"],name:"playlist_uri"},{default:null,doc:"The total number of items displayed.",type:["null","int"],name:"total_number_playlists"},{default:null,doc:"Unix timestamp",type:["null","long"],name:"time"}],doc:"User interacted with add to playlist.",schema_version:3}},function(e,t,n){"use strict";const r=n(378),o=n(33);e.exports={schema:r,log:o.bind(null,r)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.DUPLICATE_ACTIONS=void 0,t.addTracksToPlaylist=function(t,n,o){!function(t,n,o){!function(e,t,n){r.default.resolver.post({url:`sp://core-playlist/v1/playlist/${encodeURIComponent(e)}/contains`,body:{items:t}},function(e,r){if(e)return void n([]);const o=r.getJSONBody(),i=o.found,a=[],s=[];t.forEach((e,n)=>{i[n]?a.push(t[n]):s.push(t[n])}),n(a,s)})}(t,n,function(i,a){i.length?r.default.resolver.post({url:"sp://messages/v1/avoidduplicates",body:{action:"confirm",source:e.__spotify.app_uri,playlistUri:t,numItems:n.length,numDuplicates:i.length}},function(e){if(e)return void o(n);const t=r.default.resolver.subscribe({url:"sp://messages/v1/avoidduplicates"},function(e,r){if(t.cancel(),e)o(n);else switch(r.getJSONBody().action){case u.ADD_ALL:o(n);break;case u.ADD_UNIQUE:o(a);break;case u.CANCEL:o([]);break;default:throw new Error("Invalid DUPLICATE_ACTION.")}})}):o(n)})}(t,n,function(e){e.length?r.default.resolver.post({url:`sp://core-playlist/v1/playlist/${encodeURIComponent(t)}`,body:{operation:"add",uris:e,after:"end"}},function(e,t){const n=e&&t&&t.getJSONBody()&&/exceed the maximum playlist size/i.test(t.getJSONBody().error);n&&r.default.resolver.post({url:"sp://messages/v1/container/user-message",body:{id:"playlist-limit-exceeded"}}),e?o(e):o()}):o()})},t.setPlaylistPublished=function(e,t,n){a.default.cosmosJSON({method:"POST",uri:"sp://core-playlist/v1/rootlist",body:{operation:"set",attributes:{published:t},rows:[e.toString()]}},n)},t.createNewPlaylist=function(e,t){a.default.cosmosJSON({method:"POST",uri:"sp://core-playlist/v1/rootlist",body:{operation:"create",playlist:!0,before:"start",name:e}},(e,n)=>t(e,n&&n.uri))},t.createNewPlaylistBefore=function(e,t,n){a.default.cosmosJSON({method:"POST",uri:"sp://core-playlist/v1/rootlist",body:{operation:"create",playlist:!0,before:t,name:e}},(e,t)=>n(e,t&&t.uri))},t.createNewPlaylistAfter=function(e,t,n){a.default.cosmosJSON({method:"POST",uri:"sp://core-playlist/v1/rootlist",body:{operation:"create",playlist:!0,after:t,name:e}},(e,t)=>n(e,t&&t.uri))},t.setPlaylistName=function(e,t,n){a.default.cosmosJSON({method:"POST",uri:`sp://core-playlist/v1/playlist/${encodeURIComponent(e)}`,body:{operation:"set",attributes:{name:t}}},(r,o)=>{r||(0,i.default)(e).update({name:t}),n(r,o)})},t.setPlaylistCollaborative=function(e,n,r){a.default.cosmosJSON({method:"POST",uri:`sp://core-playlist/v1/playlist/${encodeURIComponent(e)}`,body:{operation:"set",attributes:{collaborative:n}}},(o,i)=>{o?r(o,i):n?(0,s.getCollaborativeStatus)(e,(n,o)=>{n||null===o.published?r(n||new Error("`published` property unexpectedly missing"),i):o.published?t.setPlaylistPublished(e,!1,r):r(null,i)}):r(null,i)})},t.followPlaylist=function(e,t){a.default.cosmosJSON({method:"POST",uri:"sp://core-playlist/v1/rootlist",body:{operation:"add",before:"start",uris:[e.toString()]}},(n,r)=>{n||c(e.toString(),!0),t(n,r)})},t.removePlaylist=function(e,t){a.default.cosmosJSON({method:"POST",uri:"sp://core-playlist/v1/rootlist",body:{operation:"remove",rows:[e.toString()]}},(n,r)=>{n||c(e.toString(),!1),t(n,r)})},t.removePlaylistFolderRecursively=function(e,t){a.default.cosmosJSON({method:"POST",uri:"sp://core-playlist/v1/rootlist",body:{operation:"remove",contents:!0,rows:[e.toString()]}},t)},t.logAddToPlaylist=function(e){let t;t=e.isNew?"create-new-playlist":e.isInFolder?"add-to-playlist-in-folder":"add-to-playlist";o.default.log({intent:t,item_uri:e.uris[0].toURI(),number_items:e.uris.length.toString(),section:"all-playlists",source:e.appUri,source_action:"add-to-playlist",playlist_index:e.playlistIndex,playlist_uri:e.playlistUri,total_number_playlists:e.numberOfVisibleItems,time:Math.round(Date.now()/1e3)})},t.refreshedPlaylistName=function(e){if(!e)return"Similar Playlist";const t=e.match(new RegExp("(.*)\\((\\d+)\\)$"));if(t)return`${t[1].trim()} (${function(e){return parseInt(e,10)+1}(t[2])})`;return`${e} (2)`},t.offlineSyncPlaylist=function(e,t,n){a.default.cosmos({method:t?"POST":"DELETE",uri:`sp://offline/v1/resources?uri=${e}`},n)};var r=l(n(9)),o=l(n(379)),i=l(n(2)),a=l(n(17)),s=n(145);function l(e){return e&&e.__esModule?e:{default:e}}const u=t.DUPLICATE_ACTIONS={ADD_ALL:"add_all",ADD_UNIQUE:"add_unique",CANCEL:"cancel"};function c(e,t){a.default.cosmosJSON({method:"POST",uri:"sp://messages/v1/followstate",body:{uri:e.toString(),isFollowing:t}})}}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.play=function(e,t,n){(function(e){return new Promise(t=>{const n=a.parse(e),r=n?n.originUri:e;i(r).get("formatListType",(e,n)=>{t(o(n))},i.ASAP)})})(e).then(o=>{r.playlistRequest(e,{method:"POST",includeEpisodes:o,type:"play",body:t},n)})};const r=n(37).default,o=n(37).default.isPlaylist2Shows,i=n(2),a=n(14)},function(e,t,n){"use strict";const r=n(12),o="sp://player/v2/main",i={PLAY:"play",PAUSE:"pause",RESUME:"resume",UPDATE:"update",SKIP_PREV:"skip_prev",SKIP_NEXT:"skip_next"};t.pause=function(e){r.post({url:o,body:{action:i.PAUSE}},e)},t.resume=function(e){r.post({url:o,body:{action:i.RESUME}},e)},t.skipPrev=function(e){r.post({url:o,body:{action:i.SKIP_PREV}},e)},t.skipNext=function(e){r.post({url:o,body:{action:i.SKIP_NEXT}},e)},t.getState=function(e){r.get({url:o},function(t,n){t?e(t):e(null,n.body)})},t.subscribe=function(e){let t=r.subscribe({url:o},function(t,n){t?e(t):e(null,n.body)});return{unsubscribe:function(){t&&(t.cancel(),t=null)}}}},function(e,t,n){"use strict";(function(e){var r=c(n(14)),o=c(n(382)),i=c(n(95)),a=u(n(381)),s=u(n(376)),l=c(n(94));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){i.default.play(e,t,n)}function f(e,t,n){i.default.playFromResolver(e,t,n)}t.playTrack=function(e,t,n){t.context=e,t.track=e,t.index=0,d([{uri:e}],t,n)},t.playRows=function(t,n,r){const{index:o,range:i}=n;null===o&&i?l.default.getFirstPlayableRow(t,i,(o,i)=>{if(o)e.console&&console.error(o),r&&r(o);else{const e=l.default.getTracksFromRows(t);n.index=i,d(e,n,r)}}):d(l.default.getTracksFromRows(t),n,r)},t.playFromResolver=f,t.playContext=function(e,t,n){i.default.playContext(e,t,n)},t.playFromArtist=function(e,t,n){f(e,t,n)},t.updateContext=function(e,t){i.default.updateContext(e,t)},t.updateWithRows=function(e,t,n){const r=l.default.getTracksFromRows(e);delete t.index,i.default.update(r,t,n)},t.pause=function(e){i.default.pause(e)},t.resume=function(e){i.default.resume(e)},t.skipPrev=function(e){o.default.skipPrev(e)},t.skipNext=function(e){o.default.skipNext(e)},t.playFromPlaylistResolver=function(e,t,n){const o={};t.uids?o.track_uid=t.uids[0]:t.uid&&(o.track_uid=t.uid),t.uris?o.track_uri=t.uris[0]:t.trackUri&&(o.track_uri=t.trackUri);const i={};Object.keys(o).length&&(i.skip_to_index=o);const s={prepare_play_options:i,play_origin:{view_uri:r.default.getOriginUri(t.context)||t.context,feature_identifier:t.source,referrer_identifier:t.referrerId,feature_version:t.referrerVersion}};a.play(e,s,n)},t.playFromCollectionResolver=function(e,t,n){const o={view_uri:r.default.getOriginUri(t.context)||t.context,feature_identifier:t.source,referrer_identifier:t.referrerId,feature_version:t.referrerVersion},i={};null!==t.index&&(i.skip_to={track_index:t.index});const a={prepare_play_options:i,play_origin:o};s.play(e,a,n)}}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var r=n(27);const o=n(2),i=n(4),a=n(149).default,s=n(95),l=n(383),u=n(94),c=n(375),d=n(29),f=n(67),p=n(374),h=n(372),m=n(147).isStationUri,g="track",y="rows",v="context-player-resolver-playlist",_="context-player-resolver-collection",b="context-player-context",w="context-object",E="context-station-context",k="context-player-artist",S="context-player-album",x="context-episode",T="context-show",A=new a,P={};function C(e){V(e)}function O(e){V(e)}function L(t,n){if(t)return void(e.console&&console.error(t));const r=o("spotify:player");r.get("pending")||r.update(n)}function I(e){const t=e.get("index")&&e.get("index").get("track");null!==t&&c.setPlayingIndex(t),c.clean(e)}function R(e,t){const n=t.context;if(!n)return;"number"!=typeof t.index&&delete t.index,A.cancel();const r=A.token();e.update(s.addContext({isPlaying:!0,isPaused:!1,index:void 0===t.index?null:{page:0,track:t.index},track:void 0===t.trackUri?null:{uri:t.trackUri},contextUpdatedCrossFrame:!1},n)),u.getPlayOptions(t,function(t,n){t||!n.context?V(e):/^spotify:internal:/.test(n.context)?j(e,r,n):o("spotify:list-variant").get("implemented")?o(n.context).query("listVariant(currentUri, sortUri)",function(t,o){t?V(e):r.isCanceled()||(n.context=o.listVariant.currentUri,j(e,r,n))}):j(e,r,n)})}function M(e){!1!==e.get("isPlaying")&&!0!==e.get("isPaused")&&(e.update({isPaused:!0}),l.pause(function(t){t&&e.update({isPaused:!1})}))}function U(e){!0===e.get("isPlaying")&&!1===e.get("isPaused")||(e.update({isPaused:!1}),l.resume(function(t){t&&e.update({isPaused:!0})}))}function D(){l.skipPrev()}function F(){l.skipNext()}function N(e,t){const n=t.context;if(!n)return;A.cancel();const r=A.token();e.update(s.addContext({},n));o(n).query("show(name, uri), rows(track(uri, name, mediaTypeEnum))",(t,i)=>{if(!r.isCanceled())if(t)V(e);else{const t={uri:i.show.uri,pages:[{tracks:i.rows.map(({track:e})=>({uri:e.uri,uid:e.uri,metadata:{title:e.name,album_title:i.show.name,"media.type":1===e.mediaTypeEnum?"audio":"video","media.manifest_id":o(e.uri).get("manifestId")||""}}))}],metadata:{"zelda.context_uri":n}};l.updateContext(t,t=>{t&&V(e)})}},3e3)}function j(e,t,n){const a=n.context,s=function(e){const t=i.from(e).type,n=t===i.Type.TRACK,r=t===i.Type.LOCAL,a=t===i.Type.PLAYLIST||t===i.Type.PLAYLIST_V2,s=t===i.Type.COLLECTION_ALBUM,l=t===i.Type.COLLECTION_ARTIST,u=t===i.Type.FOLDER,c=t===i.Type.ARTIST,p=t===i.Type.ALBUM,h=d.isValid(e),A=f.isValid(e),C=m(e),O=t===i.Type.EPISODE,L=t===i.Type.SHOW;if(n||r)return g;if(a)return v;if(s||l)return _;if(u)return b;if(C)return E;let I;if(h)return I=d.parse(e).originUri,f.isValid(I)&&(I=f.parse(I).originUri),i.isPlaylistV1OrV2(I)?v:i.isShow(I)?T:y;if(A)return I=f.parse(e).originUri,i.isPlaylistV1OrV2(I)?v:y;if(O)return x;if(L)return T;if(P[e])return w;const R=o(e).get("rows");if(R&&R.length)return y;if(c)return k;if(p)return S;return null}(a);if(s===g)l.playTrack(a,n,function(t){t&&V(e)});else if(s===S)l.playFromResolver(a,n,function(t){t&&V(e)});else if(s===y){d.isValid(a)?function(e,t){const n=d.getOriginUri(e);o(n).get("rows",function(n,r){n?t(n):r.get(0,r.length,function(r){r?t(n):o(e).get("rows",function(e,n){e?t(e):t(null,n)})})})}(a,function(r,o){r?V(e):t.isCanceled()||B(e,o,n)}):o(a).query("rows(track(uri))",function(r){r||t.isCanceled()||B(e,o(a).get("rows"),n)})}else if(s===v)l.playFromPlaylistResolver(a,n,function(t){t&&V(e)});else if(s===_)l.playFromCollectionResolver(a,n,function(t){t&&V(e)});else if(s===w){const t=P[a];l.playContext(t,n,function(t){t&&V(e)})}else if(s===b){const t={url:`context://${a}`,entity_uri:a};l.playContext(t,n,function(t){t&&V(e)})}else if(s===E){const t=o(a);t.query("rows",function(o){o||(l.playContext(p(t),h(t,n),function(t){t&&V(e)}),(0,r.messageProxy)({method:"POST",uri:"station-create",target:"top",body:{stationUri:a}}))})}else if(s===k)l.playFromArtist(a,n,function(t){t&&V(e)});else if(s===x){const t=3e3;o(a).query("name, mediaTypeEnum, show(name)",function(t,r){if(t)V(e);else{const t={uri:a,pages:[{tracks:[{uri:a,metadata:{title:r.name,album_title:r.show.name,"media.type":1===r.mediaTypeEnum?"audio":"video","media.manifest_id":o(a).get("manifestId")||""}}]}],restrictions:{disallow_toggling_repeat_context_reasons:["disallow-video"],disallow_toggling_repeat_track_reasons:["disallow-video"],disallow_toggling_shuffle_reasons:["disallow-video"]}};n.player_options_override||(n.player_options_override={}),n.player_options_override.repeating_context=!1,n.player_options_override.repeating_track=!1,l.playContext(t,n,function(t){t&&V(e)})}},t)}else if(s===T){const t=3e3;o(a).query("show(name, uri), rows(track(uri, name, mediaTypeEnum))",(t,r)=>{if(t)V(e);else{const t={uri:r.show.uri,pages:[{tracks:r.rows.map(({track:e})=>({uri:e.uri,uid:e.uri,metadata:{title:e.name,album_title:r.show.name,"media.type":1===e.mediaTypeEnum?"audio":"video","media.manifest_id":o(e.uri).get("manifestId")||""}}))}],restrictions:{disallow_toggling_repeat_context_reasons:["disallow-show"],disallow_toggling_repeat_track_reasons:["disallow-show"],disallow_toggling_shuffle_reasons:["disallow-show"]},metadata:{"zelda.context_uri":a}};n.player_options_override||(n.player_options_override={}),n.player_options_override.repeating_context=!1,n.player_options_override.repeating_track=!1,n.player_options_override.shuffling_context=!1,l.playContext(t,n,t=>{t&&V(e)})}},t)}}function B(e,t,n){l.playRows(t,n,function(r){r&&V(e),c.listen(t,n,function(n){l.updateWithRows(t,n,function(t){t&&V(e)})})})}function V(t){u.getPlayerState(function(n,r){n?e.console&&console.error(n):t.update(r)})}const H=t.matches=/^spotify:player$/;let q,$,z;t.register=function(){q||(q=!0,o.subscribe(H,"play",R),o.subscribe(H,"pause",M),o.subscribe(H,"resume",U),o.subscribe(H,"skip-previous",D),o.subscribe(H,"skip-next",F),o.subscribe(H,"update-show-context",N),o.subscribe(H,"update",I),o.subscribe(H,"wait",C),o.subscribe(H,"sync-position",O),$=u.subscribeForPlayerState(L),z=s.onError(function(e,n){if(e)return void console.error(e);switch(n.getJSONBody().error){case"one_track_unplayable":case"one_track_unplayable_auto_stopped":case"all_tracks_unplayable_auto_stopped":t._syncPlayerModelState()}}))},t._syncPlayerModelState=function(){V(o("spotify:player"))},t.unregister=function(){q&&(q=!1,o.unsubscribe(H,"play",R),o.unsubscribe(H,"pause",M),o.unsubscribe(H,"resume",U),o.unsubscribe(H,"skip-previous",D),o.unsubscribe(H,"skip-next",F),o.unsubscribe(H,"update-show-context",N),o.unsubscribe(H,"update",I),o.unsubscribe(H,"wait",C),o.unsubscribe(H,"sync-position",O),$.unsubscribe(),z&&z(),$=null)},t.setContextData=function(e,t){P[e]=t}}).call(this,n(1))},function(e,t,n){"use strict";(function(e){const r=n(32),o=n(109),i=n(146),a=n(10),s="spotify:session-storage",l=n(2),u=n(12),c={broadcast:"sp://messages/v1/session-storage"};let d,f=[];function p(e){e.update({implemented:!0})}function h(t,n){f=o(f,n),e.top.postMessage({type:"session_storage",name:"broadcast_session_storage",data:n},"*")}function m(t,n){e.top.postMessage({type:"session_storage",name:"set_session_storage",data:n},"*"),t.update(n)}function g(e,t){if(e)return void console.error(e);const n={},o=l(s);r(t.body,function(e,t){const r=a(f,t),s=void 0!==o.get(t);(r||s)&&(n[t]=e),r&&i(f,t)}),o.update(n)}const y=t.matches=new RegExp(`^${s}$`);let v;t.register=function(){v||(v=!0,l.subscribe(y,"init",p),l.subscribe(y,"wait",h),l.subscribe(y,"publish",m),d=u.subscribe({url:c.broadcast},g))},t.unregister=function(){v&&(v=!1,l.unsubscribe(y,"init",p),l.unsubscribe(y,"wait",h),l.unsubscribe(y,"publish",m),d&&(d.cancel(),d=null),f.length=0)},t._endpoints=c}).call(this,n(1))},function(e,t,n){"use strict";(function(e){const r=n(32),o=n(109),i=n(146),a=n(10),s="spotify:client-storage",l=n(2),u=n(12),c={broadcast:"sp://messages/v1/client-storage"};let d,f=[];function p(e){e.update({implemented:!0})}function h(t,n){f=o(f,n),e.top.postMessage({type:"client_storage",name:"broadcast_client_storage",data:n},"*")}function m(t,n){e.top.postMessage({type:"client_storage",name:"set_client_storage",data:n},"*"),t.update(n)}function g(e,t){if(e)return void console.error("Broadcast Error",e);const n={},o=l(s);r(t.body,function(e,t){const r=a(f,t),s=void 0!==o.get(t);(r||s)&&(n[t]=e),r&&i(f,t)}),o.update(n)}const y=t.matches=new RegExp(`^${s}$`);let v;t.register=function(){v||(v=!0,l.subscribe(y,"init",p),l.subscribe(y,"wait",h),l.subscribe(y,"publish",m),d=u.subscribe({url:c.broadcast},g))},t.unregister=function(){v&&(v=!1,l.unsubscribe(y,"init",p),l.unsubscribe(y,"wait",h),l.unsubscribe(y,"publish",m),d&&(d.cancel(),d=null),f.length=0)},t._endpoints=c}).call(this,n(1))},function(e,t,n){"use strict";(function(e){const r=n(2),o=n(50).request,i=n(4),a=100;function s(t){const n=e.__spotify&&e.__spotify.username,r=i.profileURI(n).toURI();o("user_metadata",[r],function(o,i){if(o)return n&&t.update({currentUser:{uri:r,username:n}}),void(e.console&&console.error(o));t.update({currentUser:{uri:r,name:i.name,username:i.username}})})}function l(t){o("session_query",[],function(n,r){n?e.console&&console.error(n):(void 0===r.employee&&(e.__spotify&&e.__spotify.product_state&&e.__spotify.product_state.employee?r.employee="1"===e.__spotify.product_state.employee:r.employee=!1),t.update({session:r}),function t(n){o("session_event_wait",[],function(r,o){if(u){if(r)return setTimeout(function(){t(n)},a),void(e.console&&console.error(r));"change"===o.type&&n.get("session").update(o.data),t(n)}})}(t))})}let u;function c(t,n){e===window&&window.top&&window.top.postMessage&&window.top.postMessage({type:"client_show_context_ui",data:n},"*")}function d(e,t){t.indexOf("currentUser")>-1&&s(e),t.indexOf("session")>-1&&l(e)}function f(t){const n=e.__spotify||{},o=r(n.container_features||{});if(o.on("wait",function(e){const t={};for(let n=0;n<e.length;n++){t[e[n]]=!1}o.update(t)}),t.update({containerFeatures:o}),e.__spotify&&e.__spotify.username){const n=e.__spotify.username;t.update({currentUser:{uri:i.profileURI(n).toURI(),username:n}})}s(t)}const p=t.matches=/^spotify:client$/;t.register=function(){u||(u=!0,r.subscribe(p,"wait",d),r.subscribe(p,"init",f),r.subscribe(p,"show-context-menu",c))},t.unregister=function(){u&&(u=!1,r.unsubscribe(p,"wait",d),r.unsubscribe(p,"init",f),r.unsubscribe(p,"show-context-menu",c))}}).call(this,n(1))},function(e,t,n){"use strict";(function(e){const r=n(4),o=n(10),i=n(2),a=n(50).request;function s(e){return r.from(e).type===r.Type.LOCAL_ARTIST}function l(t,n){const i=o(n,"local");let l=!1;const u=["image","images","name"];for(let e=0,t=n.length;e<t;e++)if(o(u,n[e])){l=!0;break}l&&function(t){if(s(t.uri)){const e=r.from(t.uri);e&&t.update({local:!0,name:e.artist})}else a("artist_metadata",[t.uri],function(n,r){n?e.console&&console.error(n):(r.image||t.get("image")||(r.image=""),r.images||t.get("images")||(r.images=[]),t.update(r))})}(t),i&&function(e){e.update({local:s(e.uri)})}(t)}const u=t.matches=/^spotify:artist:|^spotify:local:[^:]*$/;let c;t.register=function(){c||(c=!0,i.subscribe(u,"wait",l))},t.unregister=function(){c&&(c=!1,i.unsubscribe(u,"wait",l))}}).call(this,n(1))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=(()=>e.location.href)}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var r=function(e){return e&&e.__esModule?e:{default:e}}(n(389));const o=n(2),i=n(69);function a(e){e.data&&e.data.name&&("set_active"===e.data.name?o("spotify:application").update({active:e.data.active}):"set_arguments"===e.data.name?o("spotify:application").update({arguments:e.data.arguments.join(":")}):"set_state"===e.data.name&&o("spotify:application").update({state:i.unserialize(e.data.state)}))}let s;t.matches=/^spotify:application$/,t.register=function(){s||(s=!0,e.addEventListener("message",a),function(t){t.update({version:e.__spotify&&e.__spotify.app_version||"0.0.0"});const n=new URL((0,r.default)());if(n.hostname.length>0){const e=/^([a-zA-Z-]+)\.app\.spotify\.com$/,r=n.hostname.match(e);2===r.length&&t.update({appURI:`spotify:app:${r[1]}`,arguments:n.searchParams.get("param")||"",active:!0})}}(o("spotify:application")))},t.unregister=function(){s&&(s=!1,e.removeEventListener("message",a))}}).call(this,n(1))},function(e,t,n){"use strict";(function(e){const r=n(2),o=n(4),i=n(28),a=n(10),s=n(44),l=n(50).request;function u(e){return o.from(e).type===o.Type.LOCAL_ALBUM}function c(e){return o.from(e).type===o.Type.LOCAL_ARTIST}let d=1e3;function f(t){const n={type:"list",uri:t.uri};l("album_tracks_snapshot",[n,0,0,!1],function(r,i){r?e.console&&console.error(r):l("album_tracks_snapshot",[n,0,i.length,!1],function(n,r){if(n)e.console&&console.error(n);else{const e=[],n=o.from(t.uri).id,i=r.metadata&&r.metadata.map(function(t,i){const a=s({uri:r.array[i]},t),l=a.disc?a.disc-1:0;a.unavailable=!a.playable,function(e){e.album&&e.album.uri&&(e.album.local=u(e.album.uri));if(e.artists)for(let t=0,n=e.artists.length;t<n;t++){const n=e.artists[t];n.uri&&(n.local=c(n.uri))}}(a),e[l]||(e[l]={rows:[],uri:n?o.albumURI(n,l+1).toURI():""});const f={track:a,uri:function(e){return e.replace("spotify:",`spotify:row:${(++d).toString(36)}:`)}(a.uri)};return e[l].rows.push(f),f});t.update({rows:i,discs:e})}})})}function p(t,n){const r=a(n,"local"),s=a(n,"rows"),c=a(n,"discs");!!i(n,["artists","image","images","name","playable","type","availability","date","label","copyrights"]).length&&function(t){if(u(t.uri)){const e=o.from(t.uri);if(e){const n={local:!0,name:e.album,artists:[{uri:"spotify:local:",name:"",local:!0}]};e.artist&&(n.artists[0].uri=o.localArtistURI(e.artist).toURI(),n.artists[0].name=e.artist,n.artists[0].local=!0),t.update(n)}}else l("album_metadata",[t.uri],function(n,r){n?e.console&&console.error(n):t.update(r)})}(t),(s||c)&&f(t),r&&function(e){e.update({local:u(e.uri)})}(t)}const h=t.matches=/^spotify:album:[0-9a-zA-Z]+$|^spotify:local:[^:]*:[^:]*$/;let m;t.register=function(){m||(m=!0,r.subscribe(h,"wait",p))},t.unregister=function(){m&&(m=!1,r.unsubscribe(h,"wait",p))}}).call(this,n(1))},function(e,t,n){"use strict";const r=n(391),o=n(390),i=n(388),a=n(387),s=n(386),l=n(385),u=n(384),c=n(371),d=n(370),f=n(363),p=n(361),h=n(360),m=n(352),g=n(351),y=n(348),v=n(347),_=n(346);t.register=function(){r.register(),o.register(),i.register(),a.register(),s.register(),l.register(),u.register(),c.register(),d.register(),f.register(),p.register(),h.register(),m.register(),g.register(),y.register(),v.register(),_.register()},t.unregister=function(){r.unregister(),o.unregister(),i.unregister(),a.unregister(),s.unregister(),l.unregister(),u.unregister(),c.unregister(),d.unregister(),f.unregister(),p.unregister(),h.unregister(),m.unregister(),g.unregister(),y.unregister(),v.unregister(),_.unregister()}},function(e,t,n){"use strict";const r=n(43),o=n(77).default;t.runtime=o,t.register=function(e){let t={};"Function"===r(e)?t[e.displayName]=e:t=e;for(const e in t)t.hasOwnProperty(e)&&o.registerHelper(e,t[e]);return this}},function(e,t,n){"use strict";function r(e){e.hasAttribute("data-rtl-dir-flip")&&(""===e.value?e.removeAttribute("dir"):e.setAttribute("dir","auto"))}function o(e){r(e.target)}let i=!1;t.update=(e=>{(e||document).querySelectorAll("input, textarea").forEach(r)}),t.attach=(()=>{i||(i=!0,document.addEventListener("input",o))}),t.detach=(()=>{i&&(i=!1,document.removeEventListener("input",o))})},function(e,t,n){"use strict";const r=n(8),o="[data-card-remove-button]";function i(e){const t=e.target;if(!t.matches(o))return;const n=t.closest("[data-uri]");if(!n)return;const i=n.getAttribute("data-uri");r.emit("card-remove",{uri:i,element:t}),e.preventDefault(),e.stopPropagation()}let a=!1;t.attach=function(){a||(a=!0,document.addEventListener("click",i,!0))},t.detach=function(){a&&(a=!1,document.removeEventListener("click",i,!0))},t.update=function(){}},function(e,t,n){"use strict";const r=1e3;let o=[];let i=!1;t.attach=function(){i||(i=!0)},t.detach=function(){i&&(i=!1,o=[])},t.update=function(){if(!i)return;o=o.filter(function(e){return e.closest("body")}),document.querySelectorAll(".card").forEach(e=>{-1!==o.indexOf(e)||(o.push(e),function(e){let t;const n=e.querySelector("[data-image-url]");if(n&&(t=n.getAttribute("data-image-url")),t){const n=function(t){return()=>{e.classList.add("image-loaded"),clearTimeout(t)}},o=function(){e.classList.add("image-error")},i=setTimeout(function(){e.classList.add("image-delayed")},r),a=new Image;a.addEventListener("load",n(i)),a.addEventListener("error",o),a.src=t}}(e))})},t._reset=function(){o=[]}},function(e,t,n){"use strict";const r="[data-card-pressed-container]",o="[data-card-trigger-pressed-state]",i=n(7)(document);let a;function s(e,t){"button"!==e.target.nodeName.toLowerCase()&&2!==e.button&&(t[0].closest(r).classList.add("pressed"),a=t[0])}function l(e,t){t[0].closest(r).classList.remove("pressed"),a===t[0]&&(a=null)}function u(e,t){t[0].closest(r).classList.remove("pressed"),a===t[0]&&(a=null)}function c(){a&&(a.closest(r).classList.remove("pressed"),a=null)}let d=!1;t.attach=function(){d||(d=!0,i.delegate("mousedown",o,s),i.delegate("mouseup",o,l),i.delegate("dragend",o,u),i.on("mouseup",c))},t.detach=function(){d&&(d=!1,i.undelegate("mousedown",o,s),i.undelegate("mouseup",o,l),i.undelegate("dragend",o,u),i.off("mouseup",c))},t.update=function(){}},function(e,t,n){"use strict";const r=n(7),o=".card",i=".card-image-hit-area",a=r(document);let s=!1,l=[];const u=function(e){l.push(e)};function c(){return a.search(o)}function d(e){const t=e.target;if(function(e){return"function"==typeof e.closest&&!!e.closest(o)}(t))switch(e.type){case"touchstart":u(e),s&&function(){const e=c();e&&(e.forEach(function(e){const t=r(e).find(i);t&&t.addClass("no-hover")}),s=!1)}();break;case"touchmove":u(e);break;case"touchend":t&&1===l.length&&"touchstart"===l[0].type&&(e.preventDefault(),t.click()),l=[];break;case"contextmenu":u(e);break;case"mousemove":s||function(){const e=c();e&&(e.forEach(function(e){const t=r(e).find(i);t&&t.removeClass("no-hover")}),s=!0)}()}}let f=!1;t.attach=function(){f||(f=!0,a.on("touchstart",d),a.on("touchmove",d),a.on("touchend",d),a.on("mousemove",d),a.on("contextmenu",d))},t.detach=function(){f&&(f=!1,a.off("touchstart",d),a.off("touchmove",d),a.off("touchend",d),a.off("mousemove",d),a.off("contextmenu",d))},t.update=function(){},t._reset=function(){s=!0}},function(e,t,n){"use strict";const r=[n(398),n(397),n(396),n(395)];t.attach=function(){r.forEach(function(e){e.attach()})},t.detach=function(){r.forEach(function(e){e.detach()})},t.update=function(){r.forEach(function(e){e.update()})}},function(e,t,n){"use strict";const r=n(8),o=n(51),i=32,a=8,s=46;t.attach=function(){document.addEventListener("keypress",f,!1),document.addEventListener("keydown",p,!1)},t.detach=function(){document.removeEventListener("keypress",f,!1),document.removeEventListener("keydown",p,!1)},t.update=function(){};const l=":not([data-sticky-active]) > [data-list-quick-jump]",u=1e3,c={},d={};function f(e){m(e)||h(e)}function p(e){if(m(e))return;e.keyCode===a&&h(e)}function h(e){const t=e.keyCode===a,n=e.keyCode===i?" ":String.fromCharCode(e.keyCode).trim();if(!n&&!t)return;const f=function(e){let t=e.closest(l);if(!t){const e=document.querySelectorAll(l),n=e&&1===e.length;n&&(t=e[0])}return t}(e.target);if(!f)return;const p=function(e){const t=e.closest("[data-uri]");return t&&t.getAttribute("data-uri")}(f);if(!p)return;if(t&&!c[p])return;p in c||(c[p]=""),t?c[p]=c[p].slice(0,-1):n&&(c[p]+=n),r.emit("list-quick-jump-request",p,c[p]||null),d[p]&&clearTimeout(d[p]),e.keyCode===i&&e.preventDefault();const h=[{keyCode:i},{keyCode:a},{keyCode:s}];o.post({url:"sp://messages/v1/ignoreshortcuts",body:{action:"ignore",shortcuts:h}}),d[p]=setTimeout(function(){o.post({url:"sp://messages/v1/ignoreshortcuts",body:{action:"unignore",shortcuts:h}}),delete c[p],delete d[p],r.emit("list-quick-jump-request",p,null)},u)}function m(e){return e.metaKey||e.ctrlKey||e.target.matches("input, textarea, [contenteditable]")}},function(e,t,n){"use strict";e.exports={UP:"ups",DOWN:"downs",UNDO_HEART:"undo-heart",UNDO_BAN_ARTIST:"undo-ban-artist",UNDO_BAN_TRACK:"undo-ban-track"}},function(e,t,n){"use strict";e.exports=function(e,t,n){const r=t.metadata||{},o=t.album_uri||r.album_uri;let i=t.uid;if(!t.uid){i=e+t.uri.replace("spotify:track:","")+n}return{uid:i,uri:i,track:{uri:t.uri,name:r.title,image:r.image_url,albumUri:o,artists:function(e){const t=[];for(let n=0;;n++){const r=n>0?`:${n}`:"",o=e[`artist_uri${r}`],i=e[`artist_name${r}`];if(!o||!i)break;t.push({uri:o,name:i})}return t}(t.metadata),album:{name:r.album_title,uri:o},thumb:r["radio.thumb"]||""}}}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(14)),o=n(147);const i=n(96),a=n(7),s=n(2);let l=!1;function u(e,t){const n=t[0],a=i.getAttributeFromNodeOrParent(n,"data-uri");let l=i.getContextFromNodeOrParent(n);if(r.default.parse(l)&&(l=r.default.parse(l).originUri),!a||!l)return;const u=n.getAttribute("data-interaction-intent");if((0,o.isOrdinaryRadioUri)(l))"save"===u&&s(l).emit("thumb-up",a);else switch(u){case"save":s(l).emit("heart",a);break;case"remove":s(l).emit("undo-heart",a)}}t.update=(()=>{}),t.attach=(()=>{if(l)return;l=!0,a(document).delegate("click",".nft-enabled .feedback-enabled [data-button=add]",u)}),t.detach=(()=>{if(!l)return;l=!1,a(document).undelegate("click",".nft-enabled .feedback-enabled [data-button=add]",u)})},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(14)),o=n(148);const i=n(7),a=n(2),s=n(96),l=n(8),u="[data-button=heart]",c="[data-button=contextmenu]",d="[data-button=undo-heart]",f="[data-button=undo-ban]",p="spoticon-heart-16",h="spoticon-ban-16",m="spoticon-heart-active-16",g="spoticon-ban-active-16";let y=!1;function v(e,t){const n=s.getAttributeFromNodeOrParent(e.target,"data-button"),o=s.getAttributeFromNodeOrParent(t[0],"data-uri");let i=s.getContextFromNodeOrParent(t[0]);r.default.parse(i)&&(i=r.default.parse(i).originUri),o&&i&&("heart"===n?a(i).emit("heart",o):"undo-heart"!==n&&"undo-ban"!==n||a(i).emit(n,o))}function _(e,t){const n=e.querySelector(u)||e.querySelector(d),r=e.querySelector(c)||e.querySelector(f),o=e.parentNode.classList.contains("tl-row")?e.parentNode:null,i="up"===t,a="down"===t,s=!i&&!a;e&&(e.classList.toggle("thumbs-up",i),e.classList.toggle("thumbs-none",s),e.classList.toggle("thumbs-down",a)),n&&function(e,t){if("up"===t){e.classList.remove(p),e.classList.add(m),e.setAttribute("data-button","undo-heart");const t=e.getAttribute("data-tooltip-undo");e.setAttribute("data-tooltip",t),e.setAttribute("aria-label",t),e.setAttribute("data-interaction-intent","undo-heart")}else if(null===t){e.classList.add(p),e.classList.remove(m),e.setAttribute("data-button","heart");const t=e.getAttribute("data-tooltip-heart");e.setAttribute("data-tooltip",t),e.setAttribute("aria-label",t),e.setAttribute("data-interaction-intent","heart")}}(n,t),r&&function(e,t){if("down"===t){e.classList.remove(h),e.classList.add(g),e.setAttribute("data-button","undo-ban");const t=e.getAttribute("data-tooltip-undo");e.setAttribute("data-tooltip",t),e.setAttribute("aria-label",t),e.setAttribute("data-interaction-intent","undo-ban")}else if(null===t){e.classList.add(h),e.classList.remove(g),e.setAttribute("data-button","contextmenu");const t=e.getAttribute("data-tooltip-ban");e.setAttribute("data-tooltip",t),e.setAttribute("aria-label",t),e.setAttribute("data-interaction-intent","show-ban-options")}}(r,t),o?(o.classList.toggle("thumbs-up",i),o.classList.toggle("thumbs-none",s),o.classList.toggle("thumbs-down",a)):n&&n.classList.toggle("active",i)}function b(e){const t=e[0].closest("[data-uri]");return t?t.getAttribute("data-uri"):null}const w={},E=function(e,t,n,r){if("thumb"===t){0===e.setStateForURI(r,n)&&(a(r).off("update",w[r]),delete w[r])}},k={addListenerForNode:function(e,t){const n=b(e);let i;if(t&&t[0]&&(i=s.getContextFromNodeOrParent(t[0])),!n||!i)return;r.default.parse(i)&&(i=r.default.parse(i).originUri);const l=(0,o.makeFeedbackUri)(i,n);if(w[l])return void a(l).get("thumb",function(t,n){if(t)throw t;k.setStateForFeedbackNode(e,n)},a.ASAP);w[l]=function(e){for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t];E(k,t,n,l)}};const u=a(l);u.get("thumb",function(t,n){if(t)throw t;k.setStateForFeedbackNode(e,n),u.on("update",w[l])},a.ASAP)},setStateForURI:function(e,t){let n=0;const r=(0,o.splitFeedbackUri)(e)[1],a=i(document).search("[data-button=feedback]");if(!a)return n;for(let e=0,o=a.length;e<o;e++){const o=i(a[e]);r===b(o)&&(n++,k.setStateForFeedbackNode(o,t))}return n},setStateForFeedbackNode:function(e,t){const n=i(e[0].closest('[data-button="feedback"]'))||i(e[0].querySelector('[data-button="feedback"]'));n&&_(n[0],t)}},S=t.update=function(e,t){if(!y)return;const n=i(t)||i(e)||i(document).search("[data-button=feedback]");if(!n)return;const r=e||i(document).search("[data-context]");for(let e=0,t=n.length;e<t;e++)k.addListenerForNode(i(n[e]),i(r))},x=function(e){S(e.pageNode,e.nodes)};t.attach=function(){if(y)return;y=!0,i(document).delegate("click","[data-button=feedback]",v),l.on("scroll-show-before",x)},t.detach=function(){if(!y)return;y=!1,i(document).undelegate("click","[data-button=feedback]",v),l.off("scroll-show-before",x)}},function(e,t,n){"use strict";const r=n(7),o=n(2),i=n(96);function a(e,t){const n=i.getAttributeFromNodeOrParent(t[0],"data-button"),r=i.getAttributeFromNodeOrParent(t[0],"data-uri"),a=i.getContextFromNodeOrParent(t[0]);r&&a&&("thumbs-down"===n?o(a).emit("thumb-down",r):"thumbs-up"===n&&o(a).emit("thumb-up",r))}let s=!1;t.attach=function(){if(s)return;s=!0;const e=r(document);e.delegate("click","[data-button=thumbs-down]",a),e.delegate("click","[data-button=thumbs-up]",a)},t.detach=function(){if(!s)return;s=!1;const e=r(document);e.undelegate("click","[data-button=thumbs-down]",a),e.undelegate("click","[data-button=thumbs-up]",a)},t.update=function(){}},function(e,t,n){"use strict";const r=n(7),o=n(8),i=n(2),a="select",s="select-property",l=`[data-${a}]`,u=[];function c(e,t){const n=t.data(s),r=t[0];n?p(r,n):g(r,d(r))}function d(e){return e.options[e.selectedIndex].value}function f(e){if(!e.id)return;const t=r(`[data-${a}=${e.id}]`);if(!t)return;const n=t[0],o=e.selected,i=t.data(s);i?p(n,i,o):m(n,o)}function p(e,t,n){const r=y(e);if(!r)return;const o=i(r);if(void 0===o.get(t))return;const a=void 0===n?d(e):n,s={};s[t]=a,o.publish(s)}function h(e){if(u.indexOf(e)>-1)return;u.push(e);const t=r(e).data(s);if(!t)return;const n=y(e);if(!n)return;const o=i(n);o.get(t,function(n,r){if(n)throw n;m(e,r),o.on("update",function(n){t in n&&m(e,n[t])})})}function m(e,t){!function(e,t){const n=r(e).find(`option[value="${t}"]`);n&&!n.attribute("selected")&&n.select()}(e,t),g(e,t)}function g(e,t){const n=r(e).data(a)||null;o.emit("select-change",{element:e,id:n,selected:t})}function y(e){const t=e.closest("[data-uri]");return t?t.getAttribute("data-uri"):null}let v=!1;t.update=function(e){if(!v)return;const t=r(e||document).search(l);t&&t.forEach(h)},t.attach=function(){if(v)return;v=!0,r(document).delegate("change",l,c),o.on("select-set",f)},t.detach=function(){if(!v)return;v=!1,r(document).undelegate("change",l,c),o.off("select-set",f)}},function(e,t,n){"use strict";const r=n(7),o=n(8),i=n(2),a="slider",s="slider-property",l=`[data-${a}]`,u="enabled",c="disabled",d="slider-allowed-property",f="data-ta-slider-state",p=32,h=[];function m(e,t){const n=t.data(s);t.data(d)&&!i(t.data("uri")).get(t.data(d))||(n?v(t[0],n):w(t[0],!t.hasClass(u)))}function g(e,t){e.keyCode===p&&m(0,t)}function y(e){if(!e.id)return;const t=r(`[data-${a}=${e.id}]`);if(!t)return;const n=t[0],o=!!e.enabled,i=t.data(s);i?v(n,i,o):b(n,o)}function v(e,t,n){const r=E(e);if(!r)return;const o=i(r),a=o.get(t);if(void 0===a)return;const s=void 0===n?!a:n,l={};l[t]=s,o.publish(l)}function _(e){if(h.indexOf(e)>-1)return;h.push(e);const t=r(e),n=t.data(s),o=t.data(d);if(!n)return;const a=E(e);if(!a)return;const l=i(a);l.get(n,function(t,i){if(t)throw t;b(e,!!i),w(e,!!i),l.on("update",function(t){n in t&&(b(e,!!t[n]),w(e,!!t[n])),o&&o in t&&function(e,t){const n=r(e);t?n.addClass(c):n.removeClass(c)}(e,!t[o])})})}function b(e,t){const n=r(e);t?(n.addClass(u),n.setAttribute("aria-checked","true"),n.setAttribute(f,"enabled")):(n.removeClass(u),n.setAttribute("aria-checked","false"),n.setAttribute(f,"disabled"))}function w(e,t){const n=r(e).data(a)||null;o.emit("slider-change",{element:e,id:n,enabled:t})}function E(e){const t=e.closest("[data-uri]");return t?t.getAttribute("data-uri"):null}let k=!1;t.update=function(e){if(!k)return;const t=r(e||document).search(l);t&&t.forEach(_)},t.attach=function(){if(k)return;k=!0;const e=r(document);e.delegate("click",l,m),e.delegate("keyup",l,g),o.on("slider-set",y)},t.detach=function(){if(!k)return;k=!1;const e=r(document);e.undelegate("click",l,m),e.undelegate("keyup",l,g),o.off("slider-set",y)}},function(e,t,n){"use strict";(function(e){var r=a(n(105)),o=n(153),i=a(n(149));function a(e){return e&&e.__esModule?e:{default:e}}let s=!1,l=!1,u=0,c=0,d=0,f=0,p=0,h=0,m=[0,0,0,0,0],g=null,y=0,v=!0,_=null,b="",w=null,E=null,k=[],S=null,x=null,T=null,A=null,P=null,C=null;function O(){const e=document.querySelector("[data-glue-page-header-background-image]");if(e){const t=document.querySelector("[data-glue-page-header-background-image-loader]");if(!!t&&t.classList.contains("glue-page-header__background-image-loader--is-loaded")){const t=1.07,n=1,r=Math.min(1,p/(c-f)),o=Math.round(1e3*(t-r*(t-n)))/1e3,i=e.style.transform||"";e.style.transform=`${i.replace(/scale\(.*?\)/,"")} scale(${o})`.trim()}}}function L(){C&&(C.removeEventListener("mouseleave",P),C.parentNode.removeChild(C),C=null),A&&(T.removeEventListener("mouseenter",A),A=null),P&&(T.removeEventListener("mouseleave",P),P=null),T=null}function I(){v=!0,t._ensureFontIsLoaded(e=>{e?console.error(e):(t._updateTitleTypeSize(),t._updateHeaderSizes(),t._updateHeader())})}t._updateHeader=function(){const e=document.querySelector("[data-glue-page-header]");(e!==S||p<c||h<c||c!==d)&&(S=e,d=c,L(),function(){const e=document.querySelector("[data-glue-page-header]"),t=document.querySelector("[data-glue-page-header-description]");if(!e||!t)return;A=(t=>{if(t.target.scrollHeight!==t.target.clientHeight){const n=t.target.getBoundingClientRect();(C=t.target.cloneNode(!0)).addEventListener("mouseleave",P),C.classList.add("glue-page-header__full-description-overlay"),C.style.top=`${n.top}px`,C.style.left=`${n.left}px`,C.style.width=`${n.width}px`,e.appendChild(C)}}),P=(e=>{C&&e.relatedTarget!==C&&!C.contains(e.relatedTarget)&&(C.parentNode.removeChild(C),C.removeEventListener("mouseleave",P),C=null)}),(T=t).addEventListener("mouseenter",A),T.addEventListener("mouseleave",P)}(),function(){const e=document.querySelector("[data-glue-page-header-background]");if(e){const t=p>c-f;e.style.position=t?"fixed":"",e.style.top=t?`-${c-f}px`:"",e.style._bottom=t?"auto":"",e.style.bottom=e.style._bottom,e.style.height=t?`${c}px`:""}const t=document.querySelector("[data-glue-page-header-background-image]");if(t){const e=t.style.transform||"";t.style.transform=`${e.replace(/translateY\(.*?\)/,"")} translateY(${Math.min(p,c-f)}px)`.trim()}}(),function(){const e=document.querySelector("[data-glue-page-header-content]");if(e){const t=24,n=p+u,r=n+t;e.style.webkitMaskImage=`linear-gradient(to bottom, transparent ${n}px, black ${r}px)`}}(),function(){const e=document.querySelector("[data-glue-page-header-background-scroll-overlay]");if(e){const t=.4;e.style.opacity=Math.round(Math.min(1,p/(c-f))*t*1e3)/1e3}}(),function(){const e=Math.min(1,p/(c-f)),t=document.querySelector("[data-glue-page-header-background-scroll-overlay-ellipse]");t&&(t.style.opacity=Math.round(1e3*Math.min(1,2*e))/1e3);const n=document.querySelector("[data-glue-page-header-background-scroll-overlay-ellipse-backdrop]");n&&(n.style.opacity=Math.round(1e3*e)/1e3)}(),O())},t._updateHeaderSizes=function(){const e=document.querySelector("[data-glue-page-header]");if(e){const t=x===document?document.body:x;u=parseInt(t.getAttribute("data-top-bar-height"),10)||0,c=e.offsetHeight,f=parseInt(e.getAttribute("data-glue-page-header-sticky-height"),10)||0}else u=0,c=0,f=0},t._updateTitleTypeSize=function(){const e=document.querySelector("[data-glue-page-header-content] [data-glue-page-header-title]");if(e){const n=e!==_,o=e.textContent!==b;e&&(v||n||o)&&(v=!1,_=e,b=e.textContent,r.default.responsiveTitleType.setSizeForTitle(e,{useLargeTitle:e.hasAttribute("data-glue-page-header-use-large-title")}),t._updateHeaderSizes())}},t._updateScrollClassNames=function(){const t=document.querySelector("[data-glue-page-header]");if(t){!t._hasBeenSeen?(t._hasBeenSeen=!0,t.classList.add("glue-page-header--with-no-animations")):k.push((0,o.requestFrame)(null,()=>{t.classList.remove("glue-page-header--with-no-animations")})),m.push(Math.abs(p-h)),m.shift();const n=30,r=m.reduce((e,t)=>e||t>n,!1);r?t.classList.add("glue-page-header--with-fast-scrolling"):t.classList.remove("glue-page-header--with-fast-scrolling"),e.onPageHeaderToggleFastScrolling&&e.onPageHeaderToggleFastScrolling(r)}},t._updateHeaderImageLoading=function(){const e=document.querySelector("[data-glue-page-header-background-image]");if(e){if(e===g)return;const t=e.getAttribute("data-glue-page-header-background-image-url");if(g=e,t){const e=new window.Image;e.onload=(()=>{const e=document.querySelector("[data-glue-page-header-background-image-loader]");e.classList.contains("glue-page-header__background-image-loader--is-loaded")||(e.classList.add("glue-page-header__background-image-loader--is-loaded"),e.classList.add("glue-page-header__background-image-loader--with-loading-animation"),O(),e.addEventListener("transitionend",function t(){e.removeEventListener("transitionend",t),e.classList.remove("glue-page-header__background-image-loader--with-loading-animation")}))}),e.src=t}}},t._updateScrollValue=function(){p=x===document?window.scrollY:x.scrollTop},t._updateLastScrollValue=function(){h=p},t._ensureFontIsLoaded=function(e){if(l)return void e(null);w||(w=r.default.responsiveTitleType.loadFont());const t=E.token();w.then(()=>{t.isCanceled()?e(t.operationCanceledError()):(l=!0,e(null))},n=>{e(t.errorIfCanceled()||n)})},t.attach=function(){s||(s=!0,E=new i.default,x||(x=document),t._ensureFontIsLoaded(e=>e&&console.error(e)),t._updateHeaderSizes(),y=(0,o.addDebouncedScrollListener)(x,()=>{t._updateScrollValue()},()=>{t._updateScrollClassNames(),t._updateHeader(),t._updateLastScrollValue()}),window.addEventListener("resize",I))},t.detach=function(){s&&(E.cancel(),E=null,k.forEach(e=>{(0,o.cancelFrame)(e)}),k=[],L(),s=!1,l=!1,w=null,c=0,f=0,p=0,h=0,m=[0,0,0,0,0],v=!0,_=null,b="",x=null,T=null,A=null,P=null,C=null,(0,o.removeDebouncedScrollListener)(y),window.removeEventListener("resize",I))},t.update=function(){s&&(k.push((0,o.requestFrame)(()=>{t._updateScrollValue()},()=>{t._updateScrollClassNames(),t._updateHeaderImageLoading()})),t._ensureFontIsLoaded(e=>{e?console.error(e):k.push((0,o.requestFrame)(()=>{t._updateHeaderSizes()},()=>{t._updateTitleTypeSize(),t._updateHeader()}))}))},t.setScrollNode=function(e){x=e}}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PLATFORM_WINDOWS=t.PLATFORM_MAC=t.PLATFORM_UNKNOWN=void 0,t._setGetTopLevelWindowFunction=function(e){s=e},t._resetGetTopLevelWindowFunction=function(){s=l},t.isMac=f,t.isWindows=p,t.getPlatform=h,t.subscribeToPlatform=function(e){u.push(e);const t=h();e(t,t),s()===window&&d(t);!function(){if(c)return;let e=h();c=r.default.resolver.subscribe("sp://messages/v1/container/control",(t,n)=>{if(t)return void console.error(t);const r=n.getJSONBody();if(r){let t;switch(r.type){case"set_platform_emulation_auto":t=h();break;case"set_platform_emulation_macos":t=i;break;case"set_platform_emulation_windows":t=a;break;case"set_platform_emulation_linux":t=o;break;default:return}u.forEach(n=>{n(t,e)}),e=t,s()===window&&d(e)}})}()},t.removeAllSubscriptions=function(){u.length=0,c&&(c.cancel(),c=null)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(9));const o=t.PLATFORM_UNKNOWN=Symbol("PLATFORM_UNKNOWN"),i=t.PLATFORM_MAC=Symbol("PLATFORM_MAC"),a=t.PLATFORM_WINDOWS=Symbol("PLATFORM_WINDOWS");let s=()=>window.top;const l=s;const u=[];let c=null;function d(e){switch(e){case i:window.osLibCurrentPlatformId="mac";break;case a:window.osLibCurrentPlatformId="win";break;default:window.osLibCurrentPlatformId="unknown"}}function f(){return window.navigator.platform.startsWith("Mac")}function p(){return window.navigator.platform.startsWith("Win")}function h(){return s()!==window?function(){switch(s().osLibCurrentPlatformId){case"mac":return i;case"win":return a;default:return o}}():f()?i:p()?a:o}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(9)),o=n(409);let i,a=!1,s="always-visible",l=0;const u={[o.PLATFORM_UNKNOWN]:"linux",[o.PLATFORM_MAC]:"mac",[o.PLATFORM_WINDOWS]:"windows"};let c=u[o.PLATFORM_UNKNOWN],d=u[o.PLATFORM_UNKNOWN];function f(){"always-visible"===s||"mac"!==d?(document.body.classList.remove(`scrollbar-style-visible-${c}`),document.body.classList.remove("scrollbar-style-when-scrolling-mac"),document.body.classList.add(`scrollbar-style-visible-${d}`)):(document.body.classList.remove(`scrollbar-style-visible-${d}`),document.body.classList.remove(`scrollbar-style-visible-${c}`),document.body.classList.add("scrollbar-style-when-scrolling-mac"))}function p(){const e=[],t=["scroll","auto","overlay"];[...document.querySelectorAll("*")].forEach(n=>{const r=window.getComputedStyle(n),o=r.overflowX,i=r.overflowY;t.includes(o)&&e.push({node:n,property:"overflow-x"}),t.includes(i)&&e.push({node:n,property:"overflow-y"})});const n=document.createElement("style");n.innerHTML="\n    html::-webkit-scrollbar,\n    body::-webkit-scrollbar {\n      background-color: rgba(1, 2, 3, 0) !important;\n    }\n  ".trimRight();const r=`data-scrollbar-fix-${++l}-id`;let o=0;e.forEach(({node:e,property:t})=>{if(e!==document.body){const i=++o;e.setAttribute(r,i),n.innerHTML+=`\n    [${r}="${i}"] { ${t}: hidden !important; }`}}),document.head.appendChild(n),setTimeout(()=>{document.head.removeChild(n),e.forEach(({node:e})=>{e.removeAttribute(r)})},0)}t.performScrollBarFix=p,t.update=function(){},t.attach=function(){if(a)return;a=!0;const e=window.__spotify&&window.__spotify.scroller_style;s="overlay"===e?"overlay":"always-visible",(0,o.subscribeToPlatform)((e,t)=>{d=u[e],c=u[t],f()}),window.addEventListener("message",e=>{"set_active"===e.data.name&&e.data.active&&p()}),i=r.default.resolver.subscribe({url:"sp://messages/v1/container/control"},(e,t)=>{if(e)i.cancel();else{const e=t.getJSONBody();if(e){let t=!1;switch(e.type){case"set_scroller_style_always_visible":s="always-visible",t=!0;break;case"set_scroller_style_overlay":s="overlay",t=!0}t&&f(),t&&(p(),setTimeout(p,1e3))}}})},t.detach=function(){a&&(a=!1,l=0,i&&(i.cancel(),i=null))}},function(e,t,n){"use strict";(function(e){const r=n(7),o=r(document),i=r(window),a=function(t){let n=0;const r=function(t){const n=t.children;return n?{itemWidth:parseFloat(e.getComputedStyle(n[0]).width),carouselInnerWidth:parseFloat(e.getComputedStyle(t).width),carouselTotalWidth:t.scrollWidth}:null}(t);if(!r)return n;const o=Math.round(r.carouselInnerWidth/r.itemWidth),i=Math.round(r.carouselTotalWidth/r.itemWidth),a=Math.ceil(i/o);return n=-r.carouselInnerWidth*(a-1)},s=function(e,t){const n=r(`[data-carousel=${e}][data-button=carousel-next]`),o=r(`[data-carousel=${e}][data-button=carousel-previous]`),i=r(`[data-carousel=${e}][data-carousel-main]`),a=r(i).search("[data-carousel-inner]")[0];let s;s="number"==typeof t?t:a.style.left?parseInt(a.style.left,10):0;const l=a.clientWidth-s/100*a.clientWidth+10>a.scrollWidth;a.clientWidth===a.scrollWidth&&(a.style.left="0%"),s>=0?o.setAttribute("disabled","disabled"):o.removeAttribute("disabled"),l?n.setAttribute("disabled","disabled"):n.removeAttribute("disabled")},l=function(e,t){if(e.hasAttribute("disabled"))return;const n=e.data("carousel"),o=r(`[data-carousel=${n}][data-carousel-main] [data-carousel-inner]`)[0],i=function(e){return e.style.left||"0"}(o);let l;if(i){l=function(e,t,n){const r=t.clientWidth,o=a(t),i=e.endsWith("%"),s=parseInt(e,10);let l;return i?l=n?s+100:s-100:(l=Math.abs(s/r),0!==s||n?s===o&&n?l=-100*(l-1):(l=n?Math.floor(l):Math.ceil(l),l*=-100):l=-100),l}(i,o,t)}else l=t?0:-100;s(n,l),o.style.left=`${l}%`},u=function(e,t){l(t,!0)},c=function(e,t){l(t,!1)},d=function(e){if(e&&e.ownerDocument&&!e.ownerDocument.body.contains(e))return;const t=(r(e)||o).search("[data-carousel-main]");t&&t.forEach(function(e){s(r(e).data("carousel"))})};let f=!1;t.update=function(e){f&&d(e)},t.attach=function(){f||(f=!0,o.delegate("click","[data-button=carousel-next]",c),o.delegate("click","[data-button=carousel-previous]",u),i.on("resize",d))},t.detach=function(){f&&(f=!1,o.undelegate("click","[data-button=carousel-next]",c),o.undelegate("click","[data-button=carousel-previous]",u),i.off("resize",d))}}).call(this,n(1))},function(e,t,n){"use strict";const r=n(26),o=n(55),i=n(18),a=o.EMIT_SYNC;e.exports=r({mixin:o,constructor:function(e,t){this.container=e,this.height=t.height||0,this.length=t.length||0,this.tag=t.tag||"li",this.request=t.request,this._id=0,this.reset()},resetFrom:function(e,t,n){const r=this._range;e<r.end&&(this.reset(t,n),this.show(r))},reset:function(e,t){const n=this.tag;void 0!==e&&(this.length=e);const r=this.length*this.height;if(t)throw new TypeError("Hidden indices are not supported anymore!");this.container.innerHTML=`<${n} style="height:${r}px"></${n}>`+`<${n} style="height:0px"></${n}>`,this._range=new i(0,0),this._waitingRange=new i(0,0),this.emit("index-change",[],a)},show:function(e){const t=this.length,n=this._range,r=this._waitingRange,o=new i(Math.max(0,e.start),Math.min(t,e.end));o.start===n.start&&o.end===n.end||o.start===r.start&&o.end===r.end||this._drawRange(o)},_drawRange:function(e){const t=this.container,n=this._range,r=this.height,o=this.length,s=++this._id;this._waitingRange=e,this.request(e,(l,u)=>{let c,d=0;if(s!==this._id)return;this._range=e,this._waitingRange=new i(0,0);const f=t.firstChild,p=t.lastChild;f.style.height=`${e.start*r}px`,p.style.height=`${(o-e.end)*r}px`,n.subtract(e).forEach(function(e){const r=e.length;for(c=0;c<r;c++)t.removeChild(t.children[e.start-n.start-d+1]);d+=r}),e.subtract(n).forEach(r=>{const o=r.length,i=r.start-e.start,s=u.slice(i,i+o);let l;for(this.emit("before-show",r,s,a),l=r.below(n)?f.nextSibling:p,c=0;c<o;c++)t.insertBefore(s[c],l);this.emit("after-show",r,s,a)}),this.emit("index-change",[e],a)})}})},function(e,t,n){"use strict";const r=n(18),o=n(10),i=n(7),a=n(55).EMIT_SYNC,s=n(105).attentionHighlight,l=n(150),u=n(412),c=n(8),d=i(document),f=i(window);let p=[],h=[],m=[];const g=[],y=[];let v=[];const _=function(e,t){let n=e;n!==window&&n!==document.body||(n=document.body);const r=n===document.body?0:n.getBoundingClientRect().top,o=n===document.body?document.documentElement.clientHeight:n.clientHeight,i=t.getBoundingClientRect().top,a=t.offsetHeight;return{view:{top:r,height:o,bottom:r+o},container:{top:i,height:a,bottom:i+a}}},b=function(e,t,n,o,p){const b=e[0],w=t[0];let E=-1;t.addClass("scroll-container-enabled");const k=(e,n)=>{if(i(e)===t){const e=w.querySelector(`[data-index='${n}']`);if(!e)return void(E=n);E=-1;let t=document.querySelector("[data-table-row-attention-highlight]");t||((t=document.createElement("div")).className="tl-attention-highlight",t.setAttribute("data-table-row-attention-highlight",""),document.body.appendChild(t));const r=window.pageYOffset,o=e.getBoundingClientRect(),i=document.body.offsetWidth;t.classList.add("visible"),t.style.top=`${o.top+r}px`,t.style.left=`${o.left}px`,t.style.right=`${i-o.right}px`,setTimeout(()=>{t.classList.remove("visible")},s.HIDE_DELAY)}},S=new u(w,{height:o,length:n,tag:p,debug:!1,request:function(e,t){c.emit("scroll-request",w,e,t,a)}});h.push(S);const x=g.indexOf(t);x>-1&&(S.reset(n,y[x]),g.splice(x,1),y.splice(x,1)),S.on("before-show",function(e,n){c.emit("scroll-show-before",{pageNode:t,container:t,range:e,nodes:n},a)}),S.on("after-show",function(e,n){c.emit("scroll-show-after",{pageNode:t,container:t,range:e,nodes:n},a)}),S.on("index-change",function(e){c.emit("scroll-index-change",{pageNode:t,container:t,ranges:e},a)});let T=!1;const A=function(e,n,r,o){if(i(e)===t){"number"==typeof o&&o>0?S.resetFrom(o,n,r):S.reset(n,r),t._scrollEvent()}},P=function(){const e=_(b,w);let n=function(e,t,n,o=0){const i=_(e,t),a=-(i.container.top-i.view.top);let s=Math.floor((a-o)/n);const l=Math.ceil((a+i.view.height+o)/n);return s<0&&(s=0),!(l<=s)&&new r(s,l)}(b,w,o);if(n){S.on("after-show",function e(){S.off("after-show",e),E>-1&&E>=n.start&&E<n.end&&k(t,E)});const e=2;n=new r(n.start-e,n.end+e),S.show(new r(n.start,n.end))}T||e.container.bottom<2e3&&(T=!0,c.emit("scroll-request-more",w,function(e,t){if(e)throw e;T=!1,A(w,t)}))};m.push(P),t._scrollEvent=l(P),c.on("scroll-reset",A),t._scrollResetEvent=A;const C=function(e,n,r={}){if(b!==window)throw new Error("Can't scroll to index if view is not `window`");if(i(e)===t){const e=_(b,w),t=r.centerRowIfScrollIsNeeded?(e.view.height-S.height)/2:0,o=S.height*n,i=e.container.top+o;let a=i+window.pageYOffset,s=(d.search("[data-sticky-active]")||[]).map(function(e){return e.offsetHeight}).reduce(function(e,t){return e+t},0);if(document.querySelector("[data-top-bar-height]")&&(s+=parseInt(document.querySelector("[data-top-bar-height]").getAttribute("data-top-bar-height"),10)),i<=s)a-=t+s;else{if(!(i+S.height>e.view.height))return;a+=t+S.height-e.view.height}b.scrollTo(0,a)}},O=()=>{const e=document.querySelector("[data-table-row-attention-highlight]");e&&e.parentNode.removeChild(e)};c.on("scroll-to-index",C),c.on("attention-highlight-index",k),c.on("hide-attention-highlight",O),e.on("scroll",P),f.on("resize",P),P(),v.push({container:t,clean:function(){c.off("scroll-reset",A),c.off("scroll-to-index",C),c.off("attention-highlight-index",k),c.off("hide-attention-highlight",O),e.off("scroll",P),f.off("resize",P),delete t._scrollEvent,delete t._scrollResetEvent,E=-1,t.removeClass("scroll-container-enabled")}})};function w(e){const t=e.indices,n=i(e.itemContainer),r=p.indexOf(n);if(r>-1){const e=h[r];e&&e.reset(e.length,t);const n=m[r];n&&n()}else g.push(n),y.push(t)}let E=!1;t.update=function(e){if(!E)return;const t=i(e)||d;let n=d.search("[data-scroll-container]");const s=[],l=[];p=p.filter(function(e,t){if(!o(n,e[0])){for(let t=0;t<v.length;t++)if(v[t].container===e){v[t].clean(),v.splice(t,1);break}return!1}return l.push(h[t]),s.push(m[t]),!0}),h=l,m=s,t!==d&&(n=t.search("[data-scroll-container]")),n&&n.forEach(function(e){const t=i(e);if(t._scrollEvent||e.children.length)return;p.push(t);const n=t.parent("[data-scroll-view]")||f;c.emit("scroll-request",t[0],new r(0,3),function(e,r,a){if(e)throw e;let s=r;if(o(d.search("[data-scroll-container]"),t[0])){(s=i(s)).insert(t);const e=s[1],r=e.offsetHeight,o=i(e).tag();s.remove(),b(n,t,a,r,o)}},a)})},t.attach=function(){E||(E=!0,c.on("scroll-set-hidden",w))},t.detach=function(){E&&(E=!1,c.off("scroll-set-hidden",w),p=[],v.forEach(function({clean:e}){e()}),v=[])}},function(e,t,n){"use strict";e.exports={AppState:n(69),Navigator:n(161)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attach=function(){if(g)return;g=!0,document.addEventListener("keydown",E),document.addEventListener("focus",b,!0),document.addEventListener("blur",w,!0)},t.detach=function(){if(!g)return;g=!1,y.menu=null,document.removeEventListener("keydown",E),document.removeEventListener("focus",b,!0),document.removeEventListener("blur",w,!0)},t.update=function(){};var r=s(n(150)),o=s(n(8)),i=s(n(414)),a=s(n(69));function s(e){return e&&e.__esModule?e:{default:e}}const l="[data-menu]",u="[data-menu-item]",c="[data-menu-item-disabled]",d="[data-menu-item]:not([data-menu-item-disabled])",f='[data-submenu="true"]',p="data-menu",h="data-menu-item",m=new i.default.Navigator;let g=!1;const y={menu:null};function v(e){if(e.target.matches(l))return;const t=e.target.closest(u);if(!t)return;const n=R(t.closest(l));let r=M();t!==r.selectedNode&&(t.matches(c)?P(r):(A(r,n,t),r=M()),t.matches(f)?n.menu||O(n,t):r.menu&&L(r))}const _=(0,r.default)(v);function b(e){const t=e.target.closest(l);t&&!y.menu&&(y.menu={node:t,selectedNode:null,menu:null,active:!0,parent:null},t.addEventListener("mousemove",_),t.addEventListener("mouseleave",k),t.addEventListener("touchstart",v,!0))}function w(e){const{target:t,relatedTarget:n}=e;y.menu&&(t===y.menu.node?n&&t.contains(n)||I():y.menu.node.contains(t)&&!y.menu.node.contains(n)&&I())}function E(e){if(!y.menu)return;const t=e.keyCode,n=27===t,r=38===t,o=40===t,i=37===t,s=39===t;if(13===t){const e=M().selectedNode,t=e&&e.querySelector("a[href]");return t&&m.requestOpenState(new a.default(t.getAttribute("href"))),void T(e)}if(n)I();else if(r||o){const e=M();if(e.node){const t=o?function(e){if(!e.selectedNode)return e.node.querySelector(d);let t=e.selectedNode.nextElementSibling;for(;t;){const e=t.matches(u),n=t.matches(c);if(e&&!n)break;t=t.nextElementSibling}return t}(e):function(e){if(!e.selectedNode){const t=e.node.querySelectorAll(d);return t[t.length-1]||null}let t=e.selectedNode.previousElementSibling;for(;t;){const e=t.matches(u),n=t.matches(c);if(e&&!n)break;t=t.previousElementSibling}return t}(e);t&&A(e,e,t)}}else if(s){const e=M();if(e.selectedNode&&e.selectedNode.matches(f)){e.menu||O(e,e.selectedNode);const t=e.menu.node,n=t.firstElementChild||t.firstChild;A(e,e.menu,n)}}else if(i){const e=M();e.parent&&L(e.parent)}else;}function k(e){if(!e.relatedTarget||!e.relatedTarget.closest(l)){const e=M();P(e),e.menu&&L(e)}}function S(e){T(R(e.target.closest(l)).selectedNode)}function x(e){e.preventDefault(),S(e)}function T(e){o.default.emit("menu-activate-item",{menu:{id:y.menu.node.getAttribute(p)||"",element:y.menu.node},item:{id:e.getAttribute(h)||"",element:e}})}function A(e,t,n){const r=e.menu===t,o=function(e,t){let n=e.menu;for(;n&&n!==t;)n=n.menu;return!!n}(t,e);r?C(e.selectedNode):P(e),o&&P(t),e.active=!1,t.selectedNode!==n&&(n.classList.add("selected"),n.focus(),function(e){e.addEventListener("click",S),e.addEventListener("touchstart",x)}(n),t.selectedNode=n),t.active=!0}function P(e){if(e.selectedNode){const t=e.selectedNode;t.classList.remove("selected"),C(t),e.selectedNode=null}}function C(e){e.removeEventListener("click",S),e.removeEventListener("touchstart",x)}function O(e,t){const n=t.querySelector(l);n&&(e.menu={parent:e,node:n,selectedNode:null,menu:null,active:!1},n.classList.add("open"))}function L(e){e.menu.menu&&L(e.menu),e.selectedNode.focus(),e.menu.active&&(e.menu.active=!1,e.active=!0),P(e.menu),e.menu.node.classList.remove("open"),e.menu=null}function I(){if(y.menu){const e=y.menu.node;e.removeEventListener("mousemove",_),e.removeEventListener("mouseleave",k),e.removeEventListener("touchstart",v,!0);let t=y.menu;for(;t;)P(t),t.node.classList.remove("open"),t=t.menu;delete y.menu,o.default.emit("menu-hide",{menu:{id:e.getAttribute(p)||"",element:e}})}}function R(e){let t=y.menu;for(;t&&t.node!==e;)t=t.menu;return t}function M(){let e=y.menu;for(;e&&!e.active;)e=e.menu;return e}},function(e,t,n){"use strict";(function(e){const r=n(7),o=n(2),i=n(8),a=n(20),s=n(51),l=n(100),u="[data-list-item]",c="unavailable",d="offline-downloaded",f="offline-downloading",p="offline-waiting",h={},m={};function g(e,t){t?e.removeClass(c):e.addClass(c)}function y(e,t,n){t?1===n?(e.addClass(d),e.removeClass(f),e.removeClass(p)):0===n?(e.addClass(p),e.removeClass(d),e.removeClass(f)):(e.addClass(f),e.removeClass(d),e.removeClass(p)):(e.removeClass(d),e.removeClass(f),e.removeClass(p))}function v(e,t){const n=t||(r(e)||r(document)).search(u);n&&n.forEach(function(e){const t=r(e).data("uri"),n=o(t),i=n.get("playable");void 0!==i&&g(r(e),i),t in h||(h[t]=!0,n.on("update",function(e){"playable"in e&&function(e,t){const n=r(document).search(`${u}[data-uri="${e}"]`);n&&g(n,t)}(t,e.playable)}))})}function _(e,t){const n=t||(r(e)||r(document)).search(u);n&&n.forEach(function(e){const t=r(e).data("uri"),n=o(t);n.query("shouldBeOffline, offlineProgress",function(o,i){if(o)throw o;y(r(e),i.shouldBeOffline,i.offlineProgress),t in m||(m[t]=!0,n.on("update",function(e){("shouldBeOffline"in e||"offlineProgress"in e)&&function(e,t,n){const o=r(document).search(`${u}[data-uri="${e}"]`);o&&y(o,t,n)}(t,n.get("shouldBeOffline"),n.get("offlineProgress"))}))},o.ASAP)})}const b={};function w(t){if(!t.target.closest(u)||b[JSON.stringify({keyCode:t.keyCode})])return;let n=!1;const r=/Win/.test(e.window.navigator.userAgent),o=8===t.keyCode,i=46===t.keyCode;(n=r?i:o||i)&&E()}function E(){const e=a.getIndicesPerList();if(e.length>0){let t=null;e.forEach(function(e){let n=e;n.origin&&(n=n.origin);const r=o(n.uri),i=n.indices.sort(function(e,t){return e-t});r.query("allows(removeTracks)",function(e,n){if(e)throw e;n.allows.removeTracks&&r.get("rows",function(e,n){if(e)throw e;const r=i.map(function(e,t){return{type:"remove",index:e-t,length:1}});n.publish(r),null===t&&(t=i[0])})})})}}function k(e){v(e.container,e.nodes),_(e.container,e.nodes)}t._classNames={UNAVAILABLE:c,OFFLINE_WAITING:p,OFFLINE_DOWNLOADING:f,OFFLINE_DOWNLOADED:d};let S=!1;t.update=function(e){S&&(v(e),_(e))};const x=r(document);let T,A;t.attach=function(){S||(S=!0,x.on("keydown",w),i.on("scroll-show-before",k),T=s.subscribe({url:"sp://messages/v1/container/control"},function(e,t){if(e)throw e;const n=t.body;n&&"delete"===n.type&&l.isActiveAndFocused()&&E()}),A=s.subscribe({url:"sp://messages/v1/ignoreshortcuts"},function(e,t){"ignore"===t.body.action?t.body.shortcuts.forEach(function(e){b[JSON.stringify(e)]=1}):"unignore"===t.body.action&&t.body.shortcuts.forEach(function(e){delete b[JSON.stringify(e)]})}))},t.detach=function(){S&&(S=!1,x.off("keydown",w),i.off("scroll-show-before",k),T&&(T.cancel(),T=null),A&&(A.cancel(),A=null))}}).call(this,n(1))},function(e,t,n){"use strict";const r=n(7),o=document.createElement("div");o.id="tooltip";const i=document.createElement("span");i.setAttribute("dir","auto");const a=document.createElement("div");a.className="tooltip-arrow-top";const s=document.createElement("div");s.className="tooltip-arrow-bottom",o.appendChild(a),o.appendChild(s),o.appendChild(i);let l=null,u=null,c=null;const d=function(e){i.innerHTML=e},f=function(e,t){const n=t[0];let r=0,i=0;const f=t.data("tooltip")||t.getAttribute("title");if(!f)return;l=t,t.tooltipCheck||(t.removeAttribute("title"),t.setAttribute("data-tooltip",f),t.tooltipCheck=!0);const p=function(e){const t=e.getAttribute("data-tooltip-container");let n;return t&&(n=document.querySelector(t)),n||document.body}(t);u&&p===u||function(e){(u=e).appendChild(o)}(p),d(f);const h=o.clientHeight,m=o.offsetWidth,g=window.pageYOffset,y=n.getBoundingClientRect(),v=n.offsetHeight,_=n.offsetWidth,b=parseInt(y.top,10)+g,w=parseInt(y.left,10)+_/2,E=b+v,k=document.documentElement.clientWidth,S=document.documentElement.clientHeight;E+h+8-g>S?(r=b-h-8,a.classList.remove("visible"),s.classList.add("visible"),c=s):((r=b+v+8)-g>S&&(r=S-h),a.classList.add("visible"),s.classList.remove("visible"),c=a),(i=w-m/2)+m>=k-8?i=k-8-m:i<8&&(i=8),o.style.top=`${r}px`,o.style.left=`${i}px`,c.style.left=`${w-i-5}px`,t.hasAttribute("data-tooltip-instant")?o.classList.add("instant"):o.classList.remove("instant"),o.classList.add("visible")},p=function(){l&&(l=null,d(""),o.classList.remove("visible"),o.style.left=0,o.style.top=0,c&&(c.style.left=0))};let h=!1;t.attach=function(){if(h)return;h=!0;const e=r(document);e.delegate("mouseover","[data-tooltip]",f),e.delegate("mouseout","[data-tooltip]",p),e.on("keydown",p),e.on("mousedown",p)},t.detach=function(){if(!h)return;h=!1,function(){l=null,o.parentNode&&u.removeChild(o),u=null}();const e=r(document);e.undelegate("mouseover","[data-tooltip]",f),e.undelegate("mouseout","[data-tooltip]",p),e.off("keydown",p),e.off("mousedown",p)},t.update=function(){h&&l&&(l.data("tooltip")?f(0,l):p())},t._setText=d,t._getTooltipNode=(()=>o)},function(e,t,n){var r=n(97),o=n(111),i=n(104);e.exports=function(e,t,n){return n=n||r,o(e)&&o(t)?e.length===t.length&&i(e,function(e){return function(t,n){return n in this&&e(t,this[n])}}(n),t):n(e,t)}},function(e,t,n){var r=n(32),o=n(54);e.exports=function(e,t,n){t=o(t,n);var i=!0;return r(e,function(n,r){if(!t(n,r,e))return i=!1,!1}),i}},function(e,t,n){var r=n(56),o=n(419),i=n(98),a=n(97);function s(e,t){return r(this,t)}e.exports=function(e,t,n){return n=n||a,i(e)&&i(t)?o(e,function(e){return function(t,n){return r(this,n)&&e(t,this[n])}}(n),t)&&o(t,s,e):n(e,t)}},function(e,t,n){var r=n(97),o=n(98),i=n(111),a=n(420),s=n(418);e.exports=function e(t,n,l){l=l||r;var u=o(t)&&o(n),c=!u&&i(t)&&i(n);if(!u&&!c)return l(t,n);return(u?a:s)(t,n,function(t,n){return e(t,n,l)})}},function(e,t,n){var r=n(43),o=n(75),i=n(44);e.exports=function(e){switch(r(e)){case"Object":return function(e){return o(e)?i({},e):e}(e);case"Array":return function(e){return e.slice()}(e);case"RegExp":return function(e){var t="";return t+=e.multiline?"m":"",t+=e.global?"g":"",t+=e.ignoreCase?"i":"",new RegExp(e.source,t)}(e);case"Date":return function(e){return new Date(+e)}(e);default:return e}}},function(e,t,n){var r=n(422),o=n(32),i=n(43),a=n(75);function s(e,t){switch(i(e)){case"Object":return function(e,t){if(a(e)){var n={};return o(e,function(e,n){this[n]=s(e,t)},n),n}return t?t(e):e}(e,t);case"Array":return function(e,t){var n=[],r=-1,o=e.length;for(;++r<o;)n[r]=s(e[r],t);return n}(e,t);default:return r(e)}}e.exports=s},function(e,t,n){var r=n(56),o=n(423),i=n(98);e.exports=function e(){var t,n,a,s,l=1;for(s=o(arguments[0]);a=arguments[l++];)for(t in a)r(a,t)&&(n=a[t],i(n)&&i(s[t])?s[t]=e(s[t],n):s[t]=o(n));return s}},function(e,t,n){"use strict";const r=n(7),o=n(2),i=n(8),a=n(154),s=n(51),l=n(424),u=n(421),c=n(14).getOriginUri,d=n(100),f=8,p="list-filter-string-",h="spotify:session-storage";let m,g,y,v=!1;function _(e){!function(e){const t=r(document).search("[data-uri] [data-filter]");if(!t)return;t.filter(function(t){return P(t)===e}).forEach(function(t){const n=T(e),o=r(t).find("input[type=text]")[0],i=r(t).find(".h-search-wrapper")[0];n.activated?(r(i).hasClass("focus")||(r(i).addClass("focus"),t.setAttribute("data-sticky",""),a.update()),o.value!==n.enteredString&&(o.value=n.enteredString)):(o.blur(),r(i).hasClass("focus")&&(r(i).removeClass("focus"),t.removeAttribute("data-sticky"),a.update()),o.value="")})}(e);const t=T(e);if(!u(t,g[e])){g[e]=t;const n=t.activated?t.enteredString:"";!function(e,t){i.emit("filter-request",e,t)}(e,n),function(e,t){const n=c(e)||e,r={};r[p+n]=t,o(h).publish(r)}(e,n)}}function b(e){x(P(e.target))}function w(e){A(P(e.target),{enteredString:e.target.value})}function E(e){27===e.keyCode&&x(P(e.target))}function k(e){A(P(e.target),{activated:!0})}function S(e){""===T(P(e.target)).enteredString&&A(P(e.target),{activated:!1})}function x(e){A(e,{activated:!1,enteredString:""})}function T(e){return m[e]||{activated:!1,enteredString:""}}function A(e,t){m[e]=l(T(e),t),_(e)}function P(e){let t=e.getAttribute("data-uri");if(!t){const n=r(e).parents("[data-uri]");n&&(t=n[0].getAttribute("data-uri"))}return(t=c(t)||t)||null}e.exports={attach:function(){v||(v=!0,m={},g={},y=s.subscribe({url:"sp://messages/v1/container/control"},function(e,t){d.isActive()&&t&&t.body&&"filter"===t.body.type&&r("[data-filter]").forEach(function(e,t){A(P(e),{activated:!0});const n=r(e).find("input[type=text]")[0];n&&(0===t&&function(e){const t=e.getBoundingClientRect(),n=t.top-f;(n<0||t.bottom>window.innerHeight)&&window.scrollTo(0,window.pageYOffset+n)}(n),function(e){document.activeElement!==e&&(e.focus(),e.select())}(n))})}),i.on("filter-reset",x),r(document).delegate("click","[data-filter] .h-search-close",b),r(document).delegate("click","[data-filter-reset]",b),r(document).delegate("input","[data-filter] input",w),r(document).delegate("keyup","[data-filter] input",E),r(document).delegate("focusin","[data-filter] input",k),r(document).delegate("focusout","[data-filter] input",S))},detach:function(){v&&(m=null,y.cancel(),i.off("filter-reset",x),r(document).undelegate("click","[data-filter] .h-search-close",b),r(document).undelegate("click","[data-filter-reset]",b),r(document).undelegate("input","[data-filter] input",w),r(document).undelegate("keyup","[data-filter] input",E),r(document).undelegate("focusin","[data-filter] input",k),r(document).undelegate("focusout","[data-filter] input",S),v=!1)},update:function(e){if(!v)return;const t=r(e)||r(document),n=t.matches("[data-filter]")?[t[0]]:t.search("[data-filter]");n&&n.forEach(function(e){const t=P(e);if(t){if(!m[t]){const n=r(e).find("input[type=text]")[0].value;n&&A(t,{activated:!0,enteredString:n})}_(t)}})},broadcast:function(e){if(void 0===e)throw new Error("broadcast requires enabled argument");s.post({url:"sp://messages/v1/container/control",body:{type:"update_menu_state",enable_filter_item:e}})}}},function(e,t,n){"use strict";const r=n(7),o=n(2);let i;function a(e){"online"in e&&(e.online?r(document.body).removeClass("offline"):r(document.body).addClass("offline"))}let s=!1;t.update=function(){s&&function(){o("spotify:client").query("session(online)",function(e,t){if(e)throw e;a({online:t.session.online})})}()},t.attach=function(){s||(s=!0,i||o("spotify:client").get("session",function(e,t){if(e)throw e;(i=t).on("update",a)}))},t.detach=function(){s&&(s=!1,i&&(i.off("update",a),i=null))}},function(e,t,n){"use strict";(function(e){const r=n(7),o=n(2),i=n(8),a="data-navbar-item-id",s="data-sticky-fixed-wrapper",l={};let u,c,d;const f=function(e,t,n){return t&&n?`[${e}${t}"${n}"`+"]":`[${e}]`},p=function(){const t=document.querySelector("[data-navbar-item-id=navbar-overflow-menu]");if(t){if(u&&u.length||(d=!1),d){c=!0;const n=u.map(function(e){const t=e.querySelector("a[href]");return{name:e.firstElementChild&&e.firstElementChild.textContent||"",id:e.getAttribute(a),url:t&&t.getAttribute("href"),active:e.classList.contains("active")}}),r=t.getBoundingClientRect(),o="rtl"===document.documentElement.getAttribute("dir");e.top.postMessage({type:"show-navbar-overflow",items:n,right:o?null:r.right,left:o?r.left:null,top:r.bottom},"*")}!d&&c&&(c=!1,e.top.postMessage({type:"hide-navbar-overflow"},"*"))}},h=function(e){if(!e)return[];const t=document.querySelectorAll(f(a,"=",e));return Array.prototype.slice.call(t)},m=function(e){return document.querySelector(f("data-navbar-view-id","=",e))},g=function(e){const t=e||document.documentElement,n=f("data-navbar");return t.matches(n)?t:t.querySelector(n)},y=function(e,t){const n=g();if(!n)return;n.setAttribute("data-navbar-active-id",e),t.forEach(function(e){e.classList.add("active")});const r=function(){const e=document.querySelectorAll(f(a));return Array.prototype.slice.call(e)}();r.length&&r.forEach(function(t){t.getAttribute(a)!==e&&t.classList.remove("active")})},v=function(e){e.style.display="none"},_=function(e,t){if(!t)return;const n=function(){const e=document.querySelectorAll(f("data-navbar-view-id"));return Array.prototype.slice.call(e)}();for(let e=0,r=n.length;e<r;e++)n[e]!==t[0]&&v(n[e]);!function(e){e.style.display="block"}(t)},b=function(e,t,n){const r=function(){const e=g();if(!e)return null;const t=e.getAttribute("data-navbar-active-id");return h(t)[0]}();(r&&r.getAttribute(a))!==e&&(y(e,t),_(0,n),i.emit("navbar-change",{id:e}))},w=function(e){!function(){const e=window.pageYOffset,t=Array.prototype.slice.call(document.querySelectorAll(`[${s}]`));if(0===t.length)return;const n=t.reduce(function(e,t){const n=t.getBoundingClientRect().top;return n<e?n:e},0),r=parseInt(document.body.getAttribute("data-top-bar-height"),10)||0;n<0&&window.scrollTo(0,e+n+1-r)}();const t=m(e),n=h(e);b(e,n,t)},E=function(e,t){const n=t.getAttribute(a);if("navbar-overflow-menu"===n)return d=!0,void p();w(n),e.preventDefault()},k=function(){c&&(d=!1,p())},S=function(e){e.data&&"navbar-overflow-click"===e.data.name&&w(e.data.itemId),e.data&&"hide-navbar-overflow"===e.data.name&&k()},x=function(e){let t,n,r=0;for(;r<e.length&&(!t||!t.length);)e[r]&&(n=e[r],t=h(n)),r++;const o=n;if(!t||!t.length)return;const i=m(o);b(o,t,i)},T=function(e){const t=g(e);t&&o("spotify:application").query("appURI, arguments",function(e,n){if(e)throw e;let r=function(e){return e.split(":").slice(0,3).join(":")}(n.appURI);n.arguments&&(r+=`:${n.arguments}`);const o=function(e){for(const t in l)if(l.hasOwnProperty(t)&&new RegExp(t).test(e))return l[t];return null}(r);if(o)x([o]);else{const e=+t.getAttribute("data-navbar-history-position")||0,o=n.arguments.split(":")[e],i=function(){const e=document.querySelector(f(a));return e?"navbar-overflow-menu"===e.getAttribute(a)?null:e.getAttribute(a):null}();x([r,o,i])}})};function A(e){const t=g(e);if(!t)return;let n=e.querySelectorAll("[data-navbar] > [data-navbar-item-id]:not(.overflow-menu-button)");if(!n)return;n=Array.prototype.slice.call(n);const r=t.querySelector(".overflow-menu-button");if(n.length<2)return t.style.visibility="visible",void(r&&(r.style.display="none"));const o=C(t);if(!o)return;r&&(r.style.display="inline"),n.forEach(function(e){e.style.display="block",e.classList.remove("last-visible")});const i=function(e,t){const n=e[0],r=e[1],o="rtl"===document.documentElement.getAttribute("dir"),i=Math.floor((o?r:n).getBoundingClientRect().right),a=(Math.floor((o?n:r).getBoundingClientRect().left)-i)/2;let s=[];e&&(s=e.map(function(e,t,n){const r=0===t?0:a,o=t===n.length-1?0:a;return C(e)+r+o}));let l=0;t&&(l=C(t)+a);return{itemWidths:s,overflowMenuButtonWidth:l}}(n,r);let a=o,s=O(a,i.itemWidths);const l=n.length!==s;l&&(a-=i.overflowMenuButtonWidth,s=O(a,i.itemWidths)),u||(u=[]),u.length=0,n.forEach(function(e,t){const r=t>=s;r&&u.push(e);const o=!l&&t===n.length-1;e.style.display=r?"none":"block",e.classList.toggle("last-visible",o)}),r&&(r.style.display=l?"inline":"none"),p(),t.style.visibility="visible"}function P(){A(document.body)}function C(e){return e&&e.offsetWidth||0}function O(e,t){let n=0,r=0;for(;void 0!==t[n]&&r<e;)r+=t[n],n++;return r<e?n:n-1}const L=function(e){("arguments"in e||"active"in e)&&T(document.documentElement)};let I=!1;t.update=function(e){I&&(T(e||document.documentElement),function(e){let t=e.querySelectorAll(f("data-navbar-item-matcher"));t.length&&(t=Array.prototype.slice.call(t)).forEach(function(e){const t=e.getAttribute("data-navbar-item-matcher"),n=e.getAttribute(a);l[t]=n})}(e||document.documentElement),A(e||document.documentElement))},t.attach=function(){I||(I=!0,r(document).delegate("click",f(a),E),window.addEventListener("message",S),o("spotify:application").on("update",L),window.addEventListener("resize",P),i.on("navbar-hide",k))},t.detach=function(){I&&(I=!1,u=null,c=!1,d=!1,r(document).undelegate("click",f(a),E),window.removeEventListener("message",S),o("spotify:application").off("update",L),window.removeEventListener("resize",P),i.off("navbar-hide",k))}}).call(this,n(1))},function(e){e.exports={type:"record",name:"UIInteraction",namespace:"com.spotify.Message",doc:"A UI interaction log",fields:[{name:"message_name",type:"string"},{name:"message_version",type:"int"},{name:"request_id",type:["null","string"],doc:"Request ID from Spaces Log",default:null},{name:"feature_id",type:["null","string"],doc:"A name for a feature (e.g., browse-new-releases, collection, etc.)",default:null},{name:"pageuri",type:["null","string"],doc:"Uri of the page within the feature (e.g., spotify:hub:music, etc.)",default:null},{name:"section_id",type:["null","string"],doc:"Section or block of the page (e.g., Early Morning)",default:null},{name:"item_index",type:["null","int"],doc:"Index of item in block",default:null},{name:"target_uri",type:["null","string"],doc:"Destination of interaction",default:null},{name:"interaction_type",type:["null","string"],doc:"Type of interaction (e.g., hit, swipe, hold, hover, etc.)",default:null},{name:"user_intent",type:["null","string"],doc:"Grouping of interactions based on user intent (e.g., play, navigate-forward, navigate-back)",default:null},{name:"timestamp",type:["null","double"],doc:"Unix timestamp of event",default:null}],schema_version:5}},function(e,t,n){"use strict";(function(e){const r=n(7),o=n(2),i=n(20),a=n(14),s=n(9).default,l=n(4);let u;const c=["a[data-uri]","[data-contextmenu]"].join(","),d=function(e,t,n,r,i){const a=[];return e.forEach(e=>{if(void 0!==e){const n=e.keys||[],r=e.indices||[];let i=t||r[0];i=void 0===i?null:i;const s=e.uri,l={uri:s,keys:n,indices:r,primaryIndex:i},u=e.origin;if(u){if(null!==i){const e=o(s).get("rows"),t=o(u.uri).get("rows");if(e&&t){const n=e.keys[i];u.primaryIndex=t.indexOf(n)}}l.origin=u}a.push(l)}}),{contexts:a,x:r,y:i,uris:n}},f=function(e){const t=e.parents("[data-contextmenu-spy]"),n=r([e,t]);n.addClass("contextmenu-active"),setTimeout(()=>{const e=s.resolver.subscribe({url:"sp://messages/v1/context_menu_state"},function(t,r){t||"hide"!==r.getJSONBody().state||(n.removeClass("contextmenu-active"),e.cancel())})},0)},p=function(t){const n=e.__spotify.app_uri,r="collection"===l.from(n).id;if(t.appURI=n,t.entityURI=o("spotify:application").get("state")?o("spotify:application").get("state").getURI():null,u)u(t.uris,e=>{t.metadata=e,o("spotify:client").emit("show-context-menu",t)});else{t.metadata=[],t.uris.forEach(e=>{const n=!!r||o(e).get("added");void 0!==n&&t.metadata.push({uri:e,added:n})}),o("spotify:client").emit("show-context-menu",t)}},h=function(e,t){e.preventDefault(),e.stopPropagation();const n=e.clientX,r=e.clientY;if(f(t),"a"===t[0].tagName.toLowerCase()){const e=t.data("uri");e&&p({uris:[e],x:n,y:r})}else{const e=t.parent("[data-list]"),o=+t.data("index");let a=!1;const s=i.getIndicesPerList();if(e&&!(a=i.isNodeSelected(t))){i.clear();const t=e.getAttribute("data-uri");t&&i.add(t,o)}const l=a&&-1!==o?i.getUris():[t.data("uri")];p(d(s,o,l,n,r))}},m=function(e,t){let n,i=t.data("uri")||(n=t.parent("[data-uri]"))&&n.data("uri");if(!i)return;i=a.getOriginUri(i)||i;const s=(n=t.parent("[data-list][data-uri]"))&&n.data("uri"),l=(n=t.parent("[data-index]"))&&+n.data("index"),u=r(t[0].closest('[data-button="contextmenu"]')),c=(u||n||t)[0].getBoundingClientRect();let h=c.left+c.width/2,m=c.top+c.height;m>window.innerHeight&&(m=window.innerHeight-1),h>window.innerWidth&&(h=window.innerWidth-1);const g=null===l||void 0===l?null:[l];let y;if(s){if(y={uri:s},g){y.indices=g;const e=o(s).get("rows");y.keys=e?g.map(function(t){return e.keys[t]}):[]}const e=a.getOriginUri(s);if(e&&(y.origin={uri:e},g)){const t=o(s).get("rows"),n=o(e).get("rows");if(t&&n){const e=g.map(function(e){const r=t.keys[e];return n.indexOf(r)}),r=g.map(function(e){return t.keys[e]});y.origin.indices=e,y.origin.keys=r}}}p(d([y],l,[i],h,m)),f(u)};let g=!1;t.attach=function(){g||(g=!0,r(document).delegate("contextmenu",c,h),r(document).delegate("click","[data-button=contextmenu]",m))},t.detach=function(){g&&(g=!1,r(document).undelegate("contextmenu",c,h),r(document).undelegate("click","[data-button=contextmenu]",m))},t.update=function(){},t.setMetadataRequestFunction=((e=null)=>{u=e})}).call(this,n(1))},function(e,t,n){"use strict";const r=n(7),o=n(2),i=n(4),a=n(8),s="added",l={};let u=!1;function c(e){const t=e[0].closest("data-class-added");return t?t.getAttribute("data-class-added"):s}function d(e){const t=e[0].closest("[data-uri]");return t?t.getAttribute("data-uri"):null}const f=function(e,t){const n=r(t[0].closest("[data-uri]"));if(!n)return;let a=n.data("uri");if(!a)return;const s=i.from(a);s&&(s.type===i.Type.COLLECTION_ALBUM?a=i.albumURI(s.id).toURI():s.type===i.Type.COLLECTION_ARTIST&&(a=i.artistURI(s.id).toURI()));const l=c(t),u={added:!n.hasClass(l)};t.addClass("just-changed"),t.on("mouseout",function e(n){n.target===t[0]&&(t.off("mouseout",e),t.removeClass("just-changed"))},!0),o(a).publish(u)},p=function(e,t,n,r){if("added"===t){0===e.setStateForURI(r,n)&&(o(r).off("update",l[r]),delete l[r])}},h={setStateForURI:function(e,t){let n=0;const o=r(document).search("[data-button=add]");if(!o)return n;for(let i=0,a=o.length;i<a;i++){const a=r(o[i]);e===d(a)&&(n++,h.setStateForButtonNode(a,t))}return n},setStateForButtonNode:function(e,t){const n=r(e[0].closest("[data-uri]"));if(!n)return;const o=c(e);h.setVisualState(t,n,e,o)},setVisualState:function(e,t,n,r){if(e){t.hasClass(r)||t.addClass(r);const e=n.data("tooltip-remove");e&&(n.setAttribute("data-tooltip",e),n.setAttribute("aria-label",e)),n.setAttribute("data-log-click","remove-button");const o="toggle-follow-state-button"===n.getAttribute("data-interaction-target")?"unfollow":"remove";n.setAttribute("data-interaction-intent",o)}else{t.hasClass(r)&&t.removeClass(r);const e=n.data("tooltip-add");switch(e&&(n.setAttribute("data-tooltip",e),n.setAttribute("aria-label",e)),n.getAttribute("data-interaction-target")){case"save-remove-button":n.setAttribute("data-interaction-intent","save");break;case"toggle-follow-state-button":n.setAttribute("data-interaction-intent","follow");break;default:n.setAttribute("data-interaction-intent","add")}n.setAttribute("data-log-click","add-button")}},addListenerForNode:function(e){const t=d(e);if(l[t])return void o(t).get("added",function(t,n){if(t)throw t;h.setStateForButtonNode(e,n)},o.ASAP);l[t]=function(e){for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];p(h,n,r,t)}};const n=o(t);n.get("added",function(r,o){if(r)throw r;h.setStateForButtonNode(e,o),n.on("update",l[t])},o.ASAP)}},m=t.update=function(e,t){if(u)if(e&&r(e).matches("[data-button=add]"))h.addListenerForNode(r(e));else{const n=(r(t)||r(e)||r(document)).search("[data-button=add]");if(!n)return;for(let e=0,t=n.length;e<t;e++)h.addListenerForNode(r(n[e]))}},g=function(e){m(e.pageNode,e.nodes)};t._classNames={ADDED:s,JUSTCHANGED:"just-changed"},t.attach=function(){u||(u=!0,r(document).delegate("click","[data-button=add]",f),a.on("scroll-show-before",g))},t.detach=function(){u&&(u=!1,r(document).undelegate("click","[data-button=add]",f),a.off("scroll-show-before",g))}},function(e,t,n){"use strict";const r=n(39),o="spotify:internal:queue:future";function i(e,t,n,r,i){const a=n.getAttribute("data-uri");a&&a===o&&(-1!==i||(e.valid=!1))}t.attach=function(){r.add("list-drop-validation",i)},t.detach=function(){r.remove("list-drop-validation",i)}},function(e,t,n){"use strict";const r=n(7),o=n(4),i=n(2),a=n(28),s=n(39),l=n(38),u=n(20),c="[data-list]",d="[data-list-item]",f="a, [draggable]",p="data-drop-target";let h=null;function m(e,t){if(t.closest("[data-glue-draggable]"))return;h=null;const n=u.getUris();if(n.length>1)return;const r=n[0],i=r&&o.fromString(r);if(i&&i.type===o.Type.FOLDER){const e=u.getNodes();for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n.getAttribute("data-uri")===r){h=n;break}}}}function g(){h=null}function y(e,t,n){if("spotify:rootlist"!==n){let n=0;for(let e=0,r=t.length;e<r&&o.isPlaylistV1OrV2(t[e]);e++){i(t[e]).get("added")&&n++}n===t.length&&e.dataTransfer.setData("text/x-spotify-only-followed-playlists","")}}function v(e,t,n,o){if("spotify:rootlist"===n.getAttribute("data-uri")){if(w(t))return void(e.valid=!1);if(function(e,t){if(h){const n="below"===t?function(){const e=r(c),t=e&&e[e.length-1];if(t){const e=r(t).search(d),n=e&&e[e.length-1];if(n)return n}return null}():x(e);if(n){let r=+n.getAttribute("data-index");if("inside"===t&&(E(e.clientY,n)||r--),function(e){if(!h)return!1;const t=i("spotify:rootlist").get("rows");if(!t)return!1;const n=h.getAttribute("data-uri");if(!n)return!1;const r=+h.getAttribute("data-index"),o=r+T(t,n,r);if(r>-1&&o>r&&e>=r&&e<=o)return!0;return!1}(r))return!0}}return!1}(t,o))return void(e.valid=!1);if(function(e){const t=S(e);if(t)return E(e.clientY,t);return!1}(t)&&("drop"!==t.type||!k(t,n)))return void(e.valid=!1)}}function _(e,t,n){const r=n.closest(c);if(r){if("spotify:rootlist"===r.getAttribute("data-uri")){if(w(t))return void(e.valid=!1);if("dragleave"!==t.type&&k(t,r)){const n=S(t);if(n)return void(E(t.clientY,n)?e.valid=!0:e.valid=!1)}}}}function b(e,t,n){if("spotify:rootlist"===e){const e=n[0],r=t.get(e),i=r&&r.get("playlist"),a=i&&i.uri;if((a&&o.fromString(a).type)===o.Type.FOLDER){if(1===n.length){const r=T(t,a,e);for(let t=1;t<=r;t++)n.push(e+t)}if(1===n.length)return void(n.length=0);const r=t.get(n[n.length-1]),o=r&&r.get("playlist");if((o&&o.uri)!==`${a}:end`)return void(n.length=0)}}}function w(e){return e.dataTransfer.types.indexOf("text/x-spotify-only-followed-playlists")>-1}function E(e,t){const n=t.getBoundingClientRect();return e>=n.top+n.height/2}function k(e,t){const n=e.dataTransfer.types,r=t.getAttribute(p);if(r){if(a(r.split("|"),n).length>0)return!0}return!1}function S(e){const t=x(e);if(t){const e=t.getAttribute("data-uri"),n=o.from(e);if(n&&n.type===o.Type.FOLDER)return t}return null}function x(e){return e.target.closest(d)}function T(e,t,n){let r=e.get(n),o=r&&r.get("playlist"),i=o&&o.uri;if(i!==t)return 0;const a=`${t}:end`;let s=0;for(let t=n+1,l=e.length;t<l&&(s++,(i=(o=(r=e.get(t))&&r.get("playlist"))&&o.uri)!==a);t++);return s}t.attach=function(){l.delegate("dragstart",f,m),l.delegate("dragend","body",g),s.add("set-drag-data",y),s.add("list-drop-validation",v),s.add("target-validation",_),s.add("get-move-indices",b)},t.detach=function(){l.undelegate("dragstart",f,m),l.undelegate("dragend","body",g),s.remove("set-drag-data",y),s.remove("list-drop-validation",v),s.remove("target-validation",_),s.remove("get-move-indices",b)}},function(e,t,n){"use strict";const r=n(4),o=n(29),i=n(39),a=n(38),s=n(20),l="a, [draggable]";let u=null;function c(e,t){t.closest("[data-glue-draggable]")||(u=s.getIndicesPerList())}function d(){u=null}function f(e,t,n){const r=n.getAttribute("data-uri");r&&o.isValid(r)&&"drop"!==t.type&&(e.valid=!1)}function p(e,t){const n=t.getAttribute("data-uri");n&&o.isValid(n)&&(u?1===u.length&&u[0].uri!==n&&(e.valid=!0):e.valid=!0)}function h(e,t,n){if(o.isValid(n)){const t=o.getOriginUri(n);r.isPlaylistV1OrV2(t)&&(e.valid=!0)}}t.attach=function(){a.delegate("dragstart",l,c),a.delegate("dragend","body",d),i.add("list-drop-validation",f),i.add("list-target-validation",p),i.add("is-list-of-tracks",h)},t.detach=function(){a.undelegate("dragstart",l,c),a.undelegate("dragend","body",d),i.remove("list-drop-validation",f),i.remove("list-target-validation",p),i.remove("is-list-of-tracks",h)}},function(e,t,n){"use strict";const r=n(7),o=n(28),i=n(18),a=n(2),s=n(4),l=n(99),u=n(39),c=n(38),d=n(20),f="[data-list]",p="[data-list-item]",h="[data-drop-target], body",m="a, [draggable]",g="data-drop-target";let y=null,v=null;const _={},b=function(){let e={lastTime:0,lastValue:null};return{get:function(){const t=Date.now();return t-e.lastTime>500&&(e={lastValue:d.getIndicesPerList(),lastTime:t}),e.lastValue},clear:function(){e.lastTime=0}}}();function w(e,t){if(t.closest("[data-glue-draggable]"))return;v=null,b.clear();const n=function(e){let t=e.target;for(;t;){if(N(e,t))return t;t=t.parentElement}return null}(e);if(n){if(r(n).matches(f)){const r=n.getAttribute("data-uri");if("a"===t.tagName.toLowerCase()&&(v=r),_[r])return void e.preventDefault();const o=L(e);if(o){const t=M(e.clientY,o);-1!==t&&e.dataTransfer.setData("text/x-spotify-data-log-source-index",t)}}}}function E(e,t){let n=!1,r=null;const o=t===document.body;let i=null;if(i=o?O(e):C(e)){const t=o?"below":"inside";let a=-1;(r="below"===t?I():L(e))&&(a=M(e.clientY,r)),P(e,i,i.getAttribute("data-uri"),t,a)&&(o?n=!0:r&&(n=!0))}if(n)e.preventDefault(),o?function(e){const t=e.getBoundingClientRect();T(t.left,t.bottom,t.width)}(i):r&&function(e,t){const n=F(t,e),r=e.getBoundingClientRect(),o=r.left,i=r.top+(n?r.height:0);T(o,i,r.width)}(r,e.clientY);else{A();const n={valid:!1};if(i&&u.run("list-target-validation",n,i),n.valid)e.preventDefault();else if(!o&&i){const n={valid:!1};u.run("target-validation",n,e,t),n.valid||(e.dataTransfer.dropEffect="none")}}}function k(){A()}function S(){A(),v=null}function x(e,t){A();const n=t===document.body;let r=null;if(r=n?O(e):C(e)){const t=n?"below":"inside";let i=-1;const c="below"===t?I():L(e);c&&(i=M(e.clientY,c));const f=r.getAttribute("data-uri");P(e,r,f,t,i)&&f&&(!function(e,t,n,r){const i=a(n).get("rows");if(!i)return;let c=0;if("below"===r){const t=I();t&&(c=M(e.clientY,t))}else{const t=L(e);if(!t)return;c=M(e.clientY,t)}const f=e.dataTransfer.getData("text/x-spotify-data-context");f&&f===n?function(e,t,n){const r=function(e,t){const n=d.getIndicesPerList();if(1!==n.length)return[];const r=n[0].indices.slice();return 0===r.length?[]:(u.run("get-move-indices",e,t,r),r.sort(function(e,t){return e-t}),r)}(e,t);if(0===r.length)return;const o=l.getMoveOperations(r,n);if(0===o.length)return;t.publish(o),j(e,t)}(n,i,c):function(e,t,n,r,i){!function(e,t,n,r,i){const a=e.dataTransfer.types,l=t.getAttribute(g);if(!l)return void i(null,[]);const c=o(l.split("|"),a);if(0===c.length)return void i(null,[]);const d=function(e,t){const n={};for(let r=0,o=t.length;r<o;r++){const o=t[r],i=n[o]=[],a=0===o.indexOf("text/x-spotify"),l=e.dataTransfer.getData(o),u=a?l.split("\n"):[l];for(let e=0,t=u.length;e<t;e++){const t=u[e];if(a){const e=s.from(t);e&&i.push(e.toURI())}else i.push(t)}}return n}(e,c),f=function(e,t){if(s.isPlaylistV1OrV2(t))return!0;const n={valid:!1};if(u.run("is-list-of-tracks",n,e,t),!n.valid){const t=e.get(0),n=t&&t.get("track");if(n)return!0}return!!n.valid}(n,r);!function(e,t,n){const r=[];e["text/x-spotify-tracks"]&&r.push(D("track",e["text/x-spotify-tracks"]));if(e["text/x-spotify-albums"]){const n=e["text/x-spotify-albums"];t?r.push(U(n)):r.push(D("album",n))}if(e["text/x-spotify-playlists"]){const n=e["text/x-spotify-playlists"];t?r.push(U(n)):r.push(D("playlist",n))}e["text/x-spotify-artists"]&&r.push(D("artist",e["text/x-spotify-artists"]));e["text/x-spotify-users"]&&r.push(D("user",e["text/x-spotify-users"]));Promise.all(r).then(function(e){let t=[];t=t.concat.apply(t,e),n(null,t)},function(e){n(e)})}(d,f,function(e,t){e?i(e):i(null,t)})}(e,t,r,n,function(e,t){if(e)return;if(0===t.length)return;const o=[{type:"insert",index:i,values:t}];r.publish(o),j(n,r)})}(e,t,n,i,c);e.data={targetIndex:c}}(e,r,f,t),e.handled=!0)}}function T(e,t,n){const r=window.pageXOffset+e,o=window.pageYOffset+t,i=n;y||((y=document.createElement("div")).className="tr-drag-indicator"),y.style.left=`${r}px`,y.style.width=`${i}px`,y.style.top=`${o}px`,y.parentNode||document.body.appendChild(y)}function A(){y&&y.parentNode&&y.parentNode.removeChild(y)}function P(e,t,n,r,o){const a=e.dataTransfer.types,s=`text/x-spotify-data-context-${n}`.toLowerCase();if(a.includes(s)&&!function(e,t,n){const r=b.get();if(1===r.length){const o=t.getAttribute("data-uri");if(o!==r[0].uri)return!0;const a=i.fromIndices(r[0].indicesWithHidden);if(1===a.length){const t=a[0];t.update(t.start,t.end+1);const r="below"===n?I():L(e);if(r){const n=M(e.clientY,r);if(n>-1){const e=new i(n,n+1);if(e.contained(t))return!1}}}}return!0}(e,t,r))return!1;const l=t.getAttribute("data-uri");if(l&&v===l)return!1;const c={valid:!0};return u.run("list-drop-validation",c,e,t,r,o),!!c.valid}function C(e){let t=e.target;for(;t;){if(r(t).matches(f)&&N(e,t))return t;t=t.parentElement}return null}function O(e){const t=R();if(t){if(e.target.contains(t)&&N(e,t)&&function(e,t,n){const r=n.getBoundingClientRect(),o=t>=r.bottom,i=e>=r.left&&e<=r.right;return o&&i}(e.clientX,e.clientY,t))return t}return null}function L(e){return e.target.closest(p)}function I(){const e=R();if(e){const t=r(e).search(p),n=t&&t[t.length-1];if(n)return n}return null}function R(){const e=document.querySelectorAll(f);return e&&e[e.length-1]||null}function M(e,t){let n=t.getAttribute("data-index");return null===n?n=-1:(n=parseInt(n,10),isNaN(n)?n=-1:F(e,t)&&n++),n}function U(e){const t=e.map(function(e){return new Promise(function(t,n){a(e).query("rows(track(uri))",function(e,r){if(e)return void n(e);const o=r.rows.map(function(e){return a(e)});t(o)},a.ASAP)})});return Promise.all(t).then(function(e){let t=[];return t=t.concat.apply(t,e)})}function D(e,t){return t.map(function(t){const n={};return n[e]={uri:t},a(n)})}function F(e,t){const n=t.getBoundingClientRect();return e>=n.top+n.height/2}function N(e,t){const n=e.dataTransfer.types,r=t.getAttribute(g);if(r){if(o(r.split("|"),n).length>0)return!0}return!1}function j(e,t){_[e]=!0;const n=function(r){return()=>{clearTimeout(r),t.off("update",n),setTimeout(function(){delete _[e]},100)}},r=setTimeout(()=>{n(r)},500);t.on("update",n(r))}t.attach=function(){c.delegate("dragstart",m,w),c.delegate("dragover",h,E),c.delegate("dragleave",h,k),c.delegate("dragend","body",S),c.delegate("drop",h,x)},t.detach=function(){c.undelegate("dragstart",m,w),c.undelegate("dragover",h,E),c.undelegate("dragleave",h,k),c.undelegate("dragend","body",S),c.undelegate("drop",h,x)}},function(e){e.exports={type:"record",name:"UserDragAndDropInteraction",namespace:"com.spotify.Message",doc:"Logged whenever a user drags and drops (currently desktop only) an item in the client. Only completed drag and drops are logged and not canceled/failed ones.",fields:[{name:"message_name",type:"string"},{name:"message_version",type:"int"},{name:"item_type",type:["null","string"],doc:'Type of item, eg "track".',default:null},{name:"item_uri",type:["null","string"],doc:"Uri of item that was dropped and only the first if multiple.",default:null},{name:"number_items",type:["null","long"],doc:"Number of items dropped.",default:null},{name:"source_view_uri",type:["null","string"],doc:'View uri from where the drag started, eg "spotify:app:playlist".',default:null},{name:"source_uri",type:["null","string"],doc:'Uri of the context from where the drag started, eg: "spotify:user:spotify:playlist:1m6DKwKNM1YLcm3OX6RzJg".',default:null},{name:"source_index",type:["null","long"],doc:"Index of the item from where the drag started.",default:null},{name:"source_component",type:["null","string"],doc:'Id of the component from where the drag started, eg: "header/title" if the user dragged a playlist via the playlist title in the header.',default:null},{name:"target_view_uri",type:["null","string"],doc:'View uri where the drop ended, eg "spotify:app:zlink".',default:null},{name:"target_uri",type:["null","string"],doc:'Uri of the context where the drop ended, "spotify:user:spotify:rootlist".',default:null},{name:"target_index",type:["null","long"],doc:"Index where dropped.",default:null},{name:"target_component",type:["null","string"],doc:'Id of the component where the drop ended, eg: "player/queue" if dropped on the Queue button in the player component.',default:null},{name:"ms_duration",type:["null","long"],doc:"The duration in milliseconds from the start of the drag until the end of the drop.",default:null}],schema_version:1}},function(e,t,n){"use strict";const r=n(435),o=n(33);e.exports={schema:r,log:o.bind(null,r)}},function(e,t,n){"use strict";(function(e){const r=n(7),o=n(4),i=n(31),a=n(8),s=n(38),l=n(39),u=n(155),c=n(436),d="[data-drop-target]",f="a, [draggable]",p="data-drop-target",h="data-drop-target-include-text",m="data-drop-no-classname",g="drop-target-active",y="text/plain";let v=0,_=1e3,b=null,w=null;function E(e,t){t.closest("[data-glue-draggable]")||(b=t,w=null)}function k(){b=null,w=null,L(),I()}function S(e,t){O(e,t)&&P(e,t)}function x(e,t){O(e,t)&&C(e,t)}function T(e,t){O(e,t)?(e.preventDefault(),e.dataTransfer.dropEffect="copy",P(e,t)):C(e,t)}function A(t,n){if(L(),I(),O(t,n)){const r=R(t,n),s=function(e,t){const n={};for(let r=0,i=t.length;r<i;r++){const i=n[t[r]]=[],a=e.dataTransfer.getData(t[r]),s=0===t[r].indexOf("text/x-spotify"),l=s?a.split("\n"):[a];for(let e=0,t=l.length;e<t;e++){let t=l[e];if(s){const e=o.from(t);e&&(t=e.toURI())}t&&i.push(t)}}t.indexOf("text/x-spotify-data-context")>-1&&(n["text/x-spotify-data-context"]=[e.dataTransfer.getData("text/x-spotify-data-context")]);return n}(t,r),l=t.dataTransfer.getData("text/x-spotify-data-context")||null,d=t.dataTransfer.getData("text/x-spotify-data-log-context")||null,f=t.dataTransfer.getData("text/x-spotify-data-app-uri")||null;let p=parseInt(t.dataTransfer.getData("text/x-spotify-data-log-source-index"),0);isNaN(p)&&(p=null);const h=n.closest("[data-uri]"),m=h&&h.getAttribute("data-uri")||null,g=u(n),y=e.__spotify&&e.__spotify.app_uri||null;i.immediate(function(){a.emit("drop",{handled:t.handled,node:n,sourceUri:l,targetUri:m,data:s});const e=s[Object.keys(s)[0]][0],r=o.from(e).type,i=Object.keys(s).reduce(function(e,t){return e+s[t].length},0),u=t.data&&t.data.targetIndex||null;c.log({item_type:r,item_uri:e,number_items:i,source_view_uri:f,source_uri:l,source_index:p,source_component:d,target_view_uri:y,target_uri:m,target_index:u,target_component:g})})}t.preventDefault(),w=null}function P(e,t){if(t===w)return;w=t,t.hasAttribute(m)||r(t).addClass(g);const n=R(e,t);a.emit("dragenter",{node:t,types:n}),function(e,t){if(v)return;v=setTimeout(function(){a.emit("dragover-long",{node:e,types:t})},_)}(t,n)}function C(e,t){if(t!==w)return;w=null,t.hasAttribute(m)||r(t).removeClass(g);const n=R(e,t);a.emit("dragleave",{node:t,types:n}),L()}function O(e,t){if(t===b)return!1;if(R(e,t).length){const n={valid:!0};if(l.run("target-validation",n,e,t),n.valid)return!0}return!1}function L(){clearTimeout(v),v=0}function I(){const e=r(`.${g}`);e&&e.removeClass(g)}function R(e,t){const n=[],r=e.dataTransfer.types;let o=t.getAttribute(p);const i=t.hasAttribute(h);if(o){o=o.split("|");for(let e=0,t=r.length;e<t;e++){const t=r[e];o.indexOf(t)>-1&&n.push(t)}i&&n.length&&-1===n.indexOf(y)&&n.push(y)}return n}t.attach=function(){s.delegate("dragstart",f,E),s.delegate("dragenter",d,S),s.delegate("dragleave",d,x),s.delegate("dragover",d,T),s.delegate("dragend","body",k),s.delegate("drop",d,A)},t.detach=function(){s.undelegate("dragstart",f,E),s.undelegate("dragenter",d,S),s.undelegate("dragleave",d,x),s.undelegate("dragover",d,T),s.undelegate("dragend","body",k),s.undelegate("drop",d,A)};const M=_;t.setLongHoldDuration=function(e){_=e},t.resetLongHoldDuration=function(){_=M}}).call(this,n(1))},function(e){e.exports={drag_tooltip_many_items:{one:"1 item",other:"{0} item"},drag_tooltip_many_tracks:{one:"1 lagu",other:"{0} lagu"},drag_tooltip_many_artists:{one:"1 artis",other:"{0} artis"},drag_tooltip_many_albums:{one:"1 album",other:"{0} album"},drag_tooltip_many_playlists:{one:"1 senarai main",other:"{0} senarai main"},drag_tooltip_many_users:{one:"1 pengguna",other:"{0} pengguna"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 ",other:"{0} "},drag_tooltip_many_tracks:{one:"1 ",other:"{0} "},drag_tooltip_many_artists:{one:"1 ",other:"{0} "},drag_tooltip_many_albums:{one:"1 ",other:"{0} "},drag_tooltip_many_playlists:{one:"1 ",other:"{0} "},drag_tooltip_many_users:{one:"1 ",other:"{0} "}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 mc",other:"{0} mc"},drag_tooltip_many_tracks:{one:"1 bn nhc",other:"{0} bn nhc"},drag_tooltip_many_artists:{one:"1 ngh s",other:"{0} ngh s"},drag_tooltip_many_albums:{one:"1 album",other:"{0} album"},drag_tooltip_many_playlists:{one:"1 playlist",other:"{0} playlist"},drag_tooltip_many_users:{one:"1 ngi dng",other:"{0} ngi dng"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 ge",other:"{0} ge"},drag_tooltip_many_tracks:{one:"1 para",other:"{0} para"},drag_tooltip_many_artists:{one:"1 sanat",other:"{0} sanat"},drag_tooltip_many_albums:{one:"1 albm",other:"{0} albm"},drag_tooltip_many_playlists:{one:"1 alma listesi",other:"{0} alma listesi"},drag_tooltip_many_users:{one:"1 kullanc",other:"{0} kullanc"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 ",other:"{0} "},drag_tooltip_many_tracks:{one:"1 ",other:"{0} "},drag_tooltip_many_artists:{one:" 1 ",other:" {0} "},drag_tooltip_many_albums:{one:"1 ",other:"{0} "},drag_tooltip_many_playlists:{one:"1 ",other:"{0} "},drag_tooltip_many_users:{one:" 1 ",other:" {0} "}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 objekt",other:"{0} objekt"},drag_tooltip_many_tracks:{one:"Ett spr",other:"{0} spr"},drag_tooltip_many_artists:{one:"1 artist",other:"{0} artister"},drag_tooltip_many_albums:{one:"1 album",other:"{0} album"},drag_tooltip_many_playlists:{one:"1 spellista",other:"{0} spellistor"},drag_tooltip_many_users:{one:"1 anvndare",other:"{0} anvndare"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 item",other:"{0} itens"},drag_tooltip_many_tracks:{one:"1 faixa",other:"{0} faixas"},drag_tooltip_many_artists:{one:"1 artista",other:"{0} artistas"},drag_tooltip_many_albums:{one:"1 lbum",other:"{0} lbuns"},drag_tooltip_many_playlists:{one:"1 playlist",other:"{0} playlists"},drag_tooltip_many_users:{one:"1 usurio",other:"{0} usurios"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 element",other:"Elementy: {0}"},drag_tooltip_many_tracks:{one:"1utwr",other:"Liczba utworw: {0}"},drag_tooltip_many_artists:{one:"1 wykonawca",other:"Wykonawcy: {0}"},drag_tooltip_many_albums:{one:"1 album",other:"Albumy: {0}"},drag_tooltip_many_playlists:{one:"1 playlista",other:"{0} playlisty"},drag_tooltip_many_users:{one:"1 uytkownik",other:"Uytkownicy: {0}"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 item",other:"{0} items"},drag_tooltip_many_tracks:{one:"1 nummer",other:"{0} nummers"},drag_tooltip_many_artists:{one:"1 artist",other:"{0} artiesten"},drag_tooltip_many_albums:{one:"1 album",other:"{0} albums"},drag_tooltip_many_playlists:{one:"1 afspeellijst",other:"{0} afspeellijsten"},drag_tooltip_many_users:{one:"1 gebruiker",other:"{0} gebruikers"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1",other:"{0}"},drag_tooltip_many_tracks:{one:"1",other:"{0}"},drag_tooltip_many_artists:{one:"1",other:"{0}"},drag_tooltip_many_albums:{one:"1",other:"{0}"},drag_tooltip_many_playlists:{one:"1",other:"{0}"},drag_tooltip_many_users:{one:"1",other:"{0}"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 elemento",other:"{0} elementi"},drag_tooltip_many_tracks:{one:"1 brano",other:"{0} brani"},drag_tooltip_many_artists:{one:"1 artista",other:"{0} artisti"},drag_tooltip_many_albums:{one:"1 album",other:"{0} album"},drag_tooltip_many_playlists:{one:"1 playlist",other:"{0} playlist"},drag_tooltip_many_users:{one:"1 utente",other:"{0} utenti"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 item",other:"{0} item"},drag_tooltip_many_tracks:{one:"1 lagu",other:"{0} lagu"},drag_tooltip_many_artists:{one:"1 artis",other:"{0} artis"},drag_tooltip_many_albums:{one:"1 album",other:"{0} album"},drag_tooltip_many_playlists:{one:"1 playlist",other:"{0} playlist"},drag_tooltip_many_users:{one:"1 pengguna",other:"{0} pengguna"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 elem",other:"{0} elem"},drag_tooltip_many_tracks:{one:"1 dal",other:" {0} dal"},drag_tooltip_many_artists:{one:"1 elad",other:"{0} elad"},drag_tooltip_many_albums:{one:"1 album",other:"{0} album"},drag_tooltip_many_playlists:{one:"1 msorlista",other:"{0} lejtszsi lista"},drag_tooltip_many_users:{one:"1 felhasznl",other:"{0} felhasznl"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1article",other:"{0}articles"},drag_tooltip_many_tracks:{one:"1chanson",other:"{0}chansons"},drag_tooltip_many_artists:{one:"1artiste",other:"{0}artistes"},drag_tooltip_many_albums:{one:"1album",other:"{0}albums"},drag_tooltip_many_playlists:{one:"1liste de lecture",other:"{0} listes de lecture"},drag_tooltip_many_users:{one:"1utilisateur",other:"{0}utilisateur"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1lment",other:"{0}lments"},drag_tooltip_many_tracks:{one:"1titre",other:"{0} titres"},drag_tooltip_many_artists:{one:"1artiste",other:"{0}artistes"},drag_tooltip_many_albums:{one:"1album",other:"{0}albums"},drag_tooltip_many_playlists:{one:"1playlist",other:"{0} playlists"},drag_tooltip_many_users:{one:"1utilisateur",other:"{0}utilisateurs"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 kohde",other:"{0} kohdetta"},drag_tooltip_many_tracks:{one:"1kappale",other:"{0}kappaletta"},drag_tooltip_many_artists:{one:"1 artisti",other:"{0} artistia"},drag_tooltip_many_albums:{one:"1 albumi",other:"{0} albumia"},drag_tooltip_many_playlists:{one:"1 soittolista",other:"{0} soittolistaa"},drag_tooltip_many_users:{one:"1 kyttj",other:"{0} kyttj"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 elemento",other:"{0} elementos"},drag_tooltip_many_tracks:{one:"1 cancin",other:"{0} canciones"},drag_tooltip_many_artists:{one:"1 artista",other:"{0} artistas"},drag_tooltip_many_albums:{one:"1 lbum",other:"{0} lbumes"},drag_tooltip_many_playlists:{one:"1 playlist",other:"Playlists de {0}"},drag_tooltip_many_users:{one:"1 usuario",other:"{0} usuarios"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 elemento",other:"{0} elementos"},drag_tooltip_many_tracks:{one:"1 cancin",other:"{0} canciones"},drag_tooltip_many_artists:{one:"1 artista",other:"{0} artistas"},drag_tooltip_many_albums:{one:"1 lbum",other:"{0} lbumes"},drag_tooltip_many_playlists:{one:"1 playlist",other:"{0} playlists"},drag_tooltip_many_users:{one:"1 usuario",other:"{0} usuarios"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 item",other:"{0} items"},drag_tooltip_many_tracks:{one:"1 track",other:"{0} tracks"},drag_tooltip_many_artists:{one:"1 artist",other:"{0} artists"},drag_tooltip_many_albums:{one:"1 album",other:"{0} albums"},drag_tooltip_many_playlists:{one:"1 playlist",other:"{0} playlists"},drag_tooltip_many_users:{one:"1 user",other:"{0} users"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 ",other:"{0} "},drag_tooltip_many_tracks:{one:"1 ",other:"{0} "},drag_tooltip_many_artists:{one:"1 ",other:"{0} "},drag_tooltip_many_albums:{one:"1 ",other:"{0} "},drag_tooltip_many_playlists:{one:"1 playlist",other:"{0} "},drag_tooltip_many_users:{one:"1 ",other:"{0} "}}},function(e){e.exports={drag_tooltip_many_items:{one:"1Element",other:"{0}Elemente"},drag_tooltip_many_tracks:{one:"1 Titel",other:"{0} Titel"},drag_tooltip_many_artists:{one:"1Knstler",other:"{0}Knstler"},drag_tooltip_many_albums:{one:"1Album",other:"{0}Alben"},drag_tooltip_many_playlists:{one:"1Playlist",other:"{0} Playlists"},drag_tooltip_many_users:{one:"1User",other:"{0}User"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1poloka",other:"Poet poloek: {0}"},drag_tooltip_many_tracks:{one:"1skladba",other:"Poet skladeb: {0}"},drag_tooltip_many_artists:{one:"1umlec",other:"Poet umlc: {0}"},drag_tooltip_many_albums:{one:"1album",other:"Poet alb: {0}"},drag_tooltip_many_playlists:{one:"1playlist",other:"{0} playlist"},drag_tooltip_many_users:{one:"1uivatel",other:"Poet uivatel: {0}"}}},function(e){e.exports={drag_tooltip_many_items:{one:"1 ",other:"{0} "},drag_tooltip_many_tracks:{one:" ",other:"{0} "},drag_tooltip_many_artists:{one:"1 ",other:"{0} "},drag_tooltip_many_albums:{one:"1 ",other:"{0} "},drag_tooltip_many_playlists:{one:"1  ",other:"{0}  "},drag_tooltip_many_users:{one:"1 ",other:"{0} "}}},function(e,t,n){"use strict";const r=n(188)({ar:n(460),cs:n(459),de:n(458),el:n(457),en:n(456),es:n(455),"es-419":n(454),fi:n(453),fr:n(452),"fr-CA":n(451),hu:n(450),id:n(449),it:n(448),ja:n(447),nl:n(446),pl:n(445),"pt-BR":n(444),sv:n(443),th:n(442),tr:n(441),vi:n(440),"zh-Hant":n(439),ms:n(438)});e.exports=r},function(e,t,n){"use strict";const r=n(4),o=n(31),i=n(20),a=n(38),s=n(156),l=n(461),u="a, [draggable]",c=-10,d=-5;let f=null,p=null;function h(e,t){if(t.closest("[data-glue-draggable]"))return;let n="";if(i.isNodeSelected(t)){const e=i.getUris();n=1===e.length?s.getForUri(e[0]):function(e){let t="item";const n=r.from(e[0]),o=n&&n.type;if(o){t=o;for(let n=0,i=e.length;n<i;n++){const i=r.from(e[n]);if(!i||i.type!==o){t="item";break}}}"profile"===t&&(t="user");const i=`${t}s`;let a=l.get(`drag_tooltip_many_${i}`,e.length);a===`drag_tooltip_many_${i}`&&"items"!==i&&(a=l.get("drag_tooltip_many_items",e.length));return a||i}(e)}else n=s.getForElement(t);const a=function(e){f||((f=document.createElement("div")).className="dnd-image");p||((p=document.createElement("div")).className="dnd-image-shelter");return f.textContent=e,document.body.appendChild(f),document.body.appendChild(p),f}(n);e.dataTransfer.setDragImage(a,c,d),function(){o.immediate(function(){f&&f.parentNode&&f.parentNode.removeChild(f),p&&p.parentNode&&p.parentNode.removeChild(p)})}()}t.attach=function(){a.delegate("dragstart",u,h)},t.detach=function(){a.undelegate("dragstart",u,h)}},function(e,t,n){"use strict";(function(e){const r=n(7),o=n(28),i=n(2),a=n(4),s=n(8),l=n(20),u=n(101),c=n(157),d=n(52),f=n(66),p=n(65),h=n(51);let m=!1,g=null;const y={},v=[],_="[data-list-item]",b="sp://desktop/v1/clipboard";function w(e){return e.target===document.documentElement}function E(e){return e.target!==document&&e.target.closest(_)}function k(e){return e!==document&&!!e.closest("[data-filter]")}function S(e,t){if(w(e))return;m=!1;const n=E(e);if(t){if(e.target!==g)return void(g=null);g=null}else g=e.target;n?function(e,t,n){const r=1===P(e),o=f.getFromNode(t);if(!o)return;const i=u.isSelected(o);let a=C()?e.metaKey:e.ctrlKey,s=e.shiftKey||a,l=!e.shiftKey;O()||(a=s=!1,l=!0);if(s&&l&&i&&r){if(!n)return;!function(e){const t=u.getOrigin(),n=u.getFocus();let r=f.getDirection(t,n);r||(r=1);const o=e.isSame(t),i=e.isSame(n);let a,s;(o||i)&&(a=I(e,"up"),s=I(e,"down"));o&&u.setOrigin(1===r?s||a:a||s);e.isSame(n)&&u.setFocus(1===r?a||s:s||a);u.remove(e)}(o)}else if(l){if(r&&i&&!n)return;if(s&&!n)return;!function(e,t){const n=u.getOrigin(),r=P(t),o=1===r,i=2===r,a=u.isSelected(e);let s=C()?t.metaKey:t.ctrlKey,l=t.shiftKey||s;O()||(s=l=!1);(!l&&o||!a&&i)&&u.clear();let c;if(u.add(e),u.setFocus(e,{isTouch:L(t)}),n&&!n.isSame(e)){const t=f.getClosest(e,"down");if(!(c=t&&u.isSelected(t))){const t=f.getClosest(e,"up");c=t&&u.isSelected(t)}}c||u.setOrigin(e)}(o,e)}else{if(n)return;!function(e){let t=u.getOrigin();const n=u.getFocus();t&&n&&!t.isSame(n)&&u.remove(t,n);t||(t=new p(0,0),u.setOrigin(t));u.add(t,e),u.setFocus(e)}(o)}c.update()}(e,n,t):function(e){const t=e.target!==document&&!!e.target.closest("[data-sort]"),n=k(e.target),r=u.hasSelection();t||n||!r||(u.clear(),c.update())}(e)}function x(e,t,n){const i=r(`[data-uri=${e}]`),a=o(d.elements,i);let s=t;if(!a||a.length<1)return;const l=r(a[0]);let h=l&&d.elements.indexOf(l[0]);if(l&&l.matches("[data-context]")){const e=f.getPositionFromGlobalIndex(s);h=e.containerIndex,s=e.index}else if(-1===h)return void console.warn("No container matching this uri was found or selection doesn't know about the container. Possibly you need to run events.update.");O()||u.clear();const m=new p(h,s);u.getOrigin()||u.setOrigin(m),u.setFocus(m),u.add(m),c.update(),!0!==n&&R(m)}function T(){h.put({url:b,body:A().map(e=>{const t=a.from(e);return t&&t.toOpenURL()}).filter(Boolean).join("\n")})}function A(){const e=u.selections,t=[];let n;const r=e=>!!n[e];for(let o=0;o<e.length;o++){if(!(n=e[o]))continue;let i;const a=d.getLiveList(o);if(!a)continue;const s=a.keys.filter(r);for(let e=0,n=s.length;e<n;e++){const n=a.valueOf(s[e]);n&&((i=n.get("track"))||(i=n.get("playlist")),i||(i=n.get("album")),i||(i=n.get("artist")),i||(i=n.get("user")),i||(i=n),t.push(i.get("uri")))}}return t}function P(e){if(L(e))return 1;switch(e.button){case 0:return 1;case 2:return 2;case 1:return 3;default:return 0}}function C(){if(!e.window)return!1;if(!e.window.navigator)return!1;return(e.window.navigator.userAgent||"").indexOf("Mac")>-1}function O(){return null===r("body").data("multi-select-disabled")&&(!!e.window&&!!e.window._getSpotifyModule)}function L(e){return!!e.changedTouches}function I(e,t){let n=e;for(;n;)if((n=f.getClosest(n,t))&&u.isSelected(n))return n;return null}function R(e){const t=d.elements[e.containerIndex],n=t&&t.querySelector("[data-scroll-container]");if(n)s.emit("scroll-to-index",n,e.index);else{const t=f.getNodeFromPosition(e);if(!t)return;const n=t.getBoundingClientRect().top;(n<0||n>=window.innerHeight)&&t.scrollIntoView(n<0)}}function M(e){return function(t){const n=d.getUris().indexOf(e);if(n>-1){for(let e=0,r=t.length;e<r;e++){if("remove"===t[e].type){u.updateContainer(n);break}}c.update()}}}t.handleMouseDown=S,t.handleMouseUp=function(e){w(e)||S(e,!0)},t.handleKeyDown=function(e){if(k(e.target))return;m=!0;const t=38===e.keyCode,n=40===e.keyCode;if(!function(){return null===r("body").data("keyboard-select-disabled")}())return;if(!t&&!n)return;const o=u.getOrigin(),i=u.getFocus();let a=i;do{a=a&&f.getClosest(a,n?"down":"up")}while(a&&u.isPositionHidden(a));if((t||n)&&!e.metaKey&&!e.ctrlKey&&a){if(e.shiftKey&&O()&&o&&i){const e=n?1:-1,t=f.getDirection(o,i);0===t||e===t?(u.add(a),R(a)):u.remove(i)}else u.clear(),u.add(a),u.setOrigin(a),R(a),e.preventDefault();u.setFocus(a)}c.update()},t.handleFocus=function(e){if(!m)return;const t=E(e);t?function(e,t){const n=f.getFromNode(t);n&&!u.isSelected(n)&&(u.clear(),u.add(n),u.setFocus(n),u.setOrigin(n),c.update())}(0,t):function(e){k(e.target)||(u.clear(),c.update())}(e),m=!1},t.handleScrollShowAfter=function(e){const t=e.pageNode&&e.pageNode[0];c.update(t)},t.handleSetHidden=function(e){u.setHiddenIndices(e.indices,e.uri)},t.handleAddByUri=x,t.handleSelectAll=function(){if(!O())return;u.clear();const e=new p(0,0);u.setOrigin(e);const t=f.getLastPositionForSelectAll();u.setFocus(t),u.add(e,t),c.update()},t.handleCopy=T,t.handleCopyAdvanced=function(){h.put({url:b,body:A().filter(Boolean).join("\n")})},t.handleCut=function(){T(),h.post({url:"sp://messages/v1/container/control",body:{type:"delete"}})},t.handleGetUris=A,t.updateListListeners=function(){const e=d.getUris();for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n&&-1===v.indexOf(n)){const e=i(n).get("rows");if(e){const t=M(n);e.on("update",t),y[n]=t,v.push(n)}}}},t.resetListListeners=function(){for(let e=0,t=v.length;e<t;e++){const n=v[e],r=y[n],o=i(n).get("rows");o&&r&&(o.off("update",r),delete y[n],v.splice(e,1),e--,t--)}},t.handleListSwap=function(e){const t=i(e.before).get("rows");if(!t)return;const n=l.getIndicesPerList().filter(function(t){return t.uri===e.before})[0];let r=[];n&&(r=n.indices.map(function(e){return t.keys[e]})),s.on("scroll-reset",function t(){s.off("scroll-reset",t),i(e.after).get("rows",function(t,n){r.forEach(function(t){const r=n.keys.indexOf(t);-1!==r&&x(e.after,r,!0)})},i.ASAP)})}}).call(this,n(1))},function(e,t,n){"use strict";(function(e){const r=n(4),o=n(20),i=n(39),a=n(38),s=n(156),l=n(155),u="a, [draggable]";function c(e,t){if(t.closest("[data-glue-draggable]"))return;if(o.isNodeSelected(t)){const n=o.getUris();if(n.length>0){const r=o.getIndicesPerList(),i=1===r.length?r[0]&&r[0].uri:null;d(e,n,null,i||null,l(t))}}else{let n=t.getAttribute("data-uri");if(!n){const e=r.from(t.getAttribute("href"));n=e?e.toURI():""}const o=s.getForElement(t);n&&d(e,[n],[o],null,l(t))}}function d(t,n,r,o,a){const l=function(e){const t={};for(let n=0,r=e.length;n<r;n++){const r=e[n],o=p(r),i=t[o]||(t[o]=[]);i.push(f(r))}return t}(n),u=function(e){const t=new Array(e.length);for(let n=0,r=e.length;n<r;n++)t[n]=f(e[n]);return t}(n),c=u.join("\n"),d=function(e,t,n){let r="";for(let o=0,i=e.length;o<i;o++){const i=n&&n[o],a=i||s.getForUri(e[o]);r+=`<a href="${t[o]}">${a}</a>`,o<e.length-1&&(r+="<br>")}return r}(n,u,r);t.dataTransfer.setData("text/uri-list",c);for(const e in l){if(!l.hasOwnProperty(e))continue;const n=l[e];t.dataTransfer.setData(e,n.join("\n"))}t.dataTransfer.setData("text/plain",c),t.dataTransfer.setData("text/html",d),o&&(t.dataTransfer.setData("text/x-spotify-data-context",o),t.dataTransfer.setData(`text/x-spotify-data-context-${o}`,"")),a&&t.dataTransfer.setData("text/x-spotify-data-log-context",a),t.dataTransfer.setData("text/x-spotify-data-app-uri",e.__spotify&&e.__spotify.app_uri||null),i.run("set-drag-data",t,n,o)}function f(e){const t=r.from(e);return t?t.toOpenURL():e}function p(e){const t="text/x-spotify-",n=r.from(e);if(n){const e=n.type;if(e===r.Type.TRACK||e===r.Type.LOCAL)return`${t}tracks`;if(e===r.Type.ALBUM||e===r.Type.LOCAL_ALBUM)return`${t}albums`;if(e===r.Type.ARTIST||e===r.Type.LOCAL_ARTIST)return`${t}artists`;if(e===r.Type.USER||e===r.Type.PROFILE)return`${t}users`;if(e===r.Type.PLAYLIST||e===r.Type.PLAYLIST_V2)return`${t}playlists`;if(e===r.Type.FOLDER)return`${t}folders`;if(e===r.Type.STATION&&!(n.args.length>2&&"cluster"===n.args[2]))return`${t}stations`;if(e===r.Type.EPISODE)return`${t}episodes`}return`${t}unknown`}t.attach=function(){a.delegate("dragstart",u,c)},t.detach=function(){a.undelegate("dragstart",u,c)}}).call(this,n(1))},function(e,t,n){"use strict";const r=n(464),o=n(462),i=n(437),a=n(434),s=n(433),l=n(432),u=n(431);t.attach=function(){r.attach(),o.attach(),i.attach(),a.attach(),u.attach(),s.attach(),l.attach()},t.detach=function(){r.detach(),o.detach(),i.detach(),a.detach(),u.detach(),s.detach(),l.detach()},t.update=function(){}},function(e,t,n){"use strict";const r=n(2),o=n(7),i=n(102),a=n(158),s=n(68);let l=!1;function u(){const e=r("spotify:player").get("track");return e&&e.get("provider")||""}function c(){const e=r("spotify:player").get("variant");return e?e.uri:""}function d(){const e=r("spotify:player").get("index"),t=e&&e.get("page");return"number"==typeof t?t:-1}function f(){return r("spotify:player").get("uid")||""}function p(){const e=r("spotify:player").get("track");return e&&e.uri||""}function h(){const e=r("spotify:player").get("isPlaying"),t=r("spotify:player").get("isPaused");return e&&!t}function m(e){r("spotify:player").on("update",e);let t=!0;return{cancel:function(){t&&(r("spotify:player").off("update",e),t=!1)}}}function g(e,t){let n=t.isPlayingContext;const o=s.getAttributeValueFromNode(e,"data-uid"),i=s.getAttributeValueFromNode(e,"data-track-uri"),a=parseInt(s.getAttributeValueFromNode(e,"data-context-page"),10);if(n&&(n=function(e,t,n){if(e){const t=f();return t===e}if(t){const e=p();return e===t}if(!isNaN(n)){const e=d();return e===n}return!0}(o,i,a)),n)h()?r("spotify:player").emit("pause"):r("spotify:player").emit("resume");else{const e={context:t.contextUri,source:t.source,reason:t.reason};o&&(e.uid=o),i&&(e.trackUri=i),isNaN(a)||(e.page=a),r("spotify:player").emit("play",e)}}function y(e,t){const n={context:t.contextUri,source:t.source,reason:t.reason},o=e.getAttribute("data-uid");o&&(n.uid=o);const i=parseInt(s.getAttributeValueFromNode(e,"data-context-page"),10);isNaN(i)||(n.page=i),r("spotify:player").emit("play",n)}function v(e,t){const n=d(),i=f(),a=p(),l=c(),u=_(n,t),h=function(e,t,n,i){const a=function(){const e=r("spotify:player").get("playOrigin"),t=e&&e.get("externalReferrer");return t&&0===t.indexOf("https://open.spotify.com/")}(),s=t.map(function(e){let t=`${e} `;return a&&(t+=`[data-uri=${i}]`),a||(t+=`[data-uid=${n}]`),t}).join(", ");let l=o(e).search(s);if(l){if(l=Array.prototype.slice.call(l),a){const e=o(l[0]).data("uid");l=l.filter(function(t){return e===o(t).data("uid")})}}else l=[];return l}(e,s.getContextSelectorsWithVariants(l),i,a)||[],m=function(e,t,n){const r=t.map(function(e){const t=`${e} [data-context-page]`,n=e+"[data-context-page]",r=`${t}, ${n}`;return r});let i=o(e).search(r.join(", "));i=i?Array.prototype.slice.call(i):[];return _(n,i)}(e,s.getContextSelectorsWithVariants(l),n)||[];let g=[];if(t.length){const e=o(t).search("[data-button=play-context]");e&&(g=e.filter(e=>{const n=e.closest("[data-context]");return t.indexOf(n)>=0}))}const y=o([u,h,m,g]);return y?Array.prototype.slice.call(y):[]}function _(e,t){return t.filter(function(t){const n=parseInt(t.getAttribute("data-context-page"),10);return!!isNaN(n)||!isNaN(e)&&e===n})}t.attach=function(){l||(l=!0,i.setMethods({getPlayerTrackProvider:u,getPlayerVariantUri:c,handlePlayButton:g,handlePlayFromRow:y}),a.setMethods({getPlayerTrackProvider:u,getPlayerVariantUri:c,getPlayerIsPlaying:h,getPlayingNodes:v,subscribeToPlayerChange:m}),i.attach(),a.attach())},t.detach=function(){l&&(l=!1,i.detach(),a.detach())},t.update=function(e){l&&a.update(e)}},function(e,t,n){"use strict";const r=n(2),o=n(18),i=n(7),a=n(102),s=n(158),l=n(68);let u=!1;function c(){const e=r("spotify:player").get("track");return e&&e.get("provider")||""}function d(){const e=r("spotify:player").get("variant");return e?e.uri:""}function f(){const e=r("spotify:player").get("index");return e?e.get("track"):-1}function p(){const e=r("spotify:player").get("track");return e&&e.uri||""}function h(){const e=r("spotify:player").get("isPlaying"),t=r("spotify:player").get("isPaused");return e&&!t}function m(e){r("spotify:player").on("update",e);let t=!0;return{cancel:function(){t&&(r("spotify:player").off("update",e),t=!1)}}}function g(e,t){const n=i(e),a=f(),s=p(),l=function(){return r("spotify:player").get("uid")}();let u,c,d,m;const g=n.data("range");if(g){u=o.fromString(g);const e=r(t.contextUri).get("rows");if(e){const t=u.toIndices();d=t.map(function(t){return e.keys[t]}),m=t.map(function(t){return e.get(t).get("track").uri})}c=null}else{let e=null;if(e=n.matches("[data-context-index]")?n:n.parent("[data-context-index]")){c=parseInt(e.data("context-index"),10);const n=r(t.contextUri).get("rows");n&&(d=[n.keys[c]],m=[n.get(c).get("track").uri])}else c=null}let y=!1;if(t.isPlayingContext)if(u)y=u.contains(new o(a,a+1));else if(null!==c){const e=m&&m[0],t=d&&d[0];y=e===s&&(c===a||t===l)}else y=!0;if(y)h()?r("spotify:player").emit("pause"):r("spotify:player").emit("resume");else{const e={context:t.contextUri,index:c,source:t.source,reason:t.reason};u&&(e.range=[u.start,u.end]),d&&(e.uids=d),m&&(e.uris=m),r("spotify:player").emit("play",e)}}function y(e,t){let n=parseInt(e.getAttribute("data-context-index"),10);isNaN(n)&&(n=-1);const o=e.getAttribute("data-uid")||"",i=e.getAttribute("data-uri")||"",a={context:t.contextUri,index:n,source:t.source,reason:t.reason};o&&(a.uids=[o]),i&&(a.uris=[i]),r("spotify:player").emit("play",a)}function v(e,t){const n=f(),r=p(),o=d(),a=_(n,t),s=l.getContextSelectorsWithVariants(o),u=function(e,t,n,r){const o=`[data-uri="${r}"]`,a=`[data-context-index=${n}]${o}`,s=t.map(e=>`${e} ${a}`),l=i(e).find(s);if(l)return l;const u=t.map(e=>`${e} ${o}`);return i(e).find(u)}(e,s,n,r)||[],c=function(e,t,n){const r=t.map(function(e){const t=`${e} [data-range]`,n=e+"[data-range]",r=`${t}, ${n}`;return r});let o=i(e).search(r.join(", "));o=o?Array.prototype.slice.call(o):[];return _(n,o)}(e,s,n)||[];let h=[];if(t.length){const e=i(t).search("[data-button=play-context]");e&&(h=e.filter(e=>{const n=e.closest("[data-context]");return t.indexOf(n)>=0}))}const m=i([a,u,c,h]);return m?Array.prototype.slice.call(m):[]}function _(e,t){const n=new o(e,e+1);return t.filter(function(e){let t=i(e).data("range");return!t||!!n&&(t=o.fromString(t)).contains(n)})}t.attach=function(){u||(u=!0,a.setMethods({getPlayerTrackProvider:c,getPlayerVariantUri:d,handlePlayButton:g,handlePlayFromRow:y}),s.setMethods({getPlayerTrackProvider:c,getPlayerVariantUri:d,getPlayerIsPlaying:h,getPlayingNodes:v,subscribeToPlayerChange:m}),a.attach(),s.attach())},t.detach=function(){u&&(u=!1,a.detach(),s.detach())},t.update=function(e){u&&s.update(e)}},function(e,t,n){"use strict";const r=n(467),o=n(466),i=n(102);let a=r;t.setMode=function(e){switch(e){case"indices":a=r;break;case"uids":a=o}},t.setSelectors=i.setSelectors,t.attach=function(){a.attach()},t.detach=function(){a.detach()},t.update=function(e){a.update(e)}},function(e,t,n){"use strict";var r="function"==typeof Object.defineProperty,o={value:!1,writable:!0};function i(e,t){if(this.type=e,t)for(var n in t)t.hasOwnProperty(n)&&"type"!=n&&(this[n]=t[n]);r?(Object.defineProperty(this,"_prevented",o),Object.defineProperty(this,"_stopped",o),Object.defineProperty(this,"_immediateStopped",o),Object.defineProperty(this,"defaultPrevented",{get:function(){return this._prevented}.bind(this),set:function(e){return e}})):(this.defaultPrevented=!1,this._prevented=!1,this._stopped=!1,this._immediateStopped=!1)}i.wasPropagationStopped=function(e){return!!e._stopped},i.wasImmediatePropagationStopped=function(e){return!!e._immediateStopped},i.prototype.preventDefault=function(){this._prevented=!0,r||(this.defaultPrevented=!0)},i.prototype.stopPropagation=function(){this._stopped=!0},i.prototype.stopImmediatePropagation=function(){this._immediateStopped=!0},e.exports=i},function(e,t,n){"use strict";var r=n(178),o=n(469),i="add:",a="remove:";function s(){this._listenerMap={}}s.createEvent=function(e,t){if(!e)throw new TypeError("Cannot create event with empty type.");return new o(e,t)},s.prototype._hasListenersFor=function(e){var t=this._listenerMap,n=t&&t[e];return!(!n||!n.length)},s.prototype.on=function(e,t){if(!e)throw new TypeError("Cannot add event listener with empty type.");var n=this._listenerMap||(this._listenerMap={}),r=n[e]||(n[e]=[]);if(-1!=r.indexOf(t))return this;var o=i+e;if(this._hasListenersFor(o)&&this.emitSync(o,{listener:t}).defaultPrevented)return this;return r.push(t),this},s.prototype.once=function(e,t){if(!e)throw new TypeError("Cannot add once listener with empty type.");var n=function(){return this.removeListener(e,n),t.apply(this,arguments)};return this.on(e,n),n},s.prototype.addListeners=function(e){for(var t in e)this.on(t,e[t]);return this},s.prototype.removeListener=function(e,t){var n=this._listenerMap,r=n&&n[e];if(!r)return this;var o=r.indexOf(t);if(-1==o)return this;var i=a+e;if(this._hasListenersFor(i)&&this.emitSync(i,{listener:t,remainingLength:r.length-1}).defaultPrevented)return this;return r.splice(o,1),r.length||(n[e]=null),this},s.prototype.removeAllListeners=function(e){var t=this._listenerMap;return t?void 0===e?(this._listenerMap={},this):(t[e]=null,this):this},s.prototype.removeListeners=function(e){for(var t in e)this.removeListener(t,e[t]);return this},s.prototype.addListener=function(e,t){return this.on(e,t)},s.prototype.addOnceListener=function(e,t){return this.once(e,t)},s.prototype.emit=function(e,t){if(!e)throw new TypeError("Cannot emit empty type event.");var n=new o(e,t);return r(function(){this.emitEventSync(n)}.bind(this)),n},s.prototype.emitAndWait=function(e,t,n){if(!e)throw new TypeError("Cannot emit empty type event.");var i=new o(e,t);return r(function(){this.emitEventSync(i),"function"==typeof n&&n(i)}.bind(this)),i},s.prototype.emitEvent=function(e){return r(function(){this.emitEventSync(e)}.bind(this)),e},s.prototype.emitEventAndWait=function(e,t){return r(function(){this.emitEventSync(e),"function"==typeof t&&t(e)}.bind(this)),e},s.prototype.emitSync=function(e,t){var n=new o(e,t);return this.emitEventSync(n),n},s.prototype.emitEventSync=function(e){var t=e.type,n=this._listenerMap,r=n&&n[t];if(!r||!r.length)return e;for(var i=0,a=(r=r.slice(0)).length;i<a&&(r[i].call(this,e),!o.wasImmediatePropagationStopped(e));i++);return e},s.prototype.proxyEmit=function(e,t,n){if(!e||"function"!=typeof e.on)throw new TypeError("Source must be an EventEmitter");if(e===this)throw new ReferenceError("Cannot create a recursive proxy.");if(!t||!n)throw new TypeError("Parameters sourceType and proxyType are required.");return e.on(t,this.emit.bind(this,n)),this},s.prototype.proxyEmitSync=function(e,t,n){if(!e||"function"!=typeof e.on)throw new TypeError("Source must be an EventEmitter");if(e===this)throw new ReferenceError("Cannot create a recursive proxy.");if(!t||!n)throw new TypeError("Parameters sourceType and proxyType are required.");return e.on(t,this.emitSync.bind(this,n)),this},s.prototype.onAddListener=function(e,t){return this.on(i+e,t),this},s.prototype.onRemoveListener=function(e,t){return this.on(a+e,t),this},e.exports=s},function(e,t,n){"use strict";e.exports=function(e,t){var n=t.prototype;function r(){}r.prototype=e._super=n,r.prototype.constructor=t,e.prototype=new r}},function(e,t,n){"use strict";const r=n(30),o=n(26)({constructor:function(){this.length=0,this._values=[],this._keys=[]},set:function(e,t){const n=r(this._keys,e);return-1===n?(this._keys.push(e),this._values.push(t),this.length++):this._values[n]=t,this},get:function(e){const t=r(this._keys,e);return-1===t?null:this._values[t]},count:function(){return this.length},forEach:function(e,t){for(let n=0,r=this.length;n<r&&!1!==e.call(t,this._values[n],this._keys[n],this);n++);return this},map:function(e,t){const n=new o;return this.forEach(function(r,o){n.set(o,e.call(t,r,o,this))},this),n},filter:function(e,t){const n=new o;return this.forEach(function(r,o){e.call(t,r,o,this)&&n.set(o,r)},this),n},every:function(e,t){let n=!0;return this.forEach(function(r,o){e.call(t,r,o,this)||(n=!1)},this),n},some:function(e,t){let n=!1;return this.forEach(function(r,o){e.call(t,r,o,this)&&(n=!0)},this),n},indexOf:function(e){const t=r(this._values,e);return t>-1?this._keys[t]:null},remove:function(e){const t=r(this._values,e);return-1!==t?(this._values.splice(t,1),this.length--,this._keys.splice(t,1)[0]):null},unset:function(e){const t=r(this._keys,e);return-1!==t?(this._keys.splice(t,1),this.length--,this._values.splice(t,1)[0]):null},keys:function(){return this._keys.slice()},values:function(){return this._values.slice()}}),i=function(){return new o};i.prototype=o.prototype,e.exports=i},function(e,t,n){"use strict";const r=n(472),o=n(164);n(163),o.implement({delegate:function(e,t,n){return this.forEach(function(i){const a=o(i),s=a._delegation||(a._delegation={}),l=s[e]||(s[e]={}),u=l[t]||(l[t]=new r);if(u.get(n))return;const c=function(e){const r=o(e.target||e.srcElement),i=r.matches(t)?r:r.parent(t);let s;return i&&(s=n.call(a,e,i)),s};u.set(n,c),a.on(e,c)})},undelegate:function(e,t,n){return this.forEach(function(r){const i=o(r),a=i._delegation;if(!a)return;const s=a[e];if(!s)return;const l=s[t];if(!l)return;const u=l.get(n);if(u){i.off(e,u),l.remove(u),l.count()||delete s[t];let n=!0,r=!0;for(const e in s)if(s.hasOwnProperty(e)){n=!1;break}n&&delete a[e];for(const e in a)if(a.hasOwnProperty(e)){r=!1;break}r&&delete i._delegation}})}}),e.exports=o},function(e,t,n){"use strict";var r=n(162),o=0,i="uid:"+(document.__counter=(parseInt(document.__counter||-1,36)+1).toString(36)),a=function(e,t){if(e===window)return"window";if(e===document)return"document";if(e===document.documentElement)return"html";if(t){var n=e.getAttribute(i);return n||(n=(o++).toString(36),e.setAttribute(i,n)),n}return e[i]||(e[i]=(o++).toString(36))},s=function(e){return a(e,!0)},l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=0,c={GET_ELEMENT_BY_ID:function(e,t){return t="slick_"+u++,e.innerHTML='<a id="'+t+'"></a>',!!this.getElementById(t)},QUERY_SELECTOR:function(e){return e.innerHTML="_<style>:nth-child(2){}</style>",e.innerHTML='<a class="MiX"></a>',1===e.querySelectorAll(".MiX").length},EXPANDOS:function(e,t){return t="slick_"+u++,e._custom_property_=t,e._custom_property_===t},MATCHES_SELECTOR:function(e){e.className="MiX";var t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector;if(t)try{t.call(e,":slick")}catch(n){return!!t.call(e,".MiX")&&t}return!1},GET_ELEMENTS_BY_CLASS_NAME:function(e){return e.innerHTML='<a class="f"></a><a class="b"></a>',1===e.getElementsByClassName("b").length&&(e.firstChild.className="b",2===e.getElementsByClassName("b").length&&(e.innerHTML='<a class="a"></a><a class="f b a"></a>',2===e.getElementsByClassName("a").length))},GET_ATTRIBUTE:function(e){return e.innerHTML='<a class="fus ro dah"></a>',"fus ro dah"===e.firstChild.getAttribute("class")}},d=function(e){this.document=e;var t=this.root=e.documentElement;this.tested={},this.uniqueID=this.has("EXPANDOS")?a:s,this.getAttribute=this.has("GET_ATTRIBUTE")?function(e,t){return e.getAttribute(t)}:function(e,t){return(e=e.getAttributeNode(t))&&e.specified?e.value:null},this.hasAttribute=t.hasAttribute?function(e,t){return e.hasAttribute(t)}:function(e,t){return!(!(e=e.getAttributeNode(t))||!e.specified)},this.contains=e.contains&&t.contains?function(e,t){return e.contains(t)}:t.compareDocumentPosition?function(e,t){return e===t||!!(16&e.compareDocumentPosition(t))}:function(e,t){do{if(t===e)return!0}while(t=t.parentNode);return!1},this.sorter=t.compareDocumentPosition?function(e,t){return e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:e===t?0:1:0}:"sourceIndex"in t?function(e,t){return e.sourceIndex&&t.sourceIndex?e.sourceIndex-t.sourceIndex:0}:e.createRange?function(e,t){if(!e.ownerDocument||!t.ownerDocument)return 0;var n=e.ownerDocument.createRange(),r=t.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,0),r.setStart(t,0),r.setEnd(t,0),n.compareBoundaryPoints(Range.START_TO_END,r)}:null,this.failed={};var n=this.has("MATCHES_SELECTOR");n&&(this.matchesSelector=function(e,t){if(this.failed[t])return null;try{return n.call(e,t)}catch(e){return g.debug&&console.warn("matchesSelector failed on "+t),this.failed[t]=!0,null}}),this.has("QUERY_SELECTOR")&&(this.querySelectorAll=function(e,t){if(this.failed[t])return!0;var n,r,o,i,a;if(e!==this.document&&(i=t[0].combinator,o=t,(r=e.getAttribute("id"))||(r="__slick__",(a=e).setAttribute("id",r)),t="#"+r+" "+o,(i.indexOf("~")>-1||i.indexOf("+")>-1)&&((e=e.parentNode)||(n=!0))),!n)try{n=e.querySelectorAll(t.toString())}catch(e){g.debug&&console.warn("querySelectorAll failed on "+(o||t)),n=this.failed[o||t]=!0}return a&&a.removeAttribute("id"),n})};d.prototype.has=function(e){var t=this.tested,n=t[e];if(null!=n)return n;var r=this.root,o=this.document,i=o.createElement("div");i.setAttribute("style","display: none;"),r.appendChild(i);var a=c[e],s=!1;if(a)try{s=a.call(o,i)}catch(e){}return g.debug&&!s&&console.warn("document has no "+e),r.removeChild(i),t[e]=s};var f={" ":function(e,t,n){var r,o,i=!t.id,a=!t.tag,s=!t.classes;if(t.id&&e.getElementById&&this.has("GET_ELEMENT_BY_ID")&&(r=e.getElementById(t.id))&&r.getAttribute("id")===t.id&&(o=[r],i=!0,"*"===t.tag&&(a=!0)),!o&&(t.classes&&e.getElementsByClassName&&this.has("GET_ELEMENTS_BY_CLASS_NAME")?(o=e.getElementsByClassName(t.classList),s=!0,"*"===t.tag&&(a=!0)):(o=e.getElementsByTagName(t.tag),"*"!==t.tag&&(a=!0)),!o||!o.length))return!1;for(var l=0;r=o[l++];)(a&&i&&s&&!t.attributes&&!t.pseudos||this.match(r,t,a,i,s))&&n(r);return!0},">":function(e,t,n){if(e=e.firstChild)do{1==e.nodeType&&this.match(e,t)&&n(e)}while(e=e.nextSibling)},"+":function(e,t,n){for(;e=e.nextSibling;)if(1==e.nodeType){this.match(e,t)&&n(e);break}},"^":function(e,t,n){(e=e.firstChild)&&(1===e.nodeType?this.match(e,t)&&n(e):f["+"].call(this,e,t,n))},"~":function(e,t,n){for(;e=e.nextSibling;)1===e.nodeType&&this.match(e,t)&&n(e)},"++":function(e,t,n){f["+"].call(this,e,t,n),f["!+"].call(this,e,t,n)},"~~":function(e,t,n){f["~"].call(this,e,t,n),f["!~"].call(this,e,t,n)},"!":function(e,t,n){for(;e=e.parentNode;)e!==this.document&&this.match(e,t)&&n(e)},"!>":function(e,t,n){(e=e.parentNode)!==this.document&&this.match(e,t)&&n(e)},"!+":function(e,t,n){for(;e=e.previousSibling;)if(1==e.nodeType){this.match(e,t)&&n(e);break}},"!^":function(e,t,n){(e=e.lastChild)&&(1==e.nodeType?this.match(e,t)&&n(e):f["!+"].call(this,e,t,n))},"!~":function(e,t,n){for(;e=e.previousSibling;)1===e.nodeType&&this.match(e,t)&&n(e)}};d.prototype.search=function(e,t,n){e?!e.nodeType&&e.document&&(e=e.document):e=this.document;var o=r(t);if(!o||!o.length)throw new Error("invalid expression");n||(n=[]);var i,s,u,c,d=l(n)?function(e){n[n.length]=e}:function(e){n[n.length++]=e};if(o.length>1){i={};var p=d;d=function(e){var t=a(e);i[t]||(i[t]=!0,p(e))}}e:for(var h=0;t=o[h++];)if(g.noQSA||!this.querySelectorAll||!0===(u=this.querySelectorAll(e,t)))if(1===t.length)c=t[0],f[c.combinator].call(this,e,c,d);else{var m,y,v,_=[e],b=function(e){var t=a(e);v[t]||(v[t]=!0,y[y.length]=e)};for(k=0;c=t[k++];){y=[],v={};for(var w=0;m=_[w++];)f[c.combinator].call(this,m,c,b);if(!y.length)continue e;_=y}if(0===h)n=y;else for(var E=0;E<y.length;E++)d(y[E])}else if(u&&u.length)for(var k=0;s=u[k++];)s.nodeName>"@"&&d(s);return i&&n&&n.length>1&&this.sort(n),n},d.prototype.sort=function(e){return this.sorter?Array.prototype.sort.call(e,this.sorter):e};var p={empty:function(){return!(this&&1===this.nodeType||(this.innerText||this.textContent||"").length)},not:function(e){return!g.matches(this,e)},contains:function(e){return(this.innerText||this.textContent||"").indexOf(e)>-1},"first-child":function(){for(var e=this;e=e.previousSibling;)if(1==e.nodeType)return!1;return!0},"last-child":function(){for(var e=this;e=e.nextSibling;)if(1==e.nodeType)return!1;return!0},"only-child":function(){for(var e=this;e=e.previousSibling;)if(1==e.nodeType)return!1;for(var t=this;t=t.nextSibling;)if(1==t.nodeType)return!1;return!0},"first-of-type":function(){for(var e=this,t=e.nodeName;e=e.previousSibling;)if(e.nodeName==t)return!1;return!0},"last-of-type":function(){for(var e=this,t=e.nodeName;e=e.nextSibling;)if(e.nodeName==t)return!1;return!0},"only-of-type":function(){for(var e=this,t=this.nodeName;e=e.previousSibling;)if(e.nodeName==t)return!1;for(var n=this;n=n.nextSibling;)if(n.nodeName==t)return!1;return!0},enabled:function(){return!this.disabled},disabled:function(){return this.disabled},checked:function(){return this.checked||this.selected},selected:function(){return this.selected},focus:function(){return this.ownerDocument.activeElement===this&&(this.href||this.type||g.hasAttribute(this,"tabindex"))},root:function(){return this===this.ownerDocument.documentElement}};d.prototype.match=function(e,t,n,r,o){if(!g.noQSA&&this.matchesSelector){var i=this.matchesSelector(e,t);if(null!==i)return i}if(!n&&t.tag){var a=e.nodeName.toLowerCase();if("*"===t.tag){if(a<"@")return!1}else if(a!=t.tag)return!1}if(!r&&t.id&&e.getAttribute("id")!==t.id)return!1;var s,l,u,c;if(!o&&t.classes){var d=this.getAttribute(e,"class");if(!d)return!1;for(l in t.classes)if(!RegExp("(^|\\s)"+t.classes[l]+"(\\s|$)").test(d))return!1}if(t.attributes)for(s=0;l=t.attributes[s++];){var f=l.operator,h=l.escapedValue;if(u=l.name,c=l.value,f){var m=this.getAttribute(e,u);if(null==m)return!1;switch(f){case"^=":if(!RegExp("^"+h).test(m))return!1;break;case"$=":if(!RegExp(h+"$").test(m))return!1;break;case"~=":if(!RegExp("(^|\\s)"+h+"(\\s|$)").test(m))return!1;break;case"|=":if(!RegExp("^"+h+"(-|$)").test(m))return!1;break;case"=":if(m!==c)return!1;break;case"*=":if(-1===m.indexOf(c))return!1;break;default:return!1}}else if(!this.hasAttribute(e,u))return!1}if(t.pseudos)for(s=0;l=t.pseudos[s++];){if(u=l.name,c=l.value,p[u])return p[u].call(e,c);if(null!=c){if(this.getAttribute(e,u)!==c)return!1}else if(!this.hasAttribute(e,u))return!1}return!0},d.prototype.matches=function(e,t){var n=r(t);if(1===n.length&&1===n[0].length)return this.match(e,n[0][0]);if(!g.noQSA&&this.matchesSelector){var o=this.matchesSelector(e,n);if(null!==o)return o}for(var i,a=this.search(this.document,t,{length:0}),s=0;i=a[s++];)if(e===i)return!0;return!1};var h={},m=function(e){var t=e||document;if(t.ownerDocument?t=t.ownerDocument:t.document&&(t=t.document),9!==t.nodeType)throw new TypeError("invalid document");var n=a(t);return h[n]||(h[n]=new d(t))},g=function(e,t){return g.search(e,t)};g.search=function(e,t,n){return m(t).search(t,e,n)},g.find=function(e,t){return m(t).search(t,e)[0]||null},g.getAttribute=function(e,t){return m(e).getAttribute(e,t)},g.hasAttribute=function(e,t){return m(e).hasAttribute(e,t)},g.contains=function(e,t){return m(e).contains(e,t)},g.matches=function(e,t){return m(e).matches(e,t)},g.sort=function(e){return e&&e.length>1&&m(e[0]).sort(e),e},g.parse=r,e.exports=g},function(e,t,n){"use strict";(function(t){e.exports="document"in t?n(474):{parse:n(162)}}).call(this,n(1))},function(e,t,n){"use strict";const r=n(53);r.implement({appendChild:function(e){return this[0].appendChild(r(e)[0]),this},insertBefore:function(e,t){return this[0].insertBefore(r(e)[0],r(t)[0]),this},removeChild:function(e){return this[0].removeChild(r(e)[0]),this},replaceChild:function(e,t){return this[0].replaceChild(r(e)[0],r(t)[0]),this}}),r.implement({before:function(e){const t=r(e)[0],n=t.parentNode;return n&&this.forEach(function(e){n.insertBefore(e,t)}),this},after:function(e){const t=r(e)[0],n=t.parentNode;return n&&this.forEach(function(e){n.insertBefore(e,t.nextSibling)}),this},bottom:function(e){const t=r(e)[0];return this.forEach(function(e){t.appendChild(e)})},top:function(e){const t=r(e)[0];return this.forEach(function(e){t.insertBefore(e,t.firstChild)})}}),r.implement({insert:r.prototype.bottom,remove:function(){return this.forEach(function(e){const t=e.parentNode;t&&t.removeChild(e)})},replace:function(e){const t=r(e)[0];return t.parentNode.replaceChild(this[0],t),this}}),e.exports=r},function(e,t,n){var r=n(73),o=n(103);e.exports=function(e,t){e=r(e),t=t||o;for(var n,i,a=e.length-1,s=t.length,l=!0;l&&a>=0;)for(l=!1,n=-1,i=e.charAt(a);++n<s;)if(i===t[n]){l=!0,a--;break}return a>=0?e.substring(0,a+1):""}},function(e,t,n){var r=n(73),o=n(103);e.exports=function(e,t){e=r(e),t=t||o;for(var n,i,a=0,s=e.length,l=t.length,u=!0;u&&a<s;)for(u=!1,n=-1,i=e.charAt(a);++n<l;)if(i===t[n]){u=!0,a++;break}return a>=s?"":e.substr(a,s)}},function(e,t,n){var r=n(73),o=n(103),i=n(478),a=n(477);e.exports=function(e,t){return e=r(e),i(a(e,t=t||o),t)}},function(e,t,n){"use strict";const r=n(53),o=n(479),i=n(42),a=n(41),s=n(30);r.implement({setAttribute:function(e,t){return this.forEach(function(n){n.setAttribute(e,t)})},getAttribute:function(e){const t=this[0].getAttributeNode(e);return t&&t.specified?t.value:null},hasAttribute:function(e){const t=this[0];if(t.hasAttribute)return t.hasAttribute(e);const n=t.getAttributeNode(e);return!(!n||!n.specified)},removeAttribute:function(e){return this.forEach(function(t){const n=t.getAttributeNode(e);n&&t.removeAttributeNode(n)})}});const l={};i(["type","value","name","href","title","id"],function(e){l[e]=function(t){return void 0!==t?this.forEach(function(n){n[e]=t}):this[0][e]}}),i(["checked","disabled","selected"],function(e){l[e]=function(t){return void 0!==t?this.forEach(function(n){n[e]=!!t}):!!this[0][e]}});const u=function(e){const t=o(e).replace(/\s+/g," ").split(" "),n={};return a(t,function(e){return""!==e&&!n[e]&&(n[e]=e)}).sort()};l.className=function(e){return void 0!==e?this.forEach(function(t){t.className=u(e).join(" ")}):u(this[0].className).join(" ")},r.implement({attribute:function(e,t){const n=l[e];let r;return n&&(r=n.call(this,t)),t&&(r=this.setAttribute(e,t)),null===t&&(r=this.removeAttribute(e)),void 0===t&&(r=this.getAttribute(e)),r}}),r.implement(l),r.implement({check:function(){return this.checked(!0)},uncheck:function(){return this.checked(!1)},disable:function(){return this.disabled(!0)},enable:function(){return this.disabled(!1)},select:function(){return this.selected(!0)},deselect:function(){return this.selected(!1)}}),r.implement({classNames:function(){return u(this[0].className)},hasClass:function(e){return s(this.classNames(),e)>-1},addClass:function(e){return this.forEach(function(t){const n=t.className,r=u(`${n} ${e}`).join(" ");n!==r&&(t.className=r)})},removeClass:function(e){return this.forEach(function(t){const n=u(t.className);i(u(e),function(e){const t=s(n,e);t>-1&&n.splice(t,1)}),t.className=n.join(" ")})},toggleClass:function(e,t){const n=void 0!==t?t:!this.hasClass(e);return n?this.addClass(e):this.removeClass(e),!!n}}),r.prototype.toString=function(){const e=this.tag(),t=this.id(),n=this.classNames();let r=e;return t&&(r+=`#${t}`),n.length&&(r+=`.${n.join(".")}`),r};const c=null===document.createElement("div").textContent?"innerText":"textContent";r.implement({tag:function(){return this[0].tagName.toLowerCase()},html:function(e){return void 0!==e?this.forEach(function(t){t.innerHTML=e}):this[0].innerHTML},text:function(e){return void 0!==e?this.forEach(function(t){t[c]=e}):this[0][c]},data:function(e,t){switch(t){case void 0:return this.getAttribute(`data-${e}`);case null:return this.removeAttribute(`data-${e}`);default:return this.setAttribute(`data-${e}`,t)}}}),e.exports=r},function(e,t,n){"use strict";const r=n(7),o=new(n(161)),i=function(e,t){const n=t[0],r=n.getAttribute("href")||n.getAttribute("data-button-link");r&&"#"!==r[0]&&(e.preventDefault(),o.openURI(r))};let a=!1;t.attach=function(){a||(a=!0,r(document).delegate("click","a, button",i))},t.detach=function(){a&&(a=!1,r(document).undelegate("click","a, button",i))},t.update=function(){}},function(e,t,n){"use strict";let r=!1;t.update=(()=>{}),t.attach=(()=>{if(r)return;r=!0;const e=window.__spotify&&window.__spotify.locale;e&&document.documentElement.setAttribute("lang",e)}),t.detach=(()=>{r&&(r=!1,document.documentElement.removeAttribute("lang"))})},function(e,t,n){"use strict";const r=[n(482),n(481),n(468),n(465),n(430),n(20),n(429),n(154),n(427),n(426),n(425),n(417),n(416),n(415),n(413),n(411),n(410),n(408),n(407),n(406),n(152),n(405),n(404),n(403),n(400),n(399),n(394)],o={};let i=!1;o.update=function(e){i&&r.forEach(function(t){t.update(e)})},o.attach=function(){i||(i=!0,r.forEach(function(e){e.attach()}))},o.detach=function(){i&&(i=!1,r.forEach(function(e){e.detach()}))},e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HIDE_DELAY=2e3},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadFont=function(){return document.fonts.load("500 48px spotify-circular")},t.setSizeForTitle=function(e,t={}){const n=t.useLargeTitle?"large":"default",{fontSizes:o,lineHeights:i}=function(){if("th"===window.__spotify.locale)return{default:{fontSizes:[[48,36],[36,28]],lineHeights:[[75,58],[58,44]]},large:{fontSizes:[[96,72,48],[48,36,28]],lineHeights:[[148,111,75],[75,58,44]]}};return{default:{fontSizes:[[48,36],[36,28]],lineHeights:[[56,44],[44,36]]},large:{fontSizes:[[96,72,48],[48,36,28]],lineHeights:[[110,82,56],[56,44,36]]}}}()[n];let a=1,s=0,l=o[0][0],u=i[0][0],c=a+1,d=Math.ceil(r*u);e.style.webkitLineClamp=c,e.style.fontSize=`${l}px`,e.style.lineHeight=`${u}px`,e.style.paddingBottom=`${d}px`,e.style.marginBottom=`-${d}px`,e.removeAttribute("title");for(;a<=o.length&&e.offsetHeight-d>u*a;)s++,o[a-1][s]||(s=0,a++),a<=o.length&&(l=o[a-1][s],u=i[a-1][s],c=a+1,d=Math.ceil(r*u),e.style.webkitLineClamp=c,e.style.fontSize=`${l}px`,e.style.lineHeight=`${u}px`,e.style.paddingBottom=`${d}px`,e.style.marginBottom=`-${d}px`);a>o.length&&e.setAttribute("title",e.textContent.trim());e.style.webkitLineClamp=c-1};const r=.07},function(e,t,n){"use strict";(function(e){const r=n(9).default,o="rgba(251, 74, 131, 0.22)",i="rgba(251, 74, 131, 0.8)",a=8;let s=null,l=null,u="",c="";const d=["off","column","baseline"];let f=0;function p(){let e=f+1;e>d.length-1&&(e=0);const t=d[e];"off"===t?m():h(t)}function h(e){e&&d[f]!==e&&(f=d.indexOf(e),s&&s.parentNode&&s.parentNode.removeChild(s),"baseline"===e&&document.addEventListener("mousemove",g,!1),s=function(){const e=u||o,t=document.createElement("div");if(t.className="grid-overlay container","column"===d[f]){const n=document.createElement("div");n.className="grid-overlay-row row",t.appendChild(n);const r=function(){const e=document.createElement("div");return e.className="grid-overlay-label",[{name:"Extra Small",id:"xs"},{name:"Small",id:"sm"},{name:"Medium",id:"md"},{name:"Large",id:"lg"}].forEach(function(t){const n=document.createElement("span");n.className=`visible-${t.id}`,n.textContent=`${t.name} (${t.id})`,e.appendChild(n)}),e}();t.appendChild(r);const o="col-xs-1 col-sm-1 col-md-1 col-lg-1";for(let t=0;t<12;t++){const r=document.createElement("div");r.className=`grid-overlay-col-${t+1} ${o}`,r.style.backgroundColor=e,n.appendChild(r)}}else if("baseline"===d[f]){t.classList.add("grid-overlay-baseline");const n=`${(a-1)/a*100}%`,r=["linear-gradient(","to bottom, ","transparent, ",`transparent ${n}, `,`${e} ${n}`,")"].join("");t.style.backgroundImage=r,t.style._backgroundImage=r}return t}(),document.body.appendChild(s))}function m(){"off"!==d[f]&&(s&&s.parentNode&&s.parentNode.removeChild(s),f=d.indexOf("off"),s=null,l=null,document.removeEventListener("mousemove",g,!1))}function g(e){l||((l=document.createElement("div")).className="grid-overlay-baseline-highlight",l.style.backgroundColor=c||i,s.appendChild(l));const t=e.clientY+window.scrollY,n=Math.floor(t/a)*a+(t%a>4?a:0);l.style.top=`${n-1}px`}t.listen=function(){e.__spotify.developer_mode&&r.resolver.subscribe({url:"sp://messages/v1/container/control"},function(e,t){if(e)return;const n=t.getJSONBody();n&&"toggle_grid"===n.type&&p()})},t.toggle=p,t.enable=h,t.disable=m,t.setColor=function(e,t){u=e,c=t},t.reset=function(){s=null,l=null,u="",c="",f=0}}).call(this,n(1))},function(e,t,n){e.exports=n.p+"3467c1b319a1dcff64a7206b16743d31.svg"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mockTokenRequest=function(e=a){return(0,o._setHeaders)(),r.getToken=e,r.restore=s,r},t.restoreTokenRequest=s;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(107)),o=n(106);const i=r.getToken,a=function(){return Promise.resolve({accessToken:"at",tokenType:"tt"})};function s(){r.get=i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addToken=function(e){if(!e||!e.setRequestHeader)throw new Error("Expected argument to be an XMLHttpRequest");return(0,r.getToken)().then(({accessToken:t,tokenType:n})=>(e.setRequestHeader("Authorization",`${n} ${t}`),e))},t.addWebgateHeaders=function(e){if(!e||!e.setRequestHeader)throw new Error("Expected argument to be an XMLHttpRequest");return(0,o.getWebgateHeaders)().forEach(t=>{e.setRequestHeader(t[0],t[1])}),e};var r=n(107),o=n(106)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t={headers:new Headers}){return(0,r.getToken)().then(({accessToken:n,tokenType:r})=>{const i=`${r} ${n}`,a="string"==typeof e?e:e.url;let s=[];return 0===a.indexOf("https://spclient")&&(s=(0,o.getWebgateHeaders)()),t.headers instanceof Headers?(t.headers.append("Authorization",i),s.forEach(function(e){t.headers.append(e[0],e[1])})):(t.headers.Authorization=i,s.forEach(function(e){t.headers[e[0]]=e[1]})),fetch(e,t)})};var r=n(107),o=n(106)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpMockHelper=t.addWebgateHeaders=t.addToken=t.spFetch=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(490)),o=n(489),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(488));t.spFetch=r.default,t.addToken=o.addToken,t.addWebgateHeaders=o.addWebgateHeaders,t.httpMockHelper=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(22)),o=f(n(11)),i=f(n(6)),a=f(n(174)),s=n(491),l=f(n(13)),u=f(n(198)),c=n(168),d=f(n(72));function f(e){return e&&e.__esModule?e:{default:e}}const p=(0,i.default)("saf:debug");function h(e,t){return o.default.patchTargeting(e,t)}function m(){r.default.dispatchEvent({type:l.default.DEBUG_FORCE_REFRESH_LEADERBOARD,params:{},extra:{}})}function g(){r.default.dispatchEvent({type:l.default.DEBUG_FORCE_REFRESH_HPTO,params:{},extra:{}})}function y(e,t){return new Promise((n,r)=>{p(`Setting ad server endpoint for "${e}" to "${t}"`),o.default.configureSlot(e,"ad_server_endpoint",t).then(t=>{if(200===t.getStatusCode()){const t=document.getElementById("content-wrapper"),r=document.createElement("div");r.setAttribute("data-ta-id",`${e}-slot-overridden`),t.appendChild(r),n()}else r(`Unable to set slot settings for slot ${e}`)})})}function v(e){r.default.dispatchEvent({type:l.default.DEBUG_OVERRIDE_AD_LEADERBOARD_FLAGS,params:{flags:e}})}let _="";r.default.addEventListener(l.default.DEBUG_RECEIVED_AD_LEADERBOARD_HTML,e=>{_=e.params.html}),t.default={patchTargeting:h,refreshLeaderboard:m,refreshHPTO:g,setBillboardTimeout:function(e){r.default.dispatchEvent({type:l.default.DEBUG_SET_BILLBOARD_TIMEOUT,params:{timeout:1e3*e},extra:{}})},triggerBillboard:function(){r.default.dispatchEvent({type:l.default.DEBUG_FORCE_REFRESH_BILLBOARD,params:{},extra:{}})},increaseStreamTime:function(e){return o.default.increaseStreamTime(e)},getAdServerEndpoint:function(e){return new Promise((t,n)=>{o.default.getSlotConfigurations(e).then(r=>{if(200===r.getStatusCode()){const e=r.getJSONBody().settings[0].ad_server_endpoint;t(e)}else n(`Unable to get slot settings for slot ${e}`)})})},overrideAdServerEndpoint:y,overrideAdSlotEndpoint:function(e){o.default.setAdSlotEndpoint(e)},overrideAdStatePusherEndpoint:function(e){return o.default.setAdStatePusherEndpoint(e)},overrideSponsoredPlaylistEndpoint:function(e){o.default.setSponsoredUri(e)},manualPodLoad:function(e){return o.default.loadAdPod(e)},setAdServerEndpoint:function(e,t,n){return new Promise((r,i)=>{const a="ad_server_endpoint";o.default.getSlotConfigurations(e).then(s=>{if(200===s.getStatusCode()){let l=s.getJSONBody().settings[0][a].replace("https://pubads.g.doubleclick.net",t);l+=`&session_id=${n}`,o.default.configureSlot(e,a,l).then(t=>{200===t.getStatusCode()?r():i(`Unable to set slot settings for slot ${e}`)})}else i(`Unable to set slot settings for slot ${e}`)})})},getVersion:function(){return"Deprecated"},clearSlot:function(e){return o.default.postToSlot(e,"clear")},subToFormats:function(e){return o.default.subscribeToAllFormats((t,n)=>{(e||(()=>{p("event for format %o: %o",t,n)}))(t,n)})},subToState:function(e){return o.default.subToState(t=>{e?e(t):p("legacy ads state updated: %o",t.state)})},subToAdState:function(e){o.default.subToAdState(t=>{e?e(t):p("ad state updated: %o",t)})},getState:function(e){return o.default.getState().then(t=>{e?e(t):p("legacy ads state: %o",t.state)})},getAdState:function(e){return o.default.getAdState().then(t=>{e?e(t):p("ad state: %o",t)})},configureSlot:function(e,t,n){return o.default.configureSlot(e,t,n)},debug:p,BillboardAd:u.default,setAdUserId:function(e){return h("aduserid",e).then(()=>{g(),m()})},setAdLeaderboardHtml:function(e){r.default.dispatchEvent({type:l.default.DEBUG_OVERRIDE_AD_LEADERBOARD_HTML,params:{html:e},extra:{}})},getReceivedAdLeaderboardHtml:function(){return _},getAdSlotConfigurations:function(e,t){o.default.getSlotConfigurations(e).then(n=>{if(200!==n.getStatusCode())throw new Error(`bad status code from slot config: ${n.getStatusCode()}`);(t||(()=>{p("config for slot=%o, res=%o",e,n)}))(n.getJSONBody())})},setLeaderboardAdSlotFlags:v,iabBillboardOn:function(){v({iabBillboard:!0})},iabBillboardOff:function(){v({iabBillboard:!1})},setLeaderboardRefreshIntervalMs:function(e){r.default.dispatchEvent({type:l.default.DEBUG_OVERRIDE_AD_LEADERBOARD_REFRESH_INTERVAL,params:{interval:e}})},disableLeaderboardRefreshOnNavigateOrRefocus:function(){r.default.dispatchEvent({type:l.default.DEBUG_DISABLE_AD_LEADERBOARD_REFRESH_ON_NAVIGATE_OR_REFOCUS})},enableLeaderboardRefreshOnNavigateOrRefocus:function(){r.default.dispatchEvent({type:l.default.DEBUG_ENABLE_AD_LEADERBOARD_REFRESH_ON_NAVIGATE_OR_REFOCUS})},debugOff:function(e){const t=`saf:${e||"*"}`;i.default.disable(t),console.log("You may need to restart your client for debug to be fully disabled.")},debugOn:function(e){const t=`saf:${e||"*"}`;i.default.enable(t),console.log("You may need to restart your client for debug to be fully enabled.")},clearHptoCache:function(){a.default.clearLocalStorageAd()},setRequestHeader:function(e,t,n){o.default.setRequestHeader(e,t,n).then(e=>{200===e.getStatusCode()?p("setRequestHeader: success"):p("setRequestHeader: bad status code",e.getStatusCode())}).catch(e=>{console.error("setRequestHeader: error:",e.message)})},setAdOptOut:function(e){(0,s.spFetch)("https://spclient.wg.spotify.com/adoptoutmanager/psb/v1/optout",{method:"POST",headers:new Headers,body:JSON.stringify({markOptOut:e,source:"AD_DEBUG"})}).then(e=>{p("Set Ad Opt Out Response, response=%o",e),console.log("Set Ad Opt Out Response",e)}).catch(e=>{p("Set Ad Opt Out Error, error=%o",e)}).then(()=>{new d.default("*").set("ui.hide_promoted_songs",e,function(e){e&&p("Local Prefs Error, err=o%",e)})})},removeRequestHeader:function(e,t){o.default.removeRequestHeader(e,t).then(e=>{200===e.getStatusCode()?p("removeRequestHeader: success"):p("removeRequestHeader: bad status code",e.getStatusCode())}).catch(e=>{console.error("removeRequestHeader: error:",e.message)})},setAdMockerUrl:c.setAdMockerUrl,resetHideCounterForAdOptOut:function(){(0,s.spFetch)("https://spclient.wg.spotify.com/adoptoutmanager/psb/v1/resetHideCount",{method:"POST",headers:new Headers}).then(e=>{p("Reset Hide Counter Response, response=%o",e),console.log("Reset Hide Counter Response",e)}).catch(e=>{p("Set Ad Opt Out Error, error=%o",e)})},incrementHideCounterForAdOptOut:function(){(0,s.spFetch)("https://spclient.wg.spotify.com/adoptoutmanager/psb/v1/incrementHideCount",{method:"POST",headers:new Headers}).then(e=>{p("Increment Hide Counter Response, response=%o",e),console.log("Increment Hide Counter Response",e)}).catch(e=>{p("Set Ad Opt Out Error, error=%o",e)})},createSlotAndOverrideItsAdServerEndpoint:function(e,t){return o.default.addNewSlot(e).then(()=>y(e,t)).catch(t=>p(`Problem creating and overriding ${e} slot, error=%o`,t))}}},function(e,t,n){"use strict";const r=function(e){return JSON.stringify(e)};r.displayName="json",e.exports=r},function(e,t,n){"use strict";const r=n(70),o=function(e,t,n){if(!t)return"";const o=`${n}Reaction${t>1?"Multi":"Single"}`;if(t>1)return r(o,t);if(!e.length)return"";const i=e[0].name;return r(o,i)};o.displayName="userReaction",e.exports=o},function(e,t,n){"use strict";e.exports=function(e){if(!e||!e.split)return null;const t=e.split(":");switch(t[1]){case"album":if(4===t.length)return"disc";if(3===t.length)return"album";break;case"artist":if(3===t.length)return"artist";break;case"dailymix":return"dailymix";case"track":if(3===t.length)return"track";break;case"playlist":if(3===t.length)return"playlist";break;case"genre":if(3===t.length)return"genre";break;case"show":if(3===t.length)return"show";break;case"station":if(t.length>3)return"station";break;case"episode":if(3===t.length)return"episode";break;case"local":if(6===t.length)return"track";if(4===t.length)return"album";if(3===t.length)return"artist";break;case"user":if(t.length>3&&"collection"===t[3]&&"album"===t[4])return"collection-album";if(t.length>3&&"collection"===t[3]&&"artist"===t[4])return"collection-artist";if(t.length>3&&"collection"===t[3])return"collection";if(5===t.length&&"folder"===t[3])return"playlist-folder";if(5===t.length&&"cluster"===t[3])return"cluster";if(t.length>3&&t.length<=5&&"facebook"!==t[2])return"playlist";if(3===t.length)return"user";break;case"internal":return t[2];case"app":return t.slice(1).join("-")}return null}},function(e,t,n){"use strict";const r=n(495),o=function(e){if(arguments.length<=2)return r(e);const t=arguments[arguments.length-1];let n=!1;const o=r(e);for(let e=1;e<arguments.length-1;e++)if(o===arguments[e]){n=!0;break}return n?t.fn(this):t.inverse(this)};o.displayName="type",e.exports=o},function(e,t,n){"use strict";const r=n(43),o=n(40),i=n(42),a=n(77).default,s=Array.prototype.slice,l=function(e){let t,n,l,u,c=e;return c?(i(s.call(arguments,1),function(e){switch(r(e)){case"String":t=e;break;case"Number":null===n?n=e:null===l&&(l=e);break;case"Object":u=e}}),null!==n&&(c=c.slice(n,null!==l?l:c.length)),o(c,function(e,t){const n=a.createFrame(u.data||{});return n.index=t,u.fn(e,{data:n})}).filter(e=>""!==e).join(t||"")):""};l.displayName="slice",e.exports=l},function(e,t,n){"use strict";const r=n(165),o=function(e){return r(e,"https://open.spotify.com")};o.displayName="share",e.exports=o},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(78));e.exports=function(e){const t=function(e){switch(e){case"ar":case"cs":case"de":case"el":case"fi":case"hu":case"ja":case"pl":case"sv":case"ms":return e=>`${e}.`;case"it":case"pt-BR":return e=>`${e}`;case"fr":case"fr-CA":return e=>`${e}${1===e?"er":"e"}`;case"es":case"es-419":return(e,t=e%10)=>`${e}${1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"}`;case"id":return e=>`${e}`;case"nl":return(e,t=e%100)=>`${e}${0!==e&&t<=1||8===t||t>=20?"ste":"de"}`;case"tr":return e=>{if(0===e)return`${e}'nc`;const t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},n=e%10;return`${e}${t[n]||t[e%100-n]||t[e>=100?100:null]}`};case"zh-Hant":return e=>`${e}`;case"en":return(e,t=e%10)=>`${e}${1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"}`;case"th":return e=>`${e}`;case"vi":return e=>1===e?"th nht":`th ${e}`;default:return console.warn(`No explicit ordinal formatter specified for "${e}" locale  please add to spotify-numeral`),e=>`${e}.`}}(e),n=new Intl.NumberFormat((0,r.default)(e,"intl"));return e=>({format:r=>((e,r="0,0")=>{if("0,0"===r)return n.format(e);if("0o"===r)return t(e);throw new Error(`Unsupported format ${r}`)})(e,r)})}},function(e,t,n){var r=n(74);e.exports=function(e){return r(e,"Number")}},function(e,t,n){"use strict";const r=n(500),o=function(e,t){const n=t&&t.hash&&t.hash.format,i=o._numeral;return r(e)?i(e).format(n):e};o.displayName="numeral",e.exports=o,e.exports.setLocale=function(e){o._numeral=n(499)(e)}},function(e,t,n){"use strict";function r(){const e=arguments[arguments.length-1];return!!top.initialState&&top.initialState.useNftUi?e.fn(this):e.inverse(this)}r.displayName="nft",e.exports=r},function(e,t,n){"use strict";const r=n(40),o=n(77).default,i={},a=function(e){if(!e)return"";const t=Array.prototype.slice.call(arguments),n=t.pop(),a=t[1];return"reset"===e?(delete i[a],""):(a&&void 0===i[a]&&(i[a]=-1),r(e,function(e,t){const r=o.createFrame(n.data||{});return r.index=a?++i[a]:t,r.number=r.index+1,r.localIndex=t,r.localNumber=t+1,n.fn(e,{data:r})}).join(n.hash&&n.hash.join||""))};a.displayName="list",e.exports=a},function(e,t,n){"use strict";const r=n(70),o=function(e){if(isNaN(e))return e;const t=Math.round(e/1e3),n=Math.floor(t/3600),o=Math.floor(t%3600/60),i=Math.round(t%3600%60);let a="";return n&&(a+=r("HoursShort",n,{})),o&&(a+=" ",a+=r("MinutesShort",o,{})),(!n&&!o||0===n&&o<10)&&(a+=" ",a+=r("SecondsShort",i,{})),a.trim()};o.displayName="humanizeDuration",e.exports=o},function(e,t,n){"use strict";(function(t){const r=n(165),o=!!t._getSpotifyModule,i=function(e){return o?e:r(e,"https://play.spotify.com")};i.displayName="href",e.exports=i}).call(this,n(1))},function(e,t,n){"use strict";const r=n(166),o=function(e,t){if(!e)return"";const n=e.length,o=Math.min(3,n);let i="";for(let n=0;n<o;n++){const r=e[n];i+=t.fn(r)}return n>o&&(i+=t.inverse({badgeCount:n-o,badgeTooltip:r(e.slice(o),n-o)})),i};o.displayName="facepile",e.exports=o},function(e,t,n){"use strict";const r=function(e){if(isNaN(e))return e;const t=Math.round(e/1e3);let n=Math.floor(t/3600),r=Math.floor(t%3600/60),o=Math.round(t%3600%60);return n?(n+=":",r<10&&(r=`0${r}`)):n="",o<10&&(o=`0${o}`),`${n+r}:${o}`};r.displayName="duration",e.exports=r},function(e,t,n){"use strict";const r={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},typeof:function(e,t){return typeof e==t}};function o(e,t,n){const o=arguments[arguments.length-1],i=n!==o&&n?"==":o.hash.operator||"===";return r[i](e,t)?o.fn(this):o.inverse(this)}o.displayName="compare",e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stop=t.start=void 0;var r=a(n(11)),o=n(34),i=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}t.start=function(){if(h)return;c("start"),h=!0,d=(0,o.subscribeToClientState)([s],m),f=(0,o.subscribeToClientState)([l],g),p=(0,o.subscribeToClientState)([u],y),m(),y(),g()},t.stop=function(){f(),d(),p(),h=!1};const s="focus",l="current_app_uri",u="user_active",c=(0,i.default)("saf:ad-state-reporter");let d,f,p,h=!1;function m(){v(s,String((0,o.getClientState)()[s]))}function g(){v("view_uri",(0,o.getClientState)()[l])}function y(){v("inactive",String(!(0,o.getClientState)()[u]))}function v(e,t){c(`_updateCoreAdState - key: ${e}, value: ${t}`),r.default.setAdStateKey(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stop=t.start=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(11)),o=n(34);t.start=function(){i=(0,o.subscribeToFocusChange)(e=>{const t=e?"true":"false",n=e?"video,adscore":"adscore";r.default.patchTargeting("focus",t),r.default.patchTargeting("adbreak",n)})},t.stop=function(){i()};let i=()=>{}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i;return'  <img class="3p-imp-pixel" style="display:none;width:1px;height:1px;" src="'+e.escapeExpression("function"==typeof(i=null!=(i=n.thirdPartyImpSrc||(null!=t?t.thirdPartyImpSrc:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"thirdPartyImpSrc",hash:{},data:o}):i)+'" />\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<a href="'+u("function"==typeof(a=null!=(a=n.clickSrc||(null!=t?t.clickSrc:t))?a:l)?a.call(s,{name:"clickSrc",hash:{},data:o}):a)+'">\n  <img src="'+u("function"==typeof(a=null!=(a=n.logoSrc||(null!=t?t.logoSrc:t))?a:l)?a.call(s,{name:"logoSrc",hash:{},data:o}):a)+'" />\n</a>\n  <img class="imp-pixel" style="display:none;width:1px;height:1px;" src="'+u("function"==typeof(a=null!=(a=n.impSrc||(null!=t?t.impSrc:t))?a:l)?a.call(s,{name:"impSrc",hash:{},data:o}):a)+'" />\n'+(null!=(i=n.if.call(s,null!=t?t.thirdPartyImpSrc:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")},useData:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=f(n(6)),i=f(n(11)),a=f(n(13)),s=f(n(511)),l=f(n(60)),u=f(n(113)),c=f(n(76)),d=f(n(15));function f(e){return e&&e.__esModule?e:{default:e}}const p=(0,o.default)("saf:sponsored-playlist"),h={};function m(e){const t=document.createElement("div");return t.className="sponsored-logo",t.setAttribute("data-ta-id","sponsored-playlist-logo"),t.innerHTML=(0,s.default)({clickSrc:e.clickThrough,logoSrc:e.logoUrl,impSrc:e.impression,thirdPartyImpSrc:e.thirdPartyImpression}),t.addEventListener("click",()=>{!function(e){const t={event:"event_clicked",ad_format:"sponsored playlist",lineitem_id:String(e.lineItemId),creative_id:String(e.creativeId),ad_id:String(e.creativeId)};u.default.log(t),p("logClicked message=%o",t)}(e),d.default.appendTrackingPixel(e.clickTracking,t),p("Logo clicked")}),t}function g(e){p("create",e);const t={},n=function(e){return{lineItemId:e.lineItemId,creativeId:e.creativeId,clickTracking:e.clickTracking,clickThrough:e.clickThrough,logoUrl:e.logoUrl,impression:e.impression,thirdPartyImpression:e.thirdPartyImpression,advertiserName:e.advertiserName,label:[l.default.get("PresentedBy"),e.advertiserName].join(" ")}}(e),r=m(n);let o=!1;return t.appendLogoTo=(e=>(o?r.classList.remove("fade-in"):(!function(){p("hideLeaderboard"),window.top.postMessage({type:a.default.AD_SPONSORSHIP_ACTIVE},"*")}(),function(e){const t={event:"event_viewed",ad_format:"sponsored playlist",lineitem_id:String(e.lineItemId),creative_id:String(e.creativeId),ad_id:String(e.creativeId)};u.default.log(t),p("logViewed message=%o",t)}(n),p("active"),r.classList.add("fade-in")),e.appendChild(r),o=!0,t)),t.getLabel=(()=>n.label),t}h.fetch=(e=>{const t=e.uri;return p("fetch on uri=%o",t),i.default.getSponsoredUris().then(e=>(p("sponsored uri response=%o",e),function(e,t){const n=Date.now()/1e3;return t.some(t=>{const r=t.endTime||n+1;return t.spotifyUri===e&&n>=t.startTime&&n<r})}(t,e.sponsorships)?i.default.getSponsorshipAd(t).then(g).catch(function(e){const t={request_type:"sponsored playlist",error_message:JSON.stringify({reason:e})};c.default.log(t),p("logError message=%o",t)}.bind(null,"ad_failed_to_retrieve")):(p("Playlist not sponsored"),!1)))}),h.subscribeToPreviewUri=(e=>{i.default.subscribeToFormat("banner",t=>{if(!t.ad.display||t.ad.display&&300!==t.ad.display[0].width)return;const n=JSON.parse(t.ad.display[0].media.match(/\{(\s)+"sponsoredPlaylist(.|\s)+\}(\s)+\}/)[0]).sponsoredPlaylist,r=g(Object.assign({},n,{logoUrl:n.logo}));e(r)});i.default.addNewSlot("sponsored-playlist").catch(e=>p("create slot error",e)).then(()=>{i.default.subscribeToSlot("sp://ads/v1/slots/sponsored-playlist",t=>{const n=(new DOMParser).parseFromString(t.ad.display[0].media,"text/html"),o=JSON.parse(n.querySelector('[data-template="sponsored-playlist"]').innerText);e(g(r({},o.sponsoredPlaylist,{logoUrl:o.sponsoredPlaylist.logo})))})})}),t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(11));const o=new(n(59).EventEmitter);let i=null,a=null,s=!1,l=!1,u=!1;const c={};function d(e){throw new Error(`AudioCompanionAd: ${e}`)}function f(e){e.preventDefault(),function(e){i||d("adId not set"),r.default.postEvent(i,e).catch(e=>{console.error(e)})}("clicked")}c.init=(e=>(u&&d("already initialized"),a=e&&e.element,u=!0,c)),c.reset=(()=>{a.removeEventListener("click",f),a=null,s=!1,l=!1,i=null,u=!1}),c.setAdId=(e=>(i=e,c)),c.enable=(()=>(l||(a.addEventListener("click",f),o.emit("ENABLED")),c)),c.disable=(()=>(l&&(a.removeEventListener("click",f),o.emit("DISABLED")),c)),c.on=((e,t)=>(o.on(e,t),c)),c.off=((e,t)=>(o.removeListener(e,t),c)),c.isEnabled=(()=>l),c.isActive=(()=>s),c.EVENTS={ENABLED:"ENABLED",DISABLED:"DISABLED",ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},o.on("ENABLED",()=>{l=!0,o.emit("ACTIVE")}),o.on("DISABLED",()=>{l=!1,o.emit("INACTIVE")}),o.on("ACTIVE",()=>{s=!0}),o.on("INACTIVE",()=>{s=!1}),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractMoatIds=function(e){const t={level1:e.advertiser_id,level2:e.order_id,level3:e.lineitem_id,level4:e.creative_id};e.dealId?Object.assign(t,{dealId:e.dealId,domain:e.domain,channelId:e.channelId}):e.zMoatVF&&Object.assign(t,{zMoatCLUSTERID:e.zMoatCLUSTERID,zMoatLOne:e.zMoatLOne,zMoatLThree:e.zMoatLThree,zMoatLTwo:e.zMoatLTwo,zMoatSOne:e.zMoatSOne,zMoatSTwo:e.zMoatSTwo,zMoatVADID:e.zMoatVADID,zMoatVCP:e.zMoatVCP});return t},t.getMoatEvent=function(e){const t=l[e];t||(console.error("A Moat Event does not exist for",e),i.default.log({request_type:"moat:get-moat-event",error_message:`No moat event exists for ${e}`}));return t},t.create=function(e){return function(e,t,n){return e.then(e=>{const r={type:n,adVolume:t.volume};return s(r,e.adData.ids),e.dispatchEvent(r)}).catch(e=>{console.error(e),i.default.log({request_type:"moat:log-moat-event",error_message:e.message})})}.bind(null,function(e,t,n){return new Promise(o=>{n.readyState>=n.HAVE_METADATA?o(r.initMoatTracking(e,t,n.duration,u)):n.addEventListener("loadedmetadata",function i(){n.removeEventListener("loadedmetadata",i),o(r.initMoatTracking(e,t,n.duration,u))})})}(e.container,e.ids,e.videoNode),e.videoNode)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(169)),o=a(n(171)),i=a(n(76));function a(e){return e&&e.__esModule?e:{default:e}}const s=(0,a(n(6)).default)("saf:moat"),l={};l[o.default.EVENTS.STARTED]="AdVideoStart",l[o.default.EVENTS.FIRST_QUARTILE]="AdVideoFirstQuartile",l[o.default.EVENTS.MIDPOINT]="AdVideoMidpoint",l[o.default.EVENTS.THIRD_QUARTILE]="AdVideoThirdQuartile",l[o.default.EVENTS.PAUSED]="AdPaused",l[o.default.EVENTS.RESUMED]="AdPlaying",l[o.default.EVENTS.ENDED]="AdVideoComplete",l[o.default.EVENTS.SKIPPED]="AdStopped",l[o.default.EVENTS.ERRORED]="AdError",l[o.default.EVENTS.VOLUME_CHANGE]="AdVolumeChange";const u="spotifynativeapp525794473702"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(170)),o=l(n(62)),i=l(n(172)),a=n(169),s=n(514);function l(e){return e&&e.__esModule?e:{default:e}}const u="spotifynativeapp525794473702",c=(0,l(n(6)).default)("saf:vendor-moat"),d=[r.AD_VIDEO_START,r.AD_VIDEO_FIRST_QUARTILE,r.AD_VIDEO_MIDPOINT,r.AD_VIDEO_THIRD_QUARTILE,r.AD_VIDEO_COMPLETE,r.AD_PAUSED,r.AD_PLAYING,r.AD_VOLUME_CHANGE];t.default=class{constructor(e,t){this.ad=e,this.videoNode=t,this.notify=this.notify.bind(this)}_initializeSdk(){this.moat=(0,a.initMoatTracking)(this.videoNode.parentNode,(0,s.extractMoatIds)(this.ad.metadata),(0,i.default)(this.videoNode.duration)?this.videoNode.duration:0,u),c("init-success")}notify(e){if((0,o.default)(this.moat)||this._initializeSdk(),d.includes(e)){const t={type:e,adVolume:this.videoNode.volume};this.moat.dispatchEvent(t),c("notify-success",e,t)}}}},function(e,t,n){var r=n(114);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(62),o=n(516),i=n(191),a="Expected a function",s=Math.max,l=Math.min;e.exports=function(e,t,n){var u,c,d,f,p,h,m=0,g=!1,y=!1,v=!0;if("function"!=typeof e)throw new TypeError(a);function _(t){var n=u,r=c;return u=c=void 0,m=t,f=e.apply(r,n)}function b(e){var n=e-h;return void 0===h||n>=t||n<0||y&&e-m>=d}function w(){var e=o();if(b(e))return E(e);p=setTimeout(w,function(e){var n=t-(e-h);return y?l(n,d-(e-m)):n}(e))}function E(e){return p=void 0,v&&u?_(e):(u=c=void 0,f)}function k(){var e=o(),n=b(e);if(u=arguments,c=this,h=e,n){if(void 0===p)return function(e){return m=e,p=setTimeout(w,t),g?_(e):f}(h);if(y)return p=setTimeout(w,t),_(h)}return void 0===p&&(p=setTimeout(w,t)),f}return t=i(t)||0,r(n)&&(g=!!n.leading,d=(y="maxWait"in n)?s(i(n.maxWait)||0,t):d,v="trailing"in n?!!n.trailing:v),k.cancel=function(){void 0!==p&&clearTimeout(p),m=0,u=h=c=p=void 0},k.flush=function(){return void 0===p?f:E(o())},k}},function(e,t,n){var r=n(517),o=n(62),i="Expected a function";e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(i);return o(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(176)),o=s(n(518)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(170)),a=s(n(71));function s(e){return e&&e.__esModule?e:{default:e}}const l={DURATION_CHANGE:"durationchange",ENDED:"ended",ERROR:"error",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange"},u=(0,s(n(6)).default)("saf:MockVPAIDVideo");t.default=class{constructor(e){this.notificationFuncs=[],this.dispatchedEvents=[],this.cleanup=new a.default,this.videoNode=e,this._onTimeupdate=(0,o.default)(this._onTimeupdate,500),this._onDurationchange=(0,o.default)(this._onDurationchange,500)}_hasDispatchedEvent(e){return this.dispatchedEvents.includes(e)}_publish(...e){e.forEach(e=>{u("publish",e),this.notificationFuncs.forEach(t=>t(e)),this.dispatchedEvents.push(e)})}_onPlaying(){this._hasDispatchedEvent(i.AD_LOADED)?this._publish(i.AD_PLAYING):this._publish(i.AD_LOADED,i.AD_VIDEO_START,i.AD_IMPRESSION)}_onDurationchange(){this._publish(i.AD_DURATION_CHANGE)}_onError(){this._publish(i.AD_ERROR)}_onPause(){this.videoNode.currentTime!==this.videoNode.duration&&this._publish(i.AD_PAUSED)}_onVolumechange(){this._publish(i.AD_VOLUME_CHANGE)}_onEnded(){this._publish(i.AD_VIDEO_COMPLETE,i.AD_STOPPED),this.destroy()}_onTimeupdate({target:{currentTime:e,duration:t}={}}={}){const n=e/t;n>=.25&&!this._hasDispatchedEvent(i.AD_VIDEO_FIRST_QUARTILE)&&this._publish(i.AD_VIDEO_FIRST_QUARTILE),n>=.5&&!this._hasDispatchedEvent(i.AD_VIDEO_MIDPOINT)&&this._publish(i.AD_VIDEO_MIDPOINT),n>=.75&&!this._hasDispatchedEvent(i.AD_VIDEO_THIRD_QUARTILE)&&this._publish(i.AD_VIDEO_THIRD_QUARTILE)}initialize(){Object.keys(l).forEach(e=>{const t=l[e],n=`_on${t[0].toUpperCase()}${t.slice(1)}`;if((0,r.default)(this[n])){const e=this[n].bind(this);this.videoNode.addEventListener(t,e),this.cleanup.addTask(()=>{this.videoNode.removeEventListener(t,e)})}}),u("init-success")}subscribe(e){if(!(0,r.default)(e))throw new TypeError("`subscribe` expects a function");this.notificationFuncs.push(e)}destroy(){this.cleanup.executePendingTasks()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(519)),o=i(n(515));function i(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(){this.activeTrackers=[]}start(e,t){const{metadata:n={}}=e;this.mockVpaidVideo=new r.default(t),"true"===n["moat.enabled"]&&this.activeTrackers.push(new o.default(e,t)),this.activeTrackers.length&&(this.activeTrackers.forEach(e=>this.mockVpaidVideo.subscribe(e.notify)),this.mockVpaidVideo.initialize())}end(){this.mockVpaidVideo&&this.mockVpaidVideo.destroy()}}},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="saf-video-takeover-video" data-qa="saf-video-takeover-video"></div>\n\n<button\n  type="button"\n  class="saf-video-takeover-btn-min"\n  data-qa="saf-video-takeover-btn-min"\n  data-click="maximize"\n>\n  <i class="spoticon-chevron-right-16" data-click="maximize"></i>\n</button>\n\n<button\n  type="button"\n  class="saf-video-takeover-btn-max"\n  data-qa="saf-video-takeover-btn-max"\n  data-click="minimize"\n>\n  <i class="spoticon-x-24" data-click="minimize"></i>\n</button>\n'},useData:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventLogger=void 0,t.factory=a;var r=i(n(6)),o=i(n(11));function i(e){return e&&e.__esModule?e:{default:e}}function a({debug:e,Promise:t}){return function(n){if(!n)throw new Error("adId is required");let r=t.resolve();this.logEvent=((t,i)=>r=r.catch(()=>{}).then(()=>o.default.postEvent(n,t,i)).then(()=>(e(n,t,i),!0)).catch(r=>{throw e(n,t,i,r),r}))}}t.EventLogger=a({debug:(0,r.default)("saf:event-logger"),Promise})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(61)),i=p(n(172)),a=p(n(6)),s=p(n(171)),l=n(522),u=p(n(521)),c=n(59),d=p(n(520)),f=n(34);function p(e){return e&&e.__esModule?e:{default:e}}const h=(0,a.default)("saf:video:view"),m=5e3,g="video_error_buffer_timeout";let y=null,v=null;const _={create(e,t){h("create: %o",e);const n=function(){const e=b("saf-video-takeover");return e.innerHTML=(0,u.default)(),e}(),a=n.getElementsByClassName("saf-video-takeover-video")[0],p=new c.EventEmitter,_=new d.default,w=e.metadata&&e.metadata.fireImpressionOnStart,E=e.click_url,k=function(e){const t=300,n=250,r=/^image\/(jpeg|png)$/;return{id:e.id,title:e.title,advertiser:e.advertiser,clickUrl:e.click_url,companionAd:function(){let o;const i=e.companion_ads,a=i&&i.length||0;for(let e=0;e<a;e++)if(!o&&i[e].url&&(o=i[e]),s(i[e])){o=i[e];break}return{url:o&&o.url,width:o&&o.width,height:o&&o.height};function s(e){return e.width===t&&e.height===n&&r.test(e.mime_type)}}()}}(e);let S,x=null,T=null,A=!1,P=!1,C=!1,O=null,L=!1,I=o.default,R=o.default;const M=(()=>{const t=new l.EventLogger(e.id).logEvent;return(e,n)=>t(e,Object.assign({event_data:r({clientReportedUserAgent:navigator.userAgent},(()=>{const e={volume:"-1",duration:"-1"};return x&&(e.volume=x.volume.toString(),(0,i.default)(x.duration)&&(e.duration=x.duration.toString())),e})()),playback_position:x&&(0,i.default)(x.currentTime)?Math.floor(1e3*x.currentTime):"-1"},n))})(),U={nowPlaying:()=>k,isDestroyed:()=>C,start(){h("start: isStarted=%o err=%o",P,x.error);try{if(P)return U;if(x.error)return U.fail();a.appendChild(x),_.start(e,x),function(){n.addEventListener("click",F),T.subscribe(H),R=s.default.subscribe(x,N),I=(0,f.subscribeToFocusChange)(D)}(),T.play(),B(!0),P=!0,w&&M("viewed")}catch(e){return h("error during video start",e),U.fail("video_error_start_failure")}return U},destroy:e=>(h("destroy"),_.end(),O||(p.emit("EVENT","DESTROYING"),O=new Promise(e=>{P&&function(){n.removeEventListener("click",F),T.unsubscribe(H),I(D),R()}(),n.parentNode&&n.parentNode.removeChild(n),e()}).then(()=>e?null:(w||M("viewed"),null)).catch(e=>{h("Error destroying view:",e)}).then(()=>(C=!0,p.emit("EVENT","DESTROYED"),U))),O),fail:e=>(h("fail: reason=%o",e),p.emit("EVENT","ERROR"),M(s.default.EVENTS.ERRORED,{event_version:e||"video_error_general_error"}).then(()=>U.destroy(!0))),minimize:e=>(j(e),U),setVideoPlayer(e){if(T)throw new Error("videoPlayer already set");return T=e,x=e?e.getNode():null,U},logClick:()=>(M("clicked"),U),subscribe:e=>(p.on("EVENT",e),p.removeListener.bind(p,"EVENT",e)),EVENTS:{DESTROYING:"DESTROYING",DESTROYED:"DESTROYED",ERROR:"ERROR"}};function D(e){return M(e?"foregrounded":"backgrounded")}function F(e){e.preventDefault(),e.stopPropagation(),e.target===x?function(){M("clicked"),window.open(E)}():"maximize"===e.target.dataset.click?B():"minimize"===e.target.dataset.click&&j()}function N(e){if(h("vast event=%o",e),L)return;const n=s.default.EVENTS;[n.CORE_STARTED,n.ENDED,n.ERRORED,n.PAUSED,n.RESUMED,n.SKIPPED,n.STARTED].includes(e)||M(e);const r="Enabled"===t;switch(e){case n.CORE_STARTED:r&&M(n.STARTED);break;case n.ERRORED:U.fail();break;case n.SKIPPED:r&&M(e),U.destroy(!0);break;case n.ENDED:r&&M(e),U.destroy()}}function j(e){A||function(){return n.parentNode===v}()||(A=!0,n.classList.add("will-minimize"),setTimeout(()=>{n.classList.add("minimize"),setTimeout(()=>{V(v,()=>{n.classList.remove("will-minimize","minimize"),A=!1,e||M("collapsed")})},300)},0))}function B(e){A||function(){return n.parentNode===y}()||(A=!0,n.classList.add("will-maximize"),V(y,()=>{setTimeout(()=>{n.classList.add("maximize"),setTimeout(()=>{n.classList.remove("will-maximize","maximize"),A=!1,e||M("expanded")},300)},0)}))}function V(e,t){const r=!x.paused;function o(){L=!1,t&&t()}L=!0,e.appendChild(n),r&&x.paused?(x.addEventListener("play",function e(){x.removeEventListener("play",e),o()}),T.play()):o()}function H(e,t,n){if(e&&U.fail(),n.isBuffering&&!t.isBuffering){const e=()=>{U.fail(g),S=null};S=setTimeout(e,m)}else!n.isBuffering&&S&&(clearInterval(S),S=null)}return U},appendMaxTo:e=>(y||(y=b("saf-video-takeover-max")),e.appendChild(y),_),appendMinTo:e=>(v||(v=b("saf-video-takeover-min")),e.appendChild(v),_)};function b(e){const t=document.createElement("div");return t.className=e,t}t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(115)),o=s(n(11)),i=n(59),a=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}const l=new i.EventEmitter,u="EVENT",c=(0,a.default)("saf:video:core"),d=(0,r.default)(function(){function e(e){c("core message: ",e),l.emit(u,e)}o.default.addNewSlot("stream","video").then(t=>o.default.subscribeToSlot(t,e)).catch(c)});const f={subscribe:e=>(d(),l.on(u,e),l.removeListener.bind(l,u,e))};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(115)),o=f(n(61)),i=f(n(6)),a=f(n(22)),s=f(n(13)),l=f(n(524)),u=f(n(523)),c=f(n(119)),d=n(59);function f(e){return e&&e.__esModule?e:{default:e}}const p=(0,i.default)("saf:video:index"),h=(0,r.default)(function(){(function(){T.subscribe(e=>{e===_?a.default.dispatchEvent({type:s.default.AD_VIDEO_STARTED}):e===b&&a.default.dispatchEvent({type:s.default.AD_VIDEO_FINISHED})})})(),l.default.subscribe(P),function(){a.default.addEventListener(s.default.NAVIGATION_STATE_CHANGE,A)}()}),m=new d.EventEmitter,g="EVENT",y={};let v=null;const _="ACTIVE",b="INACTIVE",w="ERROR";let E={cancel:o.default},k="Control",S=!1,x=!1;const T={appendMaxTo:e=>(u.default.appendMaxTo(e),T),appendMinTo:e=>(u.default.appendMinTo(e),T),enable:()=>(p("enable"),S||(h(),S=!0,m.emit(g,"ENABLED"),E=c.default.subscribe("ads-video-events-container",(e,t)=>{e||(k=t,p(`Abba: ads-video-events-container: ${t}`))})),T),disable:()=>(p("disable"),S&&(v&&v.destroy(),S=!1,m.emit(g,"DISABLED"),E.cancel()),T),subscribe:e=>(m.on(g,e),m.removeListener.bind(m,g,e)),playBetamaxVideo(e){p("playBetamaxVideo: %o",e);const t=e.videoPlayer,n=e.adId,r=y[n];if(!r)return console.warn(`playBetamaxVideo: view(${n}) is not available.`),T;const o=r.subscribe(e=>{e===r.EVENTS.DESTROYED&&o()});return r.setVideoPlayer(t),function(e){p("playView view=%o",e),x&&v.destroy();const t=e.subscribe(n=>{if(n===e.EVENTS.DESTROYED){if(t(),v===e&&(v=null),!x)return;x=!1,m.emit(g,b)}else n===e.EVENTS.ERROR&&m.emit(g,w)});v=e,x=!0,m.emit(g,_),e.start()}(r),T},getPreferredVideo(e){const t=["video/webm"],n=e&&e.filter(e=>t.indexOf(e.mimeType)>-1).sort((e,t)=>{const n=Math.abs(e.bitrate-640),r=Math.abs(t.bitrate-640);return n>r?1:r<n?-1:0})[0];return p("preferred video selected: videos=%o, preferred=%o",e,n),n&&n.url},nowPlaying:()=>v&&v.nowPlaying(),logClick:e=>(p("logClick: %o",e),x&&v.logClick(e),T),isEnabled:()=>S,isActive:()=>x,EVENTS:{ENABLED:"ENABLED",DISABLED:"DISABLED",ACTIVE:_,INACTIVE:b,ERROR:w}};function A(){x&&v.minimize()}function P(e){p("onCoreMessage: %o",e);let t=y[e.ad.id];"available"!==e.event&&"play"!==e.event||t&&!t.isDestroyed()||(t=y[e.ad.id]=u.default.create(e.ad,k)),"play"===e.event&&(p("play isEnabled=%o haveView=%o",S,!!t),S||t.destroy()),"discard"===e.event&&(t&&t.destroy(!0),y[e.ad.id]=null)}t.default=T},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(13));const o=function(e,t,n){if(!e)throw new Error("An event type needs to be specified");this.type=e,this.params=void 0===t?{}:t,this.extra=n||{}};o.TYPES=r.default,e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disable=t.render=void 0;var r=i(n(15)),o=i(n(175));function i(e){return e&&e.__esModule?e:{default:e}}const a=new(i(n(71)).default);t.render=function(e){if(!r.default.getProp("background image",e.adData))throw new Error("[Image HPTO] Missing background image");const t=e.adData,n=e.domEl,i=r.default.getProp("background color",t),s=r.default.getProp("background url",t),l=r.default.getProp("background image",t),u=document.createElement("img"),c=s&&s.replace(/&amp;/g,"&");function d(n){n.preventDefault(),t.accountUpgrade||window.open(c),e.onClick&&e.onClick(n)}return n.classList.add("image-hpto"),i&&(n.style.backgroundColor=("#"===i[0]?"":"#")+i),u.addEventListener("click",d),a.addTask(()=>{u.removeEventListener("click",d)}),u.src=o.default.getImageLink(l),u.classList.add("hpto-image-creative"),u.setAttribute("data-id",`dfp-${Date.now()}`),n.appendChild(u),Promise.resolve(!0)},t.disable=function(){a.executePendingTasks()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.comscore="http://b.scorecardresearch.com/p?c1=2&c2=15654041&c7=http%3A%2F%2Fwww.spotify-desktop.com&cv=2.0&cj=1"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(e){const t=e.adData,n=r.default.getProp("background image",t),a=e.loaderFrame;if(!t.html&&!n&&!a)throw new Error("[Html HPTO] Missing image / html / loaderFrame");const l=e.domEl;n&&(l.style.backgroundImage=`url(${i.default.getImageLink(n)})`);let u;l.classList.add("min-width"),r.default.appendTrackingPixel(o.comscore,l),a?(a.style.display="",u=a):(u=r.default.createInteractiveIframe(t.html),l.appendChild(u));const c=r.default.getProp("background url",t);if(c){const t=function(e,t,n){window.open(e),t(n)}.bind(null,c,e.onClick);l.addEventListener("click",t),l.classList.add("interactive"),s.addTask(()=>{l.removeEventListener("click",t)})}const d=r.default.getProp("background color",t);d&&(l.style.backgroundColor=("#"===d[0]?"":"#")+d);return Promise.resolve(!0)},t.disable=function(){s.executePendingTasks()};var r=a(n(15)),o=n(528),i=a(n(175));function a(e){return e&&e.__esModule?e:{default:e}}const s=new(a(n(71)).default)},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"no-image-url"},3:function(e,t,n,r,o){return'draggable="true"'},5:function(e,t,n,r,o){return"?action=browse"},7:function(e,t,n,r,o){var i;return"style=\"background-image: url('"+e.escapeExpression("function"==typeof(i=null!=(i=n.smallImageUri||(null!=t?t.smallImageUri:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"smallImageUri",hash:{},data:o}):i)+"')\""},9:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'        <div class="ne-attrib">\n          <a href="'+l("function"==typeof(i=null!=(i=n.attributionUri||(null!=t?t.attributionUri:t))?i:s)?i.call(a,{name:"attributionUri",hash:{},data:o}):i)+'" data-uri="'+l("function"==typeof(i=null!=(i=n.attributionUri||(null!=t?t.attributionUri:t))?i:s)?i.call(a,{name:"attributionUri",hash:{},data:o}):i)+'"  id="ne-attrib-link">'+l("function"==typeof(i=null!=(i=n.attribution||(null!=t?t.attribution:t))?i:s)?i.call(a,{name:"attribution",hash:{},data:o}):i)+"</a>\n        </div>\n"},11:function(e,t,n,r,o){var i=null!=t?t:e.nullContext||{},a=n.helperMissing,s=e.escapeExpression;return'              <div class="b-add-text">'+s((n.loc||t&&t.loc||a).call(i,"Save",{name:"loc",hash:{},data:o}))+'</div>\n              <div class="b-added-text b-alt-text">'+s((n.loc||t&&t.loc||a).call(i,"Saved",{name:"loc",hash:{},data:o}))+'</div>\n              <div class="b-remove-text b-alt-text">'+s((n.loc||t&&t.loc||a).call(i,"Remove",{name:"loc",hash:{},data:o}))+"</div>\n"},13:function(e,t,n,r,o){var i=null!=t?t:e.nullContext||{},a=n.helperMissing,s=e.escapeExpression;return'              <div class="b-add-text">'+s((n.loc||t&&t.loc||a).call(i,"Follow",{name:"loc",hash:{},data:o}))+'</div>\n              <div class="b-added-text b-alt-text">'+s((n.loc||t&&t.loc||a).call(i,"Following",{name:"loc",hash:{},data:o}))+'</div>\n              <div class="b-remove-text b-alt-text">'+s((n.loc||t&&t.loc||a).call(i,"Unfollow",{name:"loc",hash:{},data:o}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c="function",d=e.escapeExpression,f='<header class="header-album" data-uri="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+'" data-contextmenu>\n  <div class="ne-left-fade" style="width:590px"></div>\n\n  <section class="h-main-content container clearfix ne-container sponsored" style="padding:16px">\n    <div class="ne-container-center" style="overflow:auto; margin:0">\n      <div class="sponsorship" style="overflow:auto;margin-bottom:48px">\n        <div class="h-label">\n          <p style="margin:0">'+d((n.loc||t&&t.loc||u).call(l,"PresentedBy",{name:"loc",hash:{},data:o}))+'</p>\n          <img src="'+d(typeof(a=null!=(a=n.sponsoredLogo||(null!=t?t.sponsoredLogo:t))?a:u)===c?a.call(l,{name:"sponsoredLogo",hash:{},data:o}):a)+'" style="margin:4px 0;height:40px"/>\n          <p style="text-transform:none;margin-top:2px">'+d(typeof(a=null!=(a=n.logoBlurb||(null!=t?t.logoBlurb:t))?a:u)===c?a.call(l,{name:"logoBlurb",hash:{},data:o}):a)+'</p>\n        </div>\n      </div>\n      <div class="h-media" style="width:172px">\n        <div\n          class="\n            card\n            card-type-'+d((n.type||t&&t.type||u).call(l,null!=t?t.uri:t,{name:"type",hash:{},data:o}))+"\n            "+(null!=(i=n.unless.call(l,null!=t?t.smallImageUri:t,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'\n          "\n          data-uri="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+'"\n          data-drag-text="'+d(typeof(a=null!=(a=n.dragText||(null!=t?t.dragText:t))?a:u)===c?a.call(l,{name:"dragText",hash:{},data:o}):a)+'"\n          ';return a=null!=(a=n.noDrag||(null!=t?t.noDrag:t))?a:u,s={name:"noDrag",hash:{},fn:e.noop,inverse:e.program(3,o,0),data:o},i=typeof a===c?a.call(l,s):a,n.noDrag||(i=n.blockHelperMissing.call(t,i,s)),null!=i&&(f+=i),f+'\n        >\n          <div class="card-image-wrapper" data-contextmenu-spy data-ta-id="card-image-wrapper">\n            <a class="card-image-link" href="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+(null!=(i=(n.type||t&&t.type||u).call(l,null!=t?t.uri:t,"track",{name:"type",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+'" data-uri="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+'" title="'+d(typeof(a=null!=(a=n.name||(null!=t?t.name:t))?a:u)===c?a.call(l,{name:"name",hash:{},data:o}):a)+'" data-log-click="media-image" id="ne-image-link">\n              <div class="card-placeholder-wrapper">\n                <svg class="card-placeholder" viewBox="0 0 10 10" preserveAspectRatio="xMidYMid meet">\n                  <text class="playlist-placeholder" x="5" y="9.8">&#xf135;</text>\n                  <text class="album-placeholder" x="5" y="9.8">&#xf101;</text>\n                  <text class="artist-placeholder" x="5" y="9.8">&#xf103;</text>\n                  <text class="user-placeholder" x="5" y="9.8">&#xf15d;</text>\n                </svg>\n              </div>\n              <div class="card-image-content-wrapper">\n                <div\n                  class="card-image"\n                  data-ta-id="card-image"\n                  '+(null!=(i=n.if.call(l,null!=t?t.smallImageUri:t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o}))?i:"")+'\n                >\n                </div>\n              </div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="h-data">\n        <div class="h-label">\n          '+(null!=(i=typeof(a=null!=(a=n.typeLabel||(null!=t?t.typeLabel:t))?a:u)===c?a.call(l,{name:"typeLabel",hash:{},data:o}):a)?i:"")+'\n        </div>\n\n        <h1 class="h-title ne-title" data-contextmenu>\n          <a href="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+(null!=(i=(n.type||t&&t.type||u).call(l,null!=t?t.uri:t,"track",{name:"type",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+'" data-uri="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+'" id="ne-name-link">\n            <span class="ne-underline">'+d(typeof(a=null!=(a=n.name||(null!=t?t.name:t))?a:u)===c?a.call(l,{name:"name",hash:{},data:o}):a)+"</span>\n          </a>\n        </h1>\n\n"+(null!=(i=n.if.call(l,null!=t?t.attribution:t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o}))?i:"")+'\n        <div class="h-description">\n          '+d(typeof(a=null!=(a=n.blurb||(null!=t?t.blurb:t))?a:u)===c?a.call(l,{name:"blurb",hash:{},data:o}):a)+'\n        </div>\n\n        <div class="h-controllers" data-context data-uri="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+'" style="bottom:16px">\n          <button class="button button-green button-play" data-context data-button="play" id="ne-play-button" data-uri="'+d(typeof(a=null!=(a=n.playBtnUri||(null!=t?t.playBtnUri:t))?a:u)===c?a.call(l,{name:"playBtnUri",hash:{},data:o}):a)+'">\n            <div class="b-play-text">'+d((n.loc||t&&t.loc||u).call(l,"Play",{name:"loc",hash:{},data:o}))+'</div>\n            <div class="b-pause-text b-alt-text">'+d((n.loc||t&&t.loc||u).call(l,"Pause",{name:"loc",hash:{},data:o}))+'</div>\n          </button>\n          <button class="button button-with-stroke button-add" data-button="add" data-uri="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+'" id="ne-save-button">\n'+(null!=(i=(n.type||t&&t.type||u).call(l,null!=t?t.uri:t,"track","album",{name:"type",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o}))?i:"")+(null!=(i=(n.type||t&&t.type||u).call(l,null!=t?t.uri:t,"playlist","user","artist",{name:"type",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o}))?i:"")+'          </button>\n          <button class="button button-icon-with-stroke spoticon-more-16" data-button="contextmenu" data-tooltip="More" id="ne-more-button"></button>\n        </div>\n      </div>\n    </div>\n    <img class="sponsored-credits" src="'+d(typeof(a=null!=(a=n.credits||(null!=t?t.credits:t))?a:u)===c?a.call(l,{name:"credits",hash:{},data:o}):a)+'"/>\n  </section>\n\n  <div class="ne-bottom-fade"></div>\n  <div class="ne-bg-image ne-'+d(e.lambda(null!=t?t.type:t,t))+'" style="background-image: url(\''+d(typeof(a=null!=(a=n.backgroundImage||(null!=t?t.backgroundImage:t))?a:u)===c?a.call(l,{name:"backgroundImage",hash:{},data:o}):a)+"');\"></div>\n</header>\n"},useData:!0})},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"no-image-url"},3:function(e,t,n,r,o){return'draggable="true"'},5:function(e,t,n,r,o){return"?action=browse"},7:function(e,t,n,r,o){var i;return"style=\"background-image: url('"+e.escapeExpression("function"==typeof(i=null!=(i=n.smallImageUri||(null!=t?t.smallImageUri:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"smallImageUri",hash:{},data:o}):i)+"')\""},9:function(e,t,n,r,o){var i;return'            <img src="'+e.escapeExpression("function"==typeof(i=null!=(i=n.sponsoredLogo||(null!=t?t.sponsoredLogo:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"sponsoredLogo",hash:{},data:o}):i)+'"/>\n            <p>Presents</p>\n'},11:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'        <div class="ne-attrib">\n    <a href="'+l("function"==typeof(i=null!=(i=n.attributionUri||(null!=t?t.attributionUri:t))?i:s)?i.call(a,{name:"attributionUri",hash:{},data:o}):i)+'" data-uri="'+l("function"==typeof(i=null!=(i=n.attributionUri||(null!=t?t.attributionUri:t))?i:s)?i.call(a,{name:"attributionUri",hash:{},data:o}):i)+'"  id="ne-attrib-link">'+l("function"==typeof(i=null!=(i=n.attribution||(null!=t?t.attribution:t))?i:s)?i.call(a,{name:"attribution",hash:{},data:o}):i)+"</a>\n        </div>\n"},13:function(e,t,n,r,o){var i=null!=t?t:e.nullContext||{},a=n.helperMissing,s=e.escapeExpression;return'              <div class="b-add-text">'+s((n.loc||t&&t.loc||a).call(i,"Save",{name:"loc",hash:{},data:o}))+'</div>\n              <div class="b-added-text b-alt-text">'+s((n.loc||t&&t.loc||a).call(i,"Saved",{name:"loc",hash:{},data:o}))+'</div>\n              <div class="b-remove-text b-alt-text">'+s((n.loc||t&&t.loc||a).call(i,"Remove",{name:"loc",hash:{},data:o}))+"</div>\n"},15:function(e,t,n,r,o){var i=null!=t?t:e.nullContext||{},a=n.helperMissing,s=e.escapeExpression;return'              <div class="b-add-text">'+s((n.loc||t&&t.loc||a).call(i,"Follow",{name:"loc",hash:{},data:o}))+'</div>\n              <div class="b-added-text b-alt-text">'+s((n.loc||t&&t.loc||a).call(i,"Following",{name:"loc",hash:{},data:o}))+'</div>\n              <div class="b-remove-text b-alt-text">'+s((n.loc||t&&t.loc||a).call(i,"Unfollow",{name:"loc",hash:{},data:o}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c="function",d=e.escapeExpression,f='<header class="header header-album ne-header" data-uri="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+'">\n  <div class="ne-left-fade"></div>\n\n  <section class="h-main-content container clearfix ne-container">\n    <div class="ne-container-center">\n      <div class="h-media">\n        <div\n          class="\n            card\n            card-type-'+d((n.type||t&&t.type||u).call(l,null!=t?t.uri:t,{name:"type",hash:{},data:o}))+"\n            "+(null!=(i=n.unless.call(l,null!=t?t.smallImageUri:t,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'\n          "\n          data-uri="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+'"\n          data-drag-text="'+d(typeof(a=null!=(a=n.dragText||(null!=t?t.dragText:t))?a:u)===c?a.call(l,{name:"dragText",hash:{},data:o}):a)+'"\n          ';return a=null!=(a=n.noDrag||(null!=t?t.noDrag:t))?a:u,s={name:"noDrag",hash:{},fn:e.noop,inverse:e.program(3,o,0),data:o},i=typeof a===c?a.call(l,s):a,n.noDrag||(i=n.blockHelperMissing.call(t,i,s)),null!=i&&(f+=i),f+'\n        >\n          <div class="card-image-wrapper" data-contextmenu-spy data-ta-id="card-image-wrapper">\n            <a class="card-image-link" href="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+(null!=(i=(n.type||t&&t.type||u).call(l,null!=t?t.uri:t,"track",{name:"type",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+'" data-uri="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+'" title="'+d(typeof(a=null!=(a=n.name||(null!=t?t.name:t))?a:u)===c?a.call(l,{name:"name",hash:{},data:o}):a)+'" data-log-click="media-image" id="ne-image-link">\n              <div class="card-placeholder-wrapper">\n                <svg class="card-placeholder" viewBox="0 0 10 10" preserveAspectRatio="xMidYMid meet">\n                  <text class="playlist-placeholder" x="5" y="9.8">&#xf135;</text>\n                  <text class="album-placeholder" x="5" y="9.8">&#xf101;</text>\n                  <text class="artist-placeholder" x="5" y="9.8">&#xf103;</text>\n                  <text class="user-placeholder" x="5" y="9.8">&#xf15d;</text>\n                </svg>\n              </div>\n              <div class="card-image-content-wrapper">\n                <div\n                  class="card-image"\n                  data-ta-id="card-image"\n                  '+(null!=(i=n.if.call(l,null!=t?t.smallImageUri:t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o}))?i:"")+'\n                >\n                </div>\n              </div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="h-data">\n        <div class="h-label '+d(typeof(a=null!=(a=n.badgeType||(null!=t?t.badgeType:t))?a:u)===c?a.call(l,{name:"badgeType",hash:{},data:o}):a)+'">\n          '+(null!=(i=typeof(a=null!=(a=n.typeLabel||(null!=t?t.typeLabel:t))?a:u)===c?a.call(l,{name:"typeLabel",hash:{},data:o}):a)?i:"")+"\n"+(null!=(i=n.if.call(l,null!=t?t.sponsoredLogo:t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o}))?i:"")+'        </div>\n\n  <h1 class="h-title ne-title" data-contextmenu>\n          <a href="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+(null!=(i=(n.type||t&&t.type||u).call(l,null!=t?t.uri:t,"track",{name:"type",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+'" data-uri="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+'" id="ne-name-link">\n            <span class="ne-underline">'+d(typeof(a=null!=(a=n.name||(null!=t?t.name:t))?a:u)===c?a.call(l,{name:"name",hash:{},data:o}):a)+"</span>\n          </a>\n        </h1>\n\n"+(null!=(i=n.if.call(l,null!=t?t.attribution:t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o}))?i:"")+'\n        <div class="h-description">\n          '+d(typeof(a=null!=(a=n.blurb||(null!=t?t.blurb:t))?a:u)===c?a.call(l,{name:"blurb",hash:{},data:o}):a)+'\n        </div>\n\n        <div class="h-controllers" data-context data-uri="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+'">\n    <button class="button button-green button-play" data-context data-button="play" id="ne-play-button" data-uri="'+d(typeof(a=null!=(a=n.playBtnUri||(null!=t?t.playBtnUri:t))?a:u)===c?a.call(l,{name:"playBtnUri",hash:{},data:o}):a)+'">\n            <div class="b-play-text">'+d((n.loc||t&&t.loc||u).call(l,"Play",{name:"loc",hash:{},data:o}))+'</div>\n            <div class="b-pause-text b-alt-text">'+d((n.loc||t&&t.loc||u).call(l,"Pause",{name:"loc",hash:{},data:o}))+'</div>\n          </button>\n          <button class="button button-with-stroke button-add" data-button="add" data-uri="'+d(typeof(a=null!=(a=n.uri||(null!=t?t.uri:t))?a:u)===c?a.call(l,{name:"uri",hash:{},data:o}):a)+'" id="ne-save-button">\n'+(null!=(i=(n.type||t&&t.type||u).call(l,null!=t?t.uri:t,"track","album",{name:"type",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o}))?i:"")+(null!=(i=(n.type||t&&t.type||u).call(l,null!=t?t.uri:t,"playlist","user","artist",{name:"type",hash:{},fn:e.program(15,o,0),inverse:e.noop,data:o}))?i:"")+'          </button>\n          <button class="button button-icon-with-stroke spoticon-more-16" data-button="contextmenu" data-tooltip="More" id="ne-more-button"></button>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <div class="ne-right-fade"></div>\n  <div class="ne-bottom-fade"></div>\n  <div class="ne-bg-image bg-centered blurred ne-'+d(e.lambda(null!=t?t.type:t,t))+'" style="background-image: url(\''+d(typeof(a=null!=(a=n.backgroundImage||(null!=t?t.backgroundImage:t))?a:u)===c?a.call(l,{name:"backgroundImage",hash:{},data:o}):a)+"');\"></div>\n</header>\n"},useData:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={nativeEl:n(531),sponsored:n(530)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(e){if(!o.default.getProp("target uri",e.adData))throw new Error("[Native HPTO] Missing a target uri");const t=e.adData,n=e.domEl,s=e.onClick,l=function(e){const t={};return t.uri=o.default.getProp("target uri",e),t.playBtnUri=o.default.getProp("play btn uri",e)||t.uri,t.uriType=o.default.getType(t.uri),t.bgImage=o.default.getProp("background image",e)||"",t.badgeType=(e.badge||"").toLowerCase(),t.typeLabel=function(e){return"exclusive"===e?"spotify exclusive":"spotlight"===e?a.default.getSpotlightSvg():null}(t.badgeType)||g[t.uriType],Object.assign({},e,t)}(t);return function(e){const t={"discover-weekly":"666f726d61740004","release-radar":"666f726d61740000","time-machine":"666f726d6174f00d","summerjams-a":"666f726d6174f011","summerjams-b":"666f726d6174f012","summerjams-c":"666f726d6174f013","friends-weekly":"666f726d6174f119"};return new Promise(n=>{t.hasOwnProperty(e.uri)?c.default.getSponsoredUris().then(r=>{const o=r.sponsorships;for(let r=0;r<o.length;r++){const i=o[r].spotifyUri.split(":");if(u.default.idToHex(i[i.length-1]).includes(t[e.uri]))return e.uri=o[r].spotifyUri,e.playBtnUri=o[r].spotifyUri,e.uriType="playlist",void n()}n()}):n()})}(l).then(()=>(function(e,t){return new Promise((n,o)=>{(0,r.default)(e).query(m[t],(e,t)=>{e?o(e):(Object.keys(t).forEach(e=>{t[e]||f("Returned empty field for:",e)}),n(t))},5e3)})})(l.uri,l.uriType).then(e=>{const t=function(e,t){const n={};n.isVerified=!("artist"!==e.uriType||!t.name),n.name=t.name;const r=t.annotatedImage||t.image;switch(n.smallImageUri=r,n.backgroundImage=r,e.uriType){case"track":n.attribution=t.name,n.attributionUri=t.artists[0].uri;break;case"album":n.attribution=t.artists[0].name,n.attributionUri=t.artists[0].uri;break;case"playlist":n.backgroundImage=e.bgImage||r||"http://i.scdn.co/image/03fa7db6aae8ffb4a936d0fe5a4f419199c313a9";break;default:console.error(`Bad type: ${e.type}`)}return Object.assign({},e,n)}(l,e);let r;switch(t.nativeHptoType){case"original":r=i.default.nativeEl;break;case"sponsored":r=i.default.sponsored;break;default:throw new Error(`Invalid hpto type: ${t.nativeHptoType}`)}n.innerHTML=r(t),h.forEach(e=>{const r=n.querySelector(`#${e}`);if(!r)return;const i=function(e,t,n,r){const i=(r.target.getAttribute("data-log-click")||"").split("-")[0],a=e+(i?`:${i}`:"");o.default.appendTrackingPixel(t.click,r.target),n&&n(r,{context:a})}.bind(null,e,t,s);r.addEventListener("click",i),p.addTask(()=>r.removeEventListener("click",i))})}))},t.disable=function(){p.executePendingTasks()};var r=d(n(2)),o=d(n(15)),i=d(n(532)),a=d(n(177)),s=d(n(71)),l=d(n(6)),u=d(n(4)),c=d(n(11));function d(e){return e&&e.__esModule?e:{default:e}}const f=(0,l.default)("saf:native-hpto-view"),p=new s.default,h=["ne-play-button","ne-save-button","ne-more-button","ne-image-link","ne-name-link","ne-attrib-link"],m={playlist:"name, image, annotatedImage",album:"name, image, artists(name, uri)",track:"name, image, artists(uri)",artist:"name, image"},g={track:"single",album:"album",artist:"artist",playlist:"playlist"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(15));function o(e){return e&&e.__esModule?e:{default:e}}const i=(0,o(n(6)).default)("saf:hpto-response");function a(e,t){return Object.keys(t).find(n=>t[n]===e)}t.default=function(e){i("parseHptoResponse data=%o",e);let t=null;const n=e.html&&-1!==e.html.search(/id=\"native\-elements\"/),o=!e.html&&"html"===r.default.getProp("banner mode",e);if(n?t=function(e){const t=document.implementation.createHTMLDocument("");t.documentElement.innerHTML=e.html;let n="";const r=t.getElementById("native-elements"),o=a("html",e);return["data-is-spotlight","data-is-exclusive","data-is-sponsored"].some(e=>(r.hasAttribute(e)&&(n=e),n)),n=n.split("-").pop()||"",delete e[o],Object.assign({},e,{version:2,badge:n,bannerMode:"native",blurb:r.getAttribute("data-blurb"),targetUri:r.getAttribute("data-uri"),playBtnUri:r.getAttribute("data-track-override")})}(e):o&&(t=function(e){return delete e[a("html",e)],Object.assign({},e,{bannerMode:"image"})}(e)),(t=t||e).bannerMode=r.default.getProp("banner mode",t),!t.bannerMode)throw new TypeError("hpto data looks invalid");return i("parseHptoResponse result=%o",t),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t){return a("get"),function(){return new Promise((e,t)=>{(0,r.messageProxy)({method:"GET",uri:"hpto",target:"top"},function(n,r){if(a("hpto messageProxy response: %o, err: %o",r,n),n)t(n);else try{e(r.ad)}catch(e){t(`error parsing message response: ${e.message}`)}})})}().then(e=>o.default.isPreviewServiceAd(e)?e:function(e,t){const n=function(e){a("parse html from cosmos ad: %o",e);const t=(e.display||[]).filter(e=>"text/html"===e.mime_type)[0];if(!t||!t.media)throw new Error(`no valid display found in ad with id: ${e.id}`);return t.media}(e);let r;return new Promise((e,i)=>{window.addEventListener("message",function t(n){if("object"==typeof n.data&&"string"==typeof n.data.type){const o=n.data.type.split(":");if("ads"!==o[0]||"hpto"!==o[1])return;if(a("message: %o",n.data),"error"===o[2]||"no-ad"===o[2])i(o[2]);else if("init"===o[2]){const t=n.data.data.data;t.loaderFrame=r,e(t)}else i("unsupported hpto message"),a("Unsupported Hpto Message",o[2],n.data);window.removeEventListener("message",t)}}),(r=o.default.createInteractiveIframe(n)).style.display="none",t.appendChild(r)})}(e,t))};var r=n(27),o=i(n(15));function i(e){return e&&e.__esModule?e:{default:e}}const a=(0,i(n(6)).default)("saf:hpto:get-ad-proxy")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new(function(e){return e&&e.__esModule?e:{default:e}}(n(72)).default)("ui"),o={};o.getHidePref=((e,t)=>new Promise((n,o)=>{if(t)switch(e){case"html5_desktop":n(function(){return new Promise((e,t)=>{r.get("hide_hpto",(n,r)=>n?t(n):e(r))})}());break;case"web":n(function(){return new Promise((e,t)=>{let n=!1;switch(window.parent.localStorage["ui.hide_hpto"]){case"true":n=!0;break;case"false":n=!1;break;case void 0:window.parent.localStorage["ui.hide_hpto"]=!1,n=!1;break;default:t(new Error("[HPTO] Invalid hide state"))}e(n)})}());break;default:o(new Error("[HPTO] No valid device detected"))}else n(!1)})),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={desktop:"html5_desktop"},o={get:()=>{return{platform:r[window.__spotify.platform],isPremium:"0"===window.__spotify.product_state.ads}}};t.default=o},function(e,t,n){"use strict";const r=31536e4,o=["GET","HEAD","POST","PUT","SUB","PATCH","DELETE"],i="bridge.cosmosRequest: ";e.exports=function(e,t,n,a){if(n.url)throw new Error(`${i}"url" is not a valid option, did you mean "uri"?`);if("string"!=typeof n.uri)throw new Error(`${i}Expected uri to be string.`);if(-1===o.indexOf(n.method))throw new Error(`${i}Method must match valid verb in uppercase (GET, POST etc)`);if(n.body&&"string"!=typeof n.body)throw new Error(`${i}If body is provided it should be a string.`);if(n.headers&&"[object Object]"!==Object.prototype.toString.call(n.headers))throw new Error(`${i}Expected headers be a plain object.`);const s={action:n.method,uri:n.uri};n.body&&(s.body=n.body),n.headers&&(s.headers=n.headers),e.requestIDCounter=e.requestIDCounter||r,e.requestIDCounter++;const l=[e.requestIDCounter,s];let u=!1;const c=e.requestIDCounter;return function e(r,o){t(r?"cosmos_request_create":"cosmos_request_pull",l,function(r,i){if(!u)try{a&&(r?a(r):a(null,i))}finally{"SUB"!==n.method?t("cosmos_request_cancel",[o]):u||e(!1,o)}})}(!0,c),function(){u=!0,t("cosmos_request_cancel",[c])}}},function(e,t){function n(e){if(!(this instanceof n))return new n(e);var t=this;this.m=0,this.c=0,this.jobs=[],this.concurrency(1/0),this.max(e),Object.defineProperty(this,"length",{get:function(){return t.jobs.length}})}e.exports=n,n.prototype.concurrency=function(e){return e>0&&(this.c=e),this},n.prototype.max=function(e){return this.m="number"==typeof e&&e>0?e:1/0,this},n.prototype.push=function(e){if("function"!=typeof e)throw new TypeError("expecting a function");return this.length<this.m&&this.jobs.push(e),this},n.prototype.shift=function(){return this.jobs.shift()},n.prototype.run=function(e){e="function"==typeof e?e:Function();var t=this,n=this.c,r=0;if(0==this.length)return e(null);function o(){var n=null;if(0==t.length)return!1;if("function"==typeof(n=t.shift()))try{n(function(n){n?e(n):t.length?o():e()})}catch(t){return e(t),!1}}for(;r++<n&&!1!==o(););return this}},function(e,t,n){"use strict";const r=n(31),o=Array.prototype.slice,i=function(e,t,n){let r,i,a;return function(){return i=arguments,r||(r=!0,a=t(function(t){r=!1,e.apply(n,o.call(i).concat(t))})),a}},a=function(e,t,n){return function(e){return"number"==typeof e&&e%1==0}(t)?a.timeout(e,t,n):a.immediate(e,t)};a.timeout=function(e,t,n){return i(e,function(e){return r.timeout(e,t,n)},n)},a.immediate=function(e,t){return i(e,function(e){return r.immediate(e,t)},t)},e.exports=a},function(e,t,n){"use strict";const r=Array.prototype.splice,o=Array.prototype.slice,i=function(e,t){const n=e.length,r=t.length,i=[],a={},s={};for(let o=0;o<n;o++){const l=e[o];for(let u=0;u<r;u++){if(s[u])continue;if(l!==t[u])continue;const c=o,d=u;let f=0;do{a[o++]=s[u++]=!0,f++}while(o<n&&u<r&&e[o]===t[u]&&!s[u]);const p={type:"move",from:c,to:d,length:f};i.push(p),o--;break}}const l=[];for(let t=0;t<n;){if(a[t]){t++;continue}const r=t;let i=0;for(;t<n&&!a[t++];)i++;const s={type:"remove",index:r,length:i,values:o.call(e,r,r+i)};l.push(s)}const u=[];for(let e=0;e<r;){if(s[e]){e++;continue}const n=e;let i=0;for(;e<r&&!s[e++];)i++;const a=o.call(t,n,n+i);u.push({type:"insert",index:n,length:i,values:a})}return[l,i,u]},a=function(e,t,n){const r=n.length,o=e.length,i=t.length;let a=0;for(let n=0;n<o;n++){const r=e[n];r.index-=a,a+=r.length;for(let e=0;e<i;e++){const n=t[e];n.from>=r.index&&(n.from-=r.length)}}for(let e=r;e--;){const r=n[e],o=r.length;for(let e=i;e--;){const n=t[e];n.to>=r.index&&(n.to-=o)}}for(let e=i;e-- >1;){const n=t[e];if(n.to!==n.from)for(let r=e;r--;){const e=t[r];e.to>=n.to&&(e.to-=n.length),e.to>=n.from&&(e.to+=n.length)}}const s=[];for(let e=0;e<i;e++){const n=t[e];if(n.to!==n.from){s.push(n);for(let r=e+1;r<i;r++){const e=t[r];e.from>=n.from&&(e.from-=n.length),e.from>=n.to&&(e.from+=n.length)}}}return function(e){for(let t=0;t<e.length;t++)if(e[t].length>Math.abs(e[t].to-e[t].from)){const n=e[t].to,r=e[t].length;e[t].length=Math.abs(e[t].to-e[t].from),e[t].from=n,e[t].to=n+r}}(s),e.concat(s,n)},s=function(e,t,n){for(let r=0;r<n.length;r++)if(r in n){const o=t+r;e.length<o&&(e.length=o),e.splice(o,0,n[r])}return n},l=function(e,t,n){return r.call(e,t,n)},u=function(e,t,n,r){const o=l(e,t,r);return s(e,n,o),o},c=function(e,t){const n=i(e,t);return a.apply(this,n)};c.annotate=i,c.offset=a,c.remove=l,c.insert=s,c.move=u,c.patch=function(e,t){for(let n=0;n<t.length;n++){const r=t[n];switch(r.type){case"move":u(e,r.from,r.to,r.length);break;case"remove":l(e,r.index,r.length);break;case"insert":s(e,r.index,r.values);break;default:console.error("Unexpected operation type",r.type)}}return e},e.exports=c},function(e,t,n){"use strict";const r=n(26),o=n(42),i=n(18),a=n(541),s=r({constructor:function(e=0){this.index=[],this.keys=new Array(e),this.values=new Array(e),this.objectStorage={}},get length(){return this.keys.length},set length(e){this.keys.length=e,this.values.length=e},forEach:function(e,t){const n=this.index;for(let r=0;r<n.length;r++){const o=n[r];for(let n=o.start;n<o.end&&!1!==e.call(t,this.values[n],n,this.keys[n],this);n++);}return this},map:function(e,t){const n=new Array(this.length);return this.forEach(function(r,o,i){n[o]=e.call(t,r,o,i,this)},this),n},copy:function(e){this.index=e.index.slice(),this.keys=e.keys.slice(),this.values=e.values.slice();const t=this.keys.length;this.objectStorage={};for(let e=0;e<t;e++)this.objectStorage[this.keys[e]]=this.values[e];return this},clone:function(){return(new s).copy(this)},indexOf:function(e){let t=-1;return this.forEach(function(n,r,o){e===o&&(t=r)}),t},indexOfMany:function(e){const t={},n=[];for(let n=0;n<e.length;n++)t[e[n]]=-1;this.forEach(function(e,n,r){r in t&&(t[r]=n)});for(let r=0;r<e.length;r++)n[r]=t[e[r]];return n},valueOf:function(e){return this.objectStorage[e]||null},hasKey:function(e){return this.objectStorage.hasOwnProperty(e)},sort:function(e){const t=this.keys,n=this.values,r=a(n.slice(),n.sort(e));return o(r,function(e){a.move(t,e.from,e.to,e.length)}),this},move:function(e,t,n){let r=n,o=t;return e>this.length?[]:(e+r>this.length&&(r=e-this.length),o>this.length&&(o=this.length),e===o?[]:(a.move(this.keys,e,o,r),a.move(this.values,e,o,r),this))},insert:function(e,t,n){if(t.length!==n.length)throw new Error("length mismatch");const r=new i(e,e+t.length);this.index=r.insert(this.index),a.insert(this.keys,e,t),a.insert(this.values,e,n);for(let e=0,r=t.length;e<r;e++)this.objectStorage[t[e]]=n[e];return this},remove:function(e,t){let n=t;if(e>=this.length)return[];e+n>this.length&&(n=this.length);const r=new i(e,e+n);this.index=r.extract(this.index);for(let t=0;t<n;t++)delete this.objectStorage[this.keys[t+e]];return a.remove(this.keys,e,n),a.remove(this.values,e,n),this},diff:function(e){const t=a.annotate(this.keys,e.keys);return o(t[0],function(e){e.keys=e.values,e.values=this.values.slice(e.index,e.index+e.length)},this),o(t[1],function(e){e.keys=e.values,e.values=this.values.slice(e.from,e.from+e.length)},this),o(t[2],function(t){t.keys=t.values,t.values=e.values.slice(t.index,t.index+t.length)}),a.offset.apply(a,t)},patch:function(e){return o(e,function(e){switch(e.type){case"move":this.move(e.from,e.to,e.length);break;case"remove":this.remove(e.index,e.length);break;case"insert":this.insert(e.index,e.keys,e.values);break;default:console.error("Invalid patch operation type",e.type)}},this),this}});e.exports=s},function(e,t,n){var r=n(110);e.exports=function(e,t){for(var n,o="string"!=typeof arguments[1]?arguments[1]:r(arguments,1),i={},a=0;n=o[a++];)i[n]=e[n];return i}},function(e,t,n){var r=n(32),o=n(75);function i(e,t){for(var n,o=0,i=arguments.length;++o<i;)(n=arguments[o])&&r(n,a,e);return e}function a(e,t){var n=this[t];o(e)&&o(n)?i(n,e):this[t]=e}e.exports=i},function(e,t,n){var r=n(32),o=n(111);function i(e,t){for(var n=-1,r=e.length;++n<r;)if(a(e[n],t))return!0;return!1}function a(e,t){return e&&"object"==typeof e&&t&&"object"==typeof t?o(e)&&o(t)?function(e,t){for(var n=-1,r=t.length;++n<r;)if(!i(e,t[n]))return!1;return!0}(e,t):function(e,t){var n=!0;return r(t,function(t,r){if(!a(e[r],t))return n=!1}),n}(e,t):e===t}e.exports=a},function(e,t){e.exports=function(e){return function(t){return t[e]}}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(73);e.exports=function(e){return r(e).replace(/\W/g,"\\$&")}},function(e,t,n){var r=n(74);e.exports=function(e){return r(e,"RegExp")}},function(e,t){function n(){return n.get()}n.get="function"==typeof Date.now?Date.now:function(){return+new Date},e.exports=n},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o=1,i={},a=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?function(){r=function(e){t.nextTick(function(){c(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&c(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){c(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){r=function(e){setTimeout(c,0,e)}}(),l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return i[o]=a,r(o),o++},l.clearImmediate=u}function u(e){delete i[e]}function c(e){if(a)setTimeout(c,0,e);else{var t=i[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{u(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(1),n(46))},function(e,t,n){var r=n(44);e.exports=function(e,t){function n(){}return n.prototype=e,r(new n,t)}},function(e,t,n){var r,o,i=n(56);function a(e,t,n,r){return e.call(r,t[n],n,t)}e.exports=function(e,t,n){var s,l=0;for(s in null==r&&function(){for(var e in o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=!0,{toString:null})r=!1}(),e)if(!1===a(t,e,s,n))break;if(r)for(var u=e.constructor,c=!!u&&e===u.prototype;(s=o[l++])&&("constructor"===s&&(c||!i(e,s))||e[s]===Object.prototype[s]||!1!==a(t,e,s,n)););}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=(0,function(e){return e&&e.__esModule?e:{default:e}}(n(6)).default)("saf:VisibilityObserver"),o="visible_unknown",i="visible_0",a="visible_50",s="visible_100";t.default=class{constructor(e,t={threshold:[0,.5,1]}){this.currentState=o,this.callback=e,this.intersectionObserver=new IntersectionObserver(this._onObservation.bind(this),t)}_onObservation(e){const t=e[0].intersectionRatio;let n=o;1===t?n=s:t>=.5?n=a:t<.5&&(n=i),n!==this.currentState&&(this.currentState=n,this.callback(this.currentState),r("new state",this.currentState))}observe(e){this.intersectionObserver.observe(e)}disconnect(){this.intersectionObserver.disconnect()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=S(n(554)),o=S(n(61)),i=S(n(11)),a=S(n(2)),s=S(n(72)),l=n(27),u=S(n(22)),c=S(n(13)),d=S(n(15)),f=S(n(60)),p=S(n(537)),h=S(n(536)),m=S(n(76)),g=S(n(113)),y=S(n(6)),v=n(535),_=S(n(534)),b=k(n(533)),w=k(n(529)),E=k(n(527));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}const x=(0,y.default)("saf:hpto:index"),T={native:b,html:w,image:E},A="ad-container",P="hidden",C="hpto-button",O="hpto-closed",L="Render",I="Hide",R=[L,I].reduce((e,t)=>(e[t]=[],e),{});let M,U,D,F,N,j,B,V,H=o.default,q=!1,$=null,z=!1,Y=!1,G=!1,W=!1,J={};const K={init:(e,t)=>{if(q)return null;if(!e)throw new Error("HPTO init requires a mountNode");q=!0,x("init"),B=(0,a.default)("spotify:application"),(U=document.createElement("div")).id="hpto-container",M=document.createElement("span"),V=new s.default("ui"),F=t,(D=e).appendChild(U),B.on("update",ee),u.default.addEventListener(c.default.VIEW_ACTIVATE,te),u.default.addEventListener(c.default.VIEW_DEACTIVATE,te),j=(0,l.messageProxy)({method:"SUB",uri:"hpto-refresh"},()=>{x("hpto-refresh"),H(),ie()}),B.get("active")&&ie()},destroy:()=>{q&&(se(),B.off("update",ee),u.default.removeEventListener(c.default.VIEW_ACTIVATE,te),u.default.removeEventListener(c.default.VIEW_DEACTIVATE,te),j(),D.removeChild(U),Object.keys(R).forEach(e=>{R[e]=[]}),q=!1,x("destroy"))},subscribeToRender:X.bind(null,L),subscribeToHide:X.bind(null,I),unsubscribeToRender:Z.bind(null,L),unsubscribeToHide:Z.bind(null,I),overrideUiPref:e=>{V=e},renderPreviewAd:(e,t)=>ue(e,t)};function Q(e){console.warn("Crash Data Reporting error",e)}function X(e,t){const n=R[e];-1===n.indexOf(t)&&n.push(t)}function Z(e,t){const n=R[e],r=n.indexOf(t);-1!==r&&n.splice(r,1)}function ee(e){e.hasOwnProperty("active")?(x("handle application update active=%o",e.active),e.active?ie():H()):de(e.arguments)&&le(e.arguments)}function te(e){e.hasOwnProperty("params")&&(x("handle page update active=%o",e.type),e.params.appId===F&&e.type===c.default.VIEW_ACTIVATE?ie():e.params.appId===F&&e.type===c.default.VIEW_DEACTIVATE&&H())}function ne(e){x("notify",e),R[e].forEach(e=>{e()})}function re(e){x("onContainerClick accountUpgrade=%o",Y),Y&&(e.preventDefault(),e.stopPropagation(),window.parent.postMessage({type:c.default.NAVIGATION_UPGRADE,data:{tracking:G}},"*"))}function oe(e){x("onHideButtonClick isPremium=%o",W),W&&(e.stopPropagation(),U.classList.add(O),V.set("hide_hpto",!0),window.parent.sessionStorage["ui.hide_hpto"]=!0,he("event_collapsed",{},J),se())}function ie(){if(x("enable"),U.addEventListener("click",re),de())return void le();if(z)return void x("enabling already");z=!0;const e=p.default.get();W=e.isPremium,x("load session: %o",e),h.default.getHidePref(e.platform,e.isPremium).then(t=>{if(t)me("attempted to enable but user has hpto hidden"),se();else{U.classList.remove(O);let t=ae();(0,v.get)(e,t).then(e=>{if(d.default.isPreviewServiceAd(e)){const{creative_id:n,id:r,display:o}=e;return ue({creativeId:parseInt(n,10),gid:r,hpto:JSON.parse(o[0]&&o[0].media||"")},t)}return fe(e,t),pe(e,e.loaderFrame,t)}).then(e=>{z=!1,function(e){const t=(0,l.messageProxy)({method:"SUB",uri:"client-state"},t=>he(`event_${t.state.focus?"foregrounded":"backgrounded"}`,{},e));(N=new r.default(t=>{he(`event_${t}`,{},e)})).observe(U),H=(()=>{N.disconnect(),t(),he("event_unload",{},e)})}(e),he("event_viewed",{},e),ne(L)}).catch(e=>{me(`enable error: ${e}`),t=null,se()})}})}function ae(){const e=document.createElement("div");return e.classList.add(A),e.classList.add(P),U.appendChild(e),e}function se(){x("disable"),z=!1,U.innerHTML="",$&&$.disable(),$=null,function(){i.default.putCrashData("hptoLineItemId","").catch(Q),i.default.putCrashData("hptoCreativeId","").catch(Q)}(),U.removeEventListener("click",re),M.removeEventListener("click",oe),ne(I)}function le(e){x("handlePreviewUri");const t=d.default.parseGID(e||ce());i.default.requestPreviewAd(t),i.default.getPreviewAd(t).then(e=>{const t=ae();return ue(e.ad,t)}).then(()=>{ne(L)}).catch(e=>{me(`handlePreviewUri: ${e.message}`),se()})}function ue(e,t){x("renderPreview ad=%o",e);const n=(0,_.default)(e.hpto||e),r=d.default.createInteractiveIframe(n.html||null);return r.style.display="none",t.appendChild(r),fe(n,t),pe(n,r,t)}function ce(){return B.get("arguments")}function de(e){const t=e||ce();return!(!t||!d.default.parseGID(t))}function fe(e,t){x("add creativeId from data: %o",e),t.setAttribute("data-id",e.creativeId);const n={creativeId:e.creativeId,lineItemId:e.lineItemId};t.setAttribute("data-uri",JSON.stringify(n)),t.setAttribute("data-contextmenu","")}function pe(e,t,n){return x("renderAd isPremium=%o, adData=%o",W,e),function(e){i.default.putCrashData("hptoCreativeId",String(e.creativeId)).catch(Q),i.default.putCrashData("hptoLineItemId",String(e.lineItemId)).catch(Q)}(e),$=T[e.bannerMode],Y=e.accountUpgrade,G=e.accountUpgradeTracking,$.render({adData:e,domEl:n,isPremium:W,loaderFrame:t,onClick:function(e,t,n,r){e.click&&d.default.appendTrackingPixel(e.click,t,"click-tracking");r&&r.context&&(e.context=r.context);he("event_clicked",{},e)}.bind(null,e,n)}).then(()=>{U.querySelectorAll(`.${A}`).forEach(e=>{e.classList.contains(P)||(x("remove previous ad container"),U.removeChild(e))}),n.classList.remove(P),function(e,t){"sponsored"!==d.default.getProp("native hpto type",e)&&(J=e,M.removeAttribute("class"),M.classList.add(C),W?M.innerHTML=f.default.get("HideAnnouncements"):(M.innerHTML=f.default.get("Sponsored"),M.classList.add("no-hover")),t.appendChild(M),M.addEventListener("click",oe))}(e,n);const t=d.default.getProp("tracking urls",e),r=d.default.getProp("tracking url",e);return t?(x("tracking-urls",t),t.forEach(e=>{e&&d.default.appendTrackingPixel(e,n,"view-tracking")})):r&&(console.error("HPTO template missing tracking-urls property. Update now!"),d.default.appendTrackingPixel(r,n,"view-tracking")),e})}function he(e,t,n){const r=JSON.stringify(Object.assign({clientReportedUserAgent:navigator.userAgent},t));return x("logEvent type=%o, jsonData=%o, adData=%o",e,r,n),g.default.log({slot:"hpto",event:e,lineitem_id:String(n.lineItemId),creative_id:String(n.creativeId),ad_id:String(n.creativeId),ad_format:`hpto ${n.bannerMode}`,context:String(n.context||""),jsondata:r})}function me(e){x("logError message=%o",e),m.default.log({request_type:"hpto",error_message:e})}t.default=K},function(e){e.exports={type:"record",name:"AdEvent",namespace:"com.spotify.Message",doc:"Ad-Specific Event",fields:[{name:"message_name",type:"string"},{name:"message_version",type:"int"},{name:"ad_playback_id",type:["null","string"],doc:"Identifies each ad serving which can be used to tie together related ad events",default:null},{name:"app_startup_id",type:["null","string"],doc:"Identifies a users app session as defined by each time the app is restarted",default:null},{name:"ad_id",type:["null","string"],doc:"id of the Ad for this event.  In most cases, this maps to creative id",default:null},{name:"lineitem_id",type:["null","string"],doc:"id of DFP line item",default:null},{name:"creative_id",type:["null","string"],doc:"id of DFP creative asset",default:null},{name:"ad_format",type:["null","string"],doc:"format of ad this event occurred during",default:null},{name:"source",type:["null","string"],doc:"Source which generated the event, will mostly be set to the App-ID",default:null},{name:"context",type:["null","string"],doc:"Context and targeting parameters, same set as passed in ad requests",default:null},{name:"event",type:["null","string"],doc:"Event name",default:null},{name:"event_version",type:["null","string"],doc:"Optional event version, can be used as a version or sub-type",default:null},{name:"jsondata",type:["null","string"],doc:"json encoded map which is specific to the event being sent",default:null},{name:"source_version",type:["null","string"],doc:"Source stitch app version",default:null},{name:"slot",type:["null","string"],doc:"Ad slot identifier",default:null},{name:"ms_from_start",type:["null","long"],doc:"Time elapsed since the ad started playback, with ms precision",default:null},{name:"in_focus",type:["null","boolean"],doc:"Indicates whether the app was in focus when the AdEvent was fired",default:null}],schema_version:4}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(182)),o=d(n(13)),i=d(n(116)),a=d(n(113)),s=d(n(60)),l=d(n(15)),u=d(n(6)),c=n(34);function d(e){return e&&e.__esModule?e:{default:e}}const f=(0,u.default)("saf:leaderboard"),p=[].slice,h="leaderboard-ad-wrapper",m="click-block-overlay",g=728,y=90;function v(e,t,n=r.default.DEFAULT_SANDBOX_PARAMS){const o=e.createElement("iframe");return o.sandbox=n.join(" "),o.srcdoc=t,o.scrolling="no",o.setAttribute("name",`ads-iframe-${i.default.create()}`),o}function _(e,t,n,r,o){f("renderLeaderboard",t,n),t.innerHTML="",n.style.display="block",n.id="leaderboard-ad-element",r&&o&&(n.style.width=`${r}px`,n.style.height=`${o}px`,n.style.overflow="hidden");const i=e.createElement("div");i.id=h,i.appendChild(n),function(e){e.onload=(()=>{const t=(0,c.subscribeToFocusChange)(e=>w(`event_${e?"foregrounded":"backgrounded"}`)),n=()=>{t(),w("event_unload"),e.contentWindow.removeEventListener("unload",n)};e.contentWindow.addEventListener("unload",n)})}(n),i.appendChild(b()),t.appendChild(i)}function b(){const e=document.createElement("a");e.setAttribute("class",m);const t=document.createElement("div");t.setAttribute("class","click-button-wrapper");const n=document.createElement("button");return n.setAttribute("class","button button-small button-with-stroke"),n.setAttribute("type","button"),n.innerHTML=s.default.get("AdClick"),t.appendChild(n),e.appendChild(t),e}function w(e,t,n){const o=Object.assign({ad_format:"banner",slot:r.default.LEADERBOARD_SLOT_ID,event:e,jsondata:JSON.stringify(Object.assign({clientReportedUserAgent:navigator.userAgent},t))},n);a.default.log(o),f(e,o)}t.default={iframeWithContent:v,renderLeaderboard:_,setAndEvalTrustedHtml:function(e,t,n){t.innerHTML=n;const r=p.apply(t.getElementsByTagName("script"));r.filter(e=>e.src).map(e=>e.src).forEach(n=>{const r=e.createElement("script");r.src=n,r.async=1,t.appendChild(r)}),r.filter(e=>!e.src).map(e=>e.text).filter(e=>e).forEach(n=>{const r=e.createElement("script");r.text=n,t.appendChild(r)})},leaderboardMessageHandler:function(e,t){let n=null;const r=function(r){if(r.data&&r.data.type)switch(r.data.type){case"ads-leaderboard-failed":f("ads-leaderboard-failed: %o",r.data),n=null,e.dispatchEvent({type:o.default.AD_LEADERBOARD_PLACEMENT,params:{isEmpty:!0}}),w("event_errored",{dfp_returned_empty:!0});break;case"ads-leaderboard-rendered":f("ads-leaderboard-rendered: %o",r.data),w("event_viewed",{},n={lineitem_id:String(r.data.data.lineItemId),creative_id:String(r.data.data.creativeId),ad_id:String(r.data.data.creativeId)}),f("Banner impression logged!"),t.setAttribute("data-ta-rendered-at",(new Date).getTime()),t.setAttribute("data-ta-creative-id",r.data.data.creativeId),t.setAttribute("data-ta-line-item-id",r.data.data.lineItemId),t.setAttribute("data-contextmenu",""),t.setAttribute("data-uri",JSON.stringify({creativeId:r.data.data.creativeId,lineItemId:r.data.data.lineItemId})),e.dispatchEvent({type:o.default.AD_LEADERBOARD_PLACEMENT,params:{isEmpty:!1}});break;case"ads-upgrade-account":{f("ads-upgrade-account: %o",r.data);const t=r.data.click.match(/\?(.*)$/),n=t&&t[1]?t[1]:"";e.dispatchEvent({type:o.default.NAVIGATION_UPGRADE,params:{tracking:n}});break}}};return r.logClosed=function(e){w("event_closed",e,n)},r},logEvent:w,isPreview:function(e){return l.default.isPreviewServiceAd(e.ad)&&"discard"!==e.event},onPreview:function(e,t=window.document,n,r=(()=>{})){const o=e.ad,i=o.display[0];if(!i||728!==(parseInt(i.width,10)||g))return;f("Rendering preview: %o",e);const a=i.media,s=o.uri,l=i.height||y,u=i.width||g,c=v(t,a);n.setAttribute("data-ta-preview-uri",s),_(t,n,c,u,l),r()},activateClickBlockOverlay:function(e,t){f("activateClickBlockOverlay",e,t);const n=document.querySelector(`#${h}`),r=document.querySelector(`iframe[name=${e}]`);if(n&&r){const e=n.querySelector(`.${m}`);e.setAttribute("href",t),e.classList.add("active")}else f("activateClickBlockOverlay: iframe or wrapper not available.")}}},function(e){e.exports={type:"record",name:"AdError",namespace:"com.spotify.Message",doc:"Error logging for DFP integration",fields:[{name:"message_name",type:"string"},{name:"message_version",type:"int"},{name:"request_type",type:["null","string"],doc:"Type of event: VAST, Lasertag, Tracking, Parsing",default:null},{name:"error_message",type:["null","string"],doc:"Error message",default:null},{name:"http_error_code",type:["null","long"],doc:"HTTP error code",default:null},{name:"request_url",type:["null","string"],doc:"Request that was made to the ad server",default:null},{name:"companion_ad",type:["null","string"],doc:"Companion ad that was returned and caused a VAST parsing error",default:null},{name:"tracking_event",type:["null","string"],doc:"The type of tracking event that errored for a Tracking error",default:null}],schema_version:2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(22)),o=u(n(11)),i=u(n(76)),a=u(n(182)),s=u(n(557)),l=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}const c=(0,u(n(6)).default)("saf:leaderboard"),d=728,f=90;t.default=class{constructor(e){c("init leaderboard v3"),this.domElement=e,this.refreshInterval=a.default.DEFAULT_REFRESH_INTERVAL_MS,this.sandboxParams=a.default.DEFAULT_SANDBOX_PARAMS,this.refreshTimer=void 0,this.onLeaderboardMessage=s.default.leaderboardMessageHandler(r.default,e),r.default.addEventListener(l.default.DEBUG_OVERRIDE_AD_LEADERBOARD_HTML,e=>{this._overrideAdHtml=e.params.html}),r.default.addEventListener(l.default.DEBUG_FORCE_REFRESH_LEADERBOARD,()=>{this.disable(),this.enable()}),r.default.addEventListener(l.default.DEBUG_OVERRIDE_AD_LEADERBOARD_FLAGS,e=>{this._adSlotFlags=e.params.flags}),r.default.addEventListener(l.default.DEBUG_OVERRIDE_AD_LEADERBOARD_REFRESH_INTERVAL,e=>{this._overrideRefreshInterval=e.params.interval,this.enableRefresh()}),r.default.addEventListener("open-url-block",e=>{s.default.activateClickBlockOverlay(e.params["iframe-name"],e.params.url)}),this.renderNext.bound=this.renderNext.bind(this),o.default.addNewSlot(a.default.LEADERBOARD_SLOT_ID,"banner").then(()=>{o.default.enableSlot(a.default.LEADERBOARD_SLOT_ID)}).catch(e=>{const t=e.message?e.message:String(e);i.default.log({request_type:"leaderboard:constructor",error_message:t}),c(`constructor:enable CORE error: ${t}`)}),o.default.subscribeToSlotType(a.default.LEADERBOARD_SLOT_ID,e=>{s.default.isPreview(e)&&(c(`Obtaining preview from the '${a.default.LEADERBOARD_SLOT_ID}' slot`),s.default.onPreview(e,document,this.domElement,this.disableRefresh.bind(this)))}),o.default.subscribeToSlotType(a.default.PREVIEW_SLOT_ID,e=>{c(`Obtaining preview from the '${a.default.PREVIEW_SLOT_ID}' slot`),s.default.onPreview(e,document,this.domElement,this.disableRefresh.bind(this))})}enable(){return c("enable leaderboard"),this._enabled=!0,window.addEventListener("message",this.onLeaderboardMessage),this.enableRefresh(),this.renderNext()}disable(){c("disable leaderboard"),this._enabled=!1,this.disableRefresh(),this.removeContent(),window.removeEventListener("message",this.onLeaderboardMessage)}enableRefresh(){this.disableRefresh();const e=this._overrideRefreshInterval||this.refreshInterval;c("set refresh interval=%o",e),this.refreshTimer=window.setInterval(this.renderNext.bound,e)}disableRefresh(){window.clearInterval(this.refreshTimer)}removeContent(){c("removeContent and clearInnerHTML"),this.domElement.innerHTML=""}handleConfig(e){const{display_time_interval:t,metadata:n={}}=e;isNaN(t)||(this.refreshInterval=1e3*t,this.enableRefresh()),n.iframe_sandboxed_attrs&&(this.sandboxParams=n.iframe_sandboxed_attrs)}renderNext(){return c("rendering with Core"),this._rendering?Promise.resolve():(this._rendering=!0,o.default.getAdSlotConfig(a.default.LEADERBOARD_SLOT_ID).then(e=>{this.handleConfig(e),c("received config (CORE)",e)}).catch(e=>{const t=e.message?e.message:String(e);i.default.log({request_type:"leaderboard:on:config (CORE)",error_message:t}),c(`renderNextCore:config error: ${t}`)}).then(o.default.fetchAdForSlot.bind(null,a.default.LEADERBOARD_SLOT_ID)).then(e=>{if(c("received ad (CORE)",e),!this._enabled)return;const t=e.display.filter(e=>"text/html"===e.mime_type)[0],n=t?t.media:e.html,o=t?t.width:d,i=t?t.height:f;if(!n)throw new Error("ad has no html (CORE)");this.render(s.default.iframeWithContent(document,this._overrideAdHtml||n,this.sandboxParams),o,i),r.default.dispatchEvent({type:l.default.DEBUG_RECEIVED_AD_LEADERBOARD_HTML,params:{html:e.html},extra:{}})}).catch(e=>{const t=e.message?e.message:String(e);i.default.log({request_type:"leaderboard:on:ad (CORE)",error_message:t}),c(`renderNextCORE error: ${t}`)}).then(()=>{this._rendering=!1}))}render(e,t,n){c("render"),s.default.renderLeaderboard(document,this.domElement,e,t,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(6)),i=n(34),a=p(n(4)),s=p(n(22)),l=p(n(13)),u=p(n(15)),c=p(n(11)),d=n(192),f=p(n(185));function p(e){return e&&e.__esModule?e:{default:e}}const h={init:function(e){m("init"),x.isInitialized||(x.containerEl=e,x.isInitialized=!0)},enable:function(){if(m("enable"),!x.isInitialized)throw new Error("Not initialized yet");if(!x.isEnabled)return x.isEnabled=!0,c.default.addNewSlot(y,v).then(c.default.registerRenderer.bind(null,y)).catch(e=>{console.error("Error creating slot or registering renderer",e),x.isEnabled=!1}).then(()=>{!function(){c.default.subscribeToSlotType(y,O),c.default.subscribeToSlotType(g,e=>C(e)),s.default.addEventListener(l.default.AD_BILLBOARD_FINISHED,F),E=(0,i.subscribeToClientState)(["focus"],I),k=(0,i.subscribeToClientState)(["ad_playing","video_playing"],D),S=(0,i.subscribeToClientState)(["current_app_uri"],R),P()}()});return Promise.resolve()},disable:function(){x.isEnabled&&(!function(){s.default.removeEventListener(l.default.AD_BILLBOARD_FINISHED,F),E(),T(),S(),k()}(),c.default.unregisterRenderer("billboard"),B(),x.isEnabled=!1,m("disable"))},updateOffSetLeft:function(e){x.view&&x.view.updateOffSetLeft(e)},_resetState:function(){clearTimeout(x.timerSetupView),clearTimeout(x.timerFetchRetry),clearTimeout(x.timerDfpRetry),x=r({},w)},_setView:function(e){x.view=e}};t.default=h;const m=(0,o.default)("saf:billboard-ad-fp:index"),g="preview",y="billboard",v="video",_=["ad","browse","charts","discover","hub","glue-reference","diag","app-manager"],b=5e3,w={isUserActive:!0,containerEl:null,view:null,isInitialized:!1,activating:!1,isEnabled:!1,timerSetupView:null,timerFetchRetry:null,timerDfpRetry:null};let E,k,S,x=r({},w),T=()=>{};function A(e){e?!x.isUserActive&&(0,i.getClientState)().focus&&U():function(){m("setApplicationInactive"),clearTimeout(x.timerSetupView),x.view&&x.view.isActive()||(P(),x.isUserActive=!1)}()}function P(){T=(0,i.subscribeToActivity)(b,A)}function C(e){if(!e.ad.companion_ad)return;const t=e.slot||g;switch(e.event){case"available":m("preview available: data=%o",e),V(e),c.default.postToSlot(t,"now");break;case"play":m("preview play"),x.view.play();break;case"discard":m("preview discard (ignoring)");break;default:throw new Error(`Unknown core event from ${t} slot: ${e.event}`)}}function O(e){if(u.default.isPreviewServiceAd(e.ad))C(e);else switch(e.event){case"available":m("available & active",e),function(e){m("onAvailable data=%o",e),L()?(!function(e,t,n){const r=(0,i.getClientState)(),o={event:e,reason:t||"",slot:f.default.Slot.BILLBOARD,in_focus:String(r.focus),uri:r.current_app_uri,wait_ms:n?Number(n):0};m("logControlEvent",o),f.default.log(o)}(f.default.Event.DISCARD,L()),j()):(V(e),m("active"))}(e);break;case"play":m("play: data=%o",e),x.view.play();break;case"discard":m("discard: data=%o",e),function(){x.view&&(x.view.destroy(),x.view=null)}();break;default:throw new Error(`[Billboard] Unsupported event type: ${e.event}`)}}function L(){return H()||((0,i.getClientState)().focus&&x.isUserActive?f.default.Reason.CLIENT_ACTIVE:null)}function I(e){e.focus?U():function(){if(m("applicationFocusLost"),x.view&&x.view.isActive())return void m("view already active");clearTimeout(x.timerSetupView)}()}function R(e){M(e.current_app_uri)?(m("finish ad due to blacklisted uri"),B()):x.view&&x.view.minimize()}function M(e){const t=a.default.from(e);return Boolean(t&&_.indexOf(t.id)>-1)}function U(){m("applicationFocusGained"),x.isUserActive=!0,clearTimeout(x.timerFetchRetry),clearTimeout(x.timerSetupView),!x.view||x.view.isActive()||x.activating||(x.activating=!0,c.default.patchTargeting("focus","true").then(c.default.postToSlot.bind(null,"billboard","now")).catch(()=>{console.error("Error activating billboard ad")}).then(()=>{x.activating=!1}))}function D(){const e=H();x.view&&e&&(m("finish ad due to reason=%o",e),B())}function F(){x.view=null,j()}function N(e){console.error(e)}function j(){return c.default.triggerSlotClearAll(y).catch(N)}function B(){m("finish"),x.view&&x.view.finish()}function V(e){x.view=(0,d.createView)(x.containerEl,e),x.view.setup()}function H(){const e=(0,i.getClientState)();return e.ad_playing&&e.video_playing?f.default.Reason.VIDEO_AD_ACTIVE:e.ad_playing&&!e.video_playing?f.default.Reason.AUDIO_AD_ACTIVE:!e.ad_playing&&e.video_playing?f.default.Reason.VIDEO_TRACK_PLAYING:M(e.current_app_uri)?f.default.Reason.URI_BLACKLISTED:void 0}},function(e,t,n){var r;(function(){var n=this,o=n._,i=Array.prototype,a=Object.prototype,s=Function.prototype,l=i.push,u=i.slice,c=a.toString,d=a.hasOwnProperty,f=Array.isArray,p=Object.keys,h=s.bind,m=Object.create,g=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};void 0!==e&&e.exports&&(t=e.exports=y),t._=y,y.VERSION="1.8.3";var v=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)}}return function(){return e.apply(t,arguments)}},_=function(e,t,n){return null==e?y.identity:y.isFunction(e)?v(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return _(e,t,1/0)};var b=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],a=e(i),s=a.length,l=0;l<s;l++){var u=a[l];t&&void 0!==n[u]||(n[u]=i[u])}return n}},w=function(e){if(!y.isObject(e))return{};if(m)return m(e);g.prototype=e;var t=new g;return g.prototype=null,t},E=function(e){return function(t){return null==t?void 0:t[e]}},k=Math.pow(2,53)-1,S=E("length"),x=function(e){var t=S(e);return"number"==typeof t&&t>=0&&t<=k};function T(e){return function(t,n,r,o){n=v(n,o,4);var i=!x(t)&&y.keys(t),a=(i||t).length,s=e>0?0:a-1;return arguments.length<3&&(r=t[i?i[s]:s],s+=e),function(t,n,r,o,i,a){for(;i>=0&&i<a;i+=e){var s=o?o[i]:i;r=n(r,t[s],s,t)}return r}(t,n,r,i,s,a)}}y.each=y.forEach=function(e,t,n){var r,o;if(t=v(t,n),x(e))for(r=0,o=e.length;r<o;r++)t(e[r],r,e);else{var i=y.keys(e);for(r=0,o=i.length;r<o;r++)t(e[i[r]],i[r],e)}return e},y.map=y.collect=function(e,t,n){t=_(t,n);for(var r=!x(e)&&y.keys(e),o=(r||e).length,i=Array(o),a=0;a<o;a++){var s=r?r[a]:a;i[a]=t(e[s],s,e)}return i},y.reduce=y.foldl=y.inject=T(1),y.reduceRight=y.foldr=T(-1),y.find=y.detect=function(e,t,n){var r;if(void 0!==(r=x(e)?y.findIndex(e,t,n):y.findKey(e,t,n))&&-1!==r)return e[r]},y.filter=y.select=function(e,t,n){var r=[];return t=_(t,n),y.each(e,function(e,n,o){t(e,n,o)&&r.push(e)}),r},y.reject=function(e,t,n){return y.filter(e,y.negate(_(t)),n)},y.every=y.all=function(e,t,n){t=_(t,n);for(var r=!x(e)&&y.keys(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(!t(e[a],a,e))return!1}return!0},y.some=y.any=function(e,t,n){t=_(t,n);for(var r=!x(e)&&y.keys(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(t(e[a],a,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,r){return x(e)||(e=y.values(e)),("number"!=typeof n||r)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=u.call(arguments,2),r=y.isFunction(t);return y.map(e,function(e){var o=r?t:e[t];return null==o?o:o.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var r,o,i=-1/0,a=-1/0;if(null==t&&null!=e)for(var s=0,l=(e=x(e)?e:y.values(e)).length;s<l;s++)(r=e[s])>i&&(i=r);else t=_(t,n),y.each(e,function(e,n,r){((o=t(e,n,r))>a||o===-1/0&&i===-1/0)&&(i=e,a=o)});return i},y.min=function(e,t,n){var r,o,i=1/0,a=1/0;if(null==t&&null!=e)for(var s=0,l=(e=x(e)?e:y.values(e)).length;s<l;s++)(r=e[s])<i&&(i=r);else t=_(t,n),y.each(e,function(e,n,r){((o=t(e,n,r))<a||o===1/0&&i===1/0)&&(i=e,a=o)});return i},y.shuffle=function(e){for(var t,n=x(e)?e:y.values(e),r=n.length,o=Array(r),i=0;i<r;i++)(t=y.random(0,i))!==i&&(o[i]=o[t]),o[t]=n[i];return o},y.sample=function(e,t,n){return null==t||n?(x(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=_(t,n),y.pluck(y.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var A=function(e){return function(t,n,r){var o={};return n=_(n,r),y.each(t,function(r,i){var a=n(r,i,t);e(o,r,a)}),o}};y.groupBy=A(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=A(function(e,t,n){e[n]=t}),y.countBy=A(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?u.call(e):x(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:x(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=_(t,n);var r=[],o=[];return y.each(e,function(e,n,i){(t(e,n,i)?r:o).push(e)}),[r,o]},y.first=y.head=y.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var P=function(e,t,n,r){for(var o=[],i=0,a=r||0,s=S(e);a<s;a++){var l=e[a];if(x(l)&&(y.isArray(l)||y.isArguments(l))){t||(l=P(l,t,n));var u=0,c=l.length;for(o.length+=c;u<c;)o[i++]=l[u++]}else n||(o[i++]=l)}return o};function C(e){return function(t,n,r){n=_(n,r);for(var o=S(t),i=e>0?0:o-1;i>=0&&i<o;i+=e)if(n(t[i],i,t))return i;return-1}}function O(e,t,n){return function(r,o,i){var a=0,s=S(r);if("number"==typeof i)e>0?a=i>=0?i:Math.max(i+s,a):s=i>=0?Math.min(i+1,s):i+s+1;else if(n&&i&&s)return r[i=n(r,o)]===o?i:-1;if(o!=o)return(i=t(u.call(r,a,s),y.isNaN))>=0?i+a:-1;for(i=e>0?a:s-1;i>=0&&i<s;i+=e)if(r[i]===o)return i;return-1}}y.flatten=function(e,t){return P(e,t,!1)},y.without=function(e){return y.difference(e,u.call(arguments,1))},y.uniq=y.unique=function(e,t,n,r){y.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=_(n,r));for(var o=[],i=[],a=0,s=S(e);a<s;a++){var l=e[a],u=n?n(l,a,e):l;t?(a&&i===u||o.push(l),i=u):n?y.contains(i,u)||(i.push(u),o.push(l)):y.contains(o,l)||o.push(l)}return o},y.union=function(){return y.uniq(P(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,r=0,o=S(e);r<o;r++){var i=e[r];if(!y.contains(t,i)){for(var a=1;a<n&&y.contains(arguments[a],i);a++);a===n&&t.push(i)}}return t},y.difference=function(e){var t=P(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,S).length||0,n=Array(t),r=0;r<t;r++)n[r]=y.pluck(e,r);return n},y.object=function(e,t){for(var n={},r=0,o=S(e);r<o;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},y.findIndex=C(1),y.findLastIndex=C(-1),y.sortedIndex=function(e,t,n,r){for(var o=(n=_(n,r,1))(t),i=0,a=S(e);i<a;){var s=Math.floor((i+a)/2);n(e[s])<o?i=s+1:a=s}return i},y.indexOf=O(1,y.findIndex,y.sortedIndex),y.lastIndexOf=O(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),o=Array(r),i=0;i<r;i++,e+=n)o[i]=e;return o};var L=function(e,t,n,r,o){if(!(r instanceof t))return e.apply(n,o);var i=w(e.prototype),a=e.apply(i,o);return y.isObject(a)?a:i};y.bind=function(e,t){if(h&&e.bind===h)return h.apply(e,u.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),r=function(){return L(e,r,t,this,n.concat(u.call(arguments)))};return r},y.partial=function(e){var t=u.call(arguments,1),n=function(){for(var r=0,o=t.length,i=Array(o),a=0;a<o;a++)i[a]=t[a]===y?arguments[r++]:t[a];for(;r<arguments.length;)i.push(arguments[r++]);return L(e,n,this,this,i)};return n},y.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)e[n=arguments[t]]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(r){var o=n.cache,i=""+(t?t.apply(this,arguments):r);return y.has(o,i)||(o[i]=e.apply(this,arguments)),o[i]};return n.cache={},n},y.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var r,o,i,a=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:y.now(),a=null,i=e.apply(r,o),a||(r=o=null)};return function(){var u=y.now();s||!1!==n.leading||(s=u);var c=t-(u-s);return r=this,o=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),s=u,i=e.apply(r,o),a||(r=o=null)):a||!1===n.trailing||(a=setTimeout(l,c)),i}},y.debounce=function(e,t,n){var r,o,i,a,s,l=function(){var u=y.now()-a;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(i,o),r||(i=o=null)))};return function(){i=this,o=arguments,a=y.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(i,o),i=o=null),s}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},y.once=y.partial(y.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function M(e,t){var n=R.length,r=e.constructor,o=y.isFunction(r)&&r.prototype||a,i="constructor";for(y.has(e,i)&&!y.contains(t,i)&&t.push(i);n--;)(i=R[n])in e&&e[i]!==o[i]&&!y.contains(t,i)&&t.push(i)}y.keys=function(e){if(!y.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return I&&M(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return I&&M(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=e[t[o]];return r},y.mapObject=function(e,t,n){t=_(t,n);for(var r,o=y.keys(e),i=o.length,a={},s=0;s<i;s++)a[r=o[s]]=t(e[r],r,e);return a},y.pairs=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=[t[o],e[t[o]]];return r},y.invert=function(e){for(var t={},n=y.keys(e),r=0,o=n.length;r<o;r++)t[e[n[r]]]=n[r];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=b(y.allKeys),y.extendOwn=y.assign=b(y.keys),y.findKey=function(e,t,n){t=_(t,n);for(var r,o=y.keys(e),i=0,a=o.length;i<a;i++)if(t(e[r=o[i]],r,e))return r},y.pick=function(e,t,n){var r,o,i={},a=e;if(null==a)return i;y.isFunction(t)?(o=y.allKeys(a),r=v(t,n)):(o=P(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,l=o.length;s<l;s++){var u=o[s],c=a[u];r(c,u,a)&&(i[u]=c)}return i},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var r=y.map(P(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(r,t)}}return y.pick(e,t,n)},y.defaults=b(y.allKeys,!0),y.create=function(e,t){var n=w(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),r=n.length;if(null==e)return!r;for(var o=Object(e),i=0;i<r;i++){var a=n[i];if(t[a]!==o[a]||!(a in o))return!1}return!0};var U=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var o=c.call(e);if(o!==c.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),i){if((l=e.length)!==t.length)return!1;for(;l--;)if(!U(e[l],t[l],n,r))return!1}else{var u,d=y.keys(e);if(l=d.length,y.keys(t).length!==l)return!1;for(;l--;)if(u=d[l],!y.has(t,u)||!U(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0};y.isEqual=function(e,t){return U(e,t)},y.isEmpty=function(e){return null==e||(x(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=f||function(e){return"[object Array]"===c.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return c.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===c.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&d.call(e,t)},y.noConflict=function(){return n._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=E,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var r=Array(Math.max(0,e));t=v(t,n,1);for(var o=0;o<e;o++)r[o]=t(o);return r},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=y.invert(D),N=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,t):e}};y.escape=N(D),y.unescape=N(F),y.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),y.isFunction(r)?r.call(e):r};var j=0;y.uniqueId=function(e){var t=++j+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+V[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var r=RegExp([(t.escape||B).source,(t.interpolate||B).source,(t.evaluate||B).source].join("|")+"|$","g"),o=0,i="__p+='";e.replace(r,function(t,n,r,a,s){return i+=e.slice(o,s).replace(H,q),o=s+t.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=new Function(t.variable||"obj","_",i)}catch(e){throw e.source=i,e}var s=function(e){return a.call(this,e,y)},l=t.variable||"obj";return s.source="function("+l+"){\n"+i+"}",s},y.chain=function(e){var t=y(e);return t._chain=!0,t};var $=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),$(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],$(this,n)}}),y.each(["concat","join","slice"],function(e){var t=i[e];y.prototype[e]=function(){return $(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},void 0===(r=function(){return y}.apply(t,[]))||(e.exports=r)}).call(this)},function(e,t,n){var r=n(561),o=n(183),i="Validator API is deprecated. Please use the type API instead.";v=o.deprecate(v,i),_=o.deprecate(_,i);var a={PrimitiveTypes:["null","boolean","int","long","float","double","bytes","string"],ComplexTypes:["record","enum","array","map","union","fixed"]};a.Types=a.PrimitiveTypes.concat(a.ComplexTypes);var s=function(e){return new Error("InvalidSchemaError: "+e)},l=function(e){return new Error("InvalidProtocolError: "+e)},u=function(e){return new Error("ValidationError: "+e)},c=function(e){return new Error("ProtocolValidationError: "+e)};function d(e,t,n){!function(e,t,n){if(!r.isString(e))throw new s("Record name must be string");if(!r.isNull(t)&&!r.isUndefined(t)&&!r.isString(t))throw new s("Record namespace must be string or null");if(!r.isArray(n))throw new s("Record name must be string")}(e,t,n),this.name=e,this.namespace=t,this.fields=n}function f(e,t){var n=null;if(r.isString(e))n=e;else{if(!r.isObject(e))throw new s("unable to determine fully qualified type name from schema "+JSON.stringify(e)+" in namespace "+t);r.isString(e.namespace)&&(t=e.namespace),r.isString(e.name)?n=e.name:r.isString(e.type)&&(n=e.type)}if(!r.isString(n))throw new s("unable to determine type name from schema "+JSON.stringify(e)+" in namespace "+t);return-1!==n.indexOf(".")?n:r.contains(a.PrimitiveTypes,n)?n:r.isString(t)?t+"."+n:n}function p(e,t){this.branchNames=function(){return r.map(e,function(e){return f(e,t)})},function(e){if(!r.isArray(e)||r.isEmpty(e))throw new s("Union must have at least 1 branch")}(e),this.typeSchemas=e,this.namespace=t}function h(e){!function(e){if(!r.isArray(e))throw new s("Enum must have array of symbols, got "+JSON.stringify(e));if(!r.all(e,function(e){return r.isString(e)}))throw new s("Enum symbols must be strings, got "+JSON.stringify(e))}(e),this.symbols=e}function m(e){!function(e){if(r.isNull(e)||r.isUndefined(e))throw new s('Array "items" schema should not be null or undefined')}(e),this.itemSchema=e}function g(e){!function(e){if(r.isNull(e)||r.isUndefined(e))throw new s('Map "values" schema should not be null or undefined')}(e),this.valueSchema=e}function y(e){!function(e){if(!r.isString(e))throw new s("Primitive type name must be a string");if(!r.contains(a.PrimitiveTypes,e))throw new s("Primitive type must be one of: "+JSON.stringify(a.PrimitiveTypes)+"; got "+e)}(e),this.type=e}function v(e,t,n){this.validate=function(e){return o(this.schema,e)};var o=function(e,t){if(e instanceof d)return i(e,t);if(e instanceof p)return l(e,t);if(e instanceof h)return c(e,t);if(e instanceof m)return v(e,t);if(e instanceof g)return _(e,t);if(e instanceof y)return b(e,t);throw new s("validation not yet implemented: "+JSON.stringify(e))},i=function(e,t){if(!r.isObject(t)||r.isArray(t))throw new u("Expected record Javascript type to be non-array object, got "+JSON.stringify(t));var n=r.pluck(e.fields,"name").sort(),i=r.keys(t).sort();if(!r.isEqual(n,i))throw new u("Expected record fields "+JSON.stringify(n)+"; got "+JSON.stringify(i));return r.all(e.fields,function(e){return o(e.schema,t[e.name])})},l=function(e,t){if(r.isObject(t)){if(r.isArray(t))throw new u("Expected union Javascript type to be non-array object (or null), got "+JSON.stringify(t));if(1!==r.size(t))throw new u("Expected union Javascript object to be object with exactly 1 key (or null), got "+JSON.stringify(t));var n=r.keys(t)[0];if(""===n)throw new u("Expected union Javascript object to contain non-empty string branch, got "+JSON.stringify(t));if(r.contains(e.branchNames(),n))return!0;throw new u("Expected union branch to be one of "+JSON.stringify(e.branchNames())+"; got "+JSON.stringify(n))}if(r.isNull(t)){if(r.contains(e.branchNames(),"null"))return!0;throw new u("Expected union branch to be one of "+JSON.stringify(e.branchNames())+"; got "+JSON.stringify(t))}throw new u("Expected union Javascript object to be non-array object of size 1 or null, got "+JSON.stringify(t))},c=function(e,t){if(r.isString(t)){if(r.contains(e.symbols,t))return!0;throw new u("Expected enum value to be one of "+JSON.stringify(e.symbols)+"; got "+JSON.stringify(t))}throw new u("Expected enum Javascript object to be string, got "+JSON.stringify(t))},v=function(e,t){if(r.isArray(t))return r.all(t,function(t){return o(e.itemSchema,t)});throw new u("Expected array Javascript object to be array, got "+JSON.stringify(t))},_=function(e,t){if(r.isObject(t)&&!r.isArray(t))return r.all(t,function(t){return o(e.valueSchema,t)});throw r.isArray(t)?new u("Expected map Javascript object to be non-array object, got array "+JSON.stringify(t)):new u("Expected map Javascript object to be non-array object, got "+JSON.stringify(t))},b=function(e,t){switch(e.type){case"null":if(r.isNull(t)||r.isUndefined(t))return!0;throw new u("Expected Javascript null or undefined for Avro null, got "+JSON.stringify(t));case"boolean":if(r.isBoolean(t))return!0;throw new u("Expected Javascript boolean for Avro boolean, got "+JSON.stringify(t));case"int":if(r.isNumber(t)&&Math.floor(t)===t&&Math.abs(t)<=Math.pow(2,31))return!0;throw new u("Expected Javascript int32 number for Avro int, got "+JSON.stringify(t));case"long":if(r.isNumber(t)&&Math.floor(t)===t&&Math.abs(t)<=Math.pow(2,63))return!0;throw new u("Expected Javascript int64 number for Avro long, got "+JSON.stringify(t));case"float":if(r.isNumber(t))return!0;throw new u("Expected Javascript float number for Avro float, got "+JSON.stringify(t));case"double":if(r.isNumber(t))return!0;throw new u("Expected Javascript double number for Avro double, got "+JSON.stringify(t));case"bytes":throw new s("not yet implemented: "+e.type);case"string":if(r.isString(t))return!0;throw new u("Expected Javascript string for Avro string, got "+JSON.stringify(t));default:throw new s("unrecognized primitive type: "+e.type)}},w=n||{},E=function(e,t){if(r.has(w,e)){if(!r.isEqual(w[e],t))throw new s("conflicting definitions for type "+e+": "+JSON.stringify(w[e])+" and "+JSON.stringify(t))}else w[e]=t},k=function(e){return r.has(w,e)?w[e]:null},S=function(e,t){if(r.contains(a.PrimitiveTypes,e))return new y(e);if(r.isNull(k(f(e,t))))throw new s("unknown type name: "+JSON.stringify(e)+"; known type names are "+JSON.stringify(r.keys(w)));return k(f(e,t))},x=function(e,t,n){if(r.isNull(e)||r.isUndefined(e))throw new s("schema is null, in parentSchema: "+JSON.stringify(t));if(r.isString(e))return S(e,n);if(r.isObject(e)&&!r.isArray(e)){if("record"===e.type){var o=new d(e.name,e.namespace,r.map(e.fields,function(t){return new function(e,t){this.name=e,this.schema=t}(t.name,x(t.type,e,e.namespace||n))}));return E(f(e,n),o),o}if("enum"===e.type){if(r.has(e,"symbols")){var i=new h(e.symbols);return E(f(e,n),i),i}throw new s("enum must specify symbols, got "+JSON.stringify(e))}if("array"===e.type){if(r.has(e,"items"))return new m(x(e.items,e,n));throw new s('array must specify "items" schema, got '+JSON.stringify(e))}if("map"===e.type){if(r.has(e,"values"))return new g(x(e.values,e,n));throw new s('map must specify "values" schema, got '+JSON.stringify(e))}if(r.has(e,"type")&&r.contains(a.PrimitiveTypes,e.type))return S(e.type,n);throw new s("not yet implemented: "+e.type)}if(r.isArray(e)){if(r.isEmpty(e))throw new s("unions must have at least 1 branch");return new p(r.map(e,function(t){return x(t,e,n)}),n)}throw new s("unexpected Javascript type for schema: "+typeof e)};this.rawSchema=e,this.schema=x(e,null,t)}function _(e){this.validate=function(n,o){var i=f(n,e.namespace);if(!r.has(t,i))throw new c("Protocol does not contain definition for type "+JSON.stringify(i)+' (fully qualified from input "'+n+'"); known types are '+JSON.stringify(r.keys(t)));return t[i].validate(o)};var t={};!function(e){var n={};if(!r.has(e,"protocol")||!r.isString(e.protocol))throw new l('Protocol must contain a "protocol" attribute with a string value');r.isArray(e.types)&&r.each(e.types,function(r){var o=new v(r,e.namespace,n),i=f(r,e.namespace);t[i]=o})}(e)}v.validate=function(e,t){return new v(e).validate(t)},_.validate=function(e,t,n){return new _(e).validate(t,n)},t.Validator=v,t.ProtocolValidator=_},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){"use strict";(function(t){var r=n(184),o=n(57),i=n(183),a=r.Tap,s=i.format,l={array:C,boolean:v,bytes:S,double:E,enum:T,error:O,fixed:A,float:w,int:_,long:b,map:P,null:y,record:O,request:O,string:k,union:x},u=/^[A-Za-z_][A-Za-z0-9_]*$/,c=new r.Lcg,d=new a(new o.SlowBuffer(1024)),f=[],p=null;function h(e,t){if(e instanceof m)return e;var n;if(t=D(e,t),"string"==typeof e){if(!t.namespace||~e.indexOf(".")||V(e)||(e=t.namespace+"."+e),n=t.registry[e])return n;if(V(e))return t.registry[e]=h({type:e},t);throw new Error(s("undefined type name: %s",e))}if(t.typeHook&&(n=t.typeHook(e,t))){if(!(n instanceof m))throw new Error(s("invalid typehook return value: %j",n));return n}if(e.logicalType&&!p){var r=t.logicalTypes[e.logicalType];if(r){var o={};Object.keys(t.registry).forEach(function(e){o[e]=t.registry[e]});try{return new r(e,t)}catch(e){if(t.assertLogicalTypes)throw e;p=null,t.registry=o}}}return n=e instanceof Array?new x(e,t):function(n){var r=l[n];if(void 0===r)throw new Error(s("unknown type: %j",n));return new r(e,t)}(e.type)}function m(e){var t=this._name,n=p||this;if(p=null,void 0!==e&&void 0!==t){if(void 0!==e[t])throw new Error(s("duplicate type name: %s",t));e[t]=n}}function g(){m.call(this)}function y(){g.call(this)}function v(){g.call(this)}function _(){g.call(this)}function b(){g.call(this)}function w(){g.call(this)}function E(){g.call(this)}function k(){g.call(this)}function S(){g.call(this)}function x(e,t){if(!(e instanceof Array))throw new Error(s("non-array union schema: %j",e));if(!e.length)throw new Error("empty union");t=D(e,t),m.call(this),this._types=e.map(function(e){return h(e,t)}),this._indices={},this._types.forEach(function(e,t){if(e instanceof x)throw new Error("unions cannot be directly nested");var n=e._name||B(e);if(void 0!==this._indices[n])throw new Error(s("duplicate union name: %j",n));this._indices[n]=t},this),this._constructors=this._types.map(function(e){var t,n=e._name||B(e);return"null"===n?null:(t=~n.indexOf(".")?"this['"+n+"'] = val;":"this."+n+" = val;",new Function("val",t))})}function T(e,t){if(!(e.symbols instanceof Array&&e.symbols.length))throw new Error(s("invalid %j enum symbols: %j",e.name,e));var n=F(e,(t=D(e,t)).namespace);this._name=n.name,this._symbols=e.symbols,this._aliases=n.aliases,m.call(this,t.registry),this._indices={},this._symbols.forEach(function(e,t){if(!u.test(e))throw new Error(s("invalid %s symbol: %j",this,e));if(void 0!==this._indices[e])throw new Error(s("duplicate %s symbol: %j",this,e));this._indices[e]=t},this)}function A(e,t){if(e.size!==(0|e.size)||e.size<1)throw new Error(s("invalid %j fixed size: %j",e.name,e.size));var n=F(e,(t=D(e,t)).namespace);this._name=n.name,this._size=0|e.size,this._aliases=n.aliases,m.call(this,t.registry)}function P(e,t){if(!e.values)throw new Error(s("missing map values: %j",e));t=D(e,t),m.call(this),this._values=h(e.values,t)}function C(e,t){if(!e.items)throw new Error(s("missing array items: %j",e));t=D(e,t),this._items=h(e.items,t),m.call(this)}function O(e,t){var n=F(e,(t=D(e,t)).namespace);if(this._name=n.name,this._aliases=n.aliases,this._type=e.type,m.call(this,"request"===this._type?void 0:t.registry),!(e.fields instanceof Array))throw new Error(s("non-array %s fields",this._name));if(this._fields=e.fields.map(function(e){return new R(e,t)}),r.hasDuplicates(e.fields,function(e){return e.name}))throw new Error(s("duplicate %s field name",this._name));var o="error"===e.type;this._constructor=this._createConstructor(o),this._read=this._createReader(),this._skip=this._createSkipper(),this._write=this._createWriter(),this._check=this._createChecker()}function L(e,t,n){if(m.call(this),p=this,this._underlyingType=h(e,t),n&&!~n.indexOf(this._underlyingType.constructor)){var r=e.logicalType,o=this._underlyingType;throw new Error(s("invalid underlying type for %s: %s",r,o))}}function I(e){b.call(this),this._noUnpack=!!e}function R(e,t){var n=e.name;if("string"!=typeof n||!u.test(n))throw new Error(s("invalid field name: %s",n));this._name=n,this._type=h(e.type,t),this._aliases=e.aliases||[],this._order=function(e){switch(e){case"ascending":return 1;case"descending":return-1;case"ignore":return 0;default:throw new Error(s("invalid order: %j",e))}}(void 0===e.order?"ascending":e.order);var r=e.default;if(void 0!==r){var o=this._type,i=o._copy(r,{coerce:2,wrap:2});this.getDefault=o instanceof g&&!(o instanceof S)?function(){return i}:function(){return o._copy(i)}}}function M(e){this._readerType=e,this._items=null,this._read=null,this._size=0,this._symbols=null,this._values=null}function U(e,t,n,r){if(n){if(n._readerType!==e)throw new Error("invalid resolver");return n._read(t,r)}return e._read(t)}function D(e,t){if(null===e)throw new Error('invalid type: null (did you mean "null"?)');return(t=t||{}).registry=t.registry||{},t.namespace=e.namespace||t.namespace,t.logicalTypes=t.logicalTypes||{},t}function F(e,t,n){t=e.namespace||t;var r=e[n=n||"name"];if(!r)throw new Error(s("missing %s property in schema: %j",n,e));return{name:o(r),aliases:e.aliases?e.aliases.map(o):[]};function o(e){!~e.indexOf(".")&&t&&(e=t+"."+e);var n=N(e);if(V(n))throw new Error(s("cannot rename primitive type: %j",n));return e.split(".").forEach(function(t){if(!u.test(t))throw new Error(s("invalid name: %j",e))}),e}}function N(e){var t=e.split(".");return t[t.length-1]}function j(e){var t,n,r=[e._name],o=e._aliases;for(t=0,n=o.length;t<n;t++)r.push(o[t]);return r}function B(e){var t=e.toJSON();return"string"==typeof t?t:t.type}function V(e){var t=l[e];return void 0!==t&&t.prototype instanceof g}function H(e){var t=e.readLong();return t<0&&(t=-t,e.skipLong()),t}function q(e,t){return function(n){return JSON.stringify(e,function(e,r){if(r instanceof R)return{name:r._name,type:r._type};if(r&&r.name){var o=r.name;if(t||n[o])return o;n[o]=!0}return r})}({})}function $(e){return e>=-9007199254740990&&e<=9007199254740990}function z(e,t,n){throw new Error(s("invalid %s: %j",n,t))}m.__reset=function(e){d.buf=new o.SlowBuffer(e)},m.prototype.createResolver=function(e,t){if(!(e instanceof m))throw new Error(s("not a type: %j",e));if(e instanceof L&&!(this instanceof L))return this.createResolver(e._underlyingType,t);var n,r;if((t=t||{}).registry=t.registry||{},this instanceof O&&e instanceof O&&(r=this._name+":"+e._name,n=t.registry[r]))return n;if(n=new M(this),r&&(t.registry[r]=n),e instanceof x){var o=e._types.map(function(e){return this.createResolver(e,t)},this);n._read=function(e){var t=e.readLong();if(void 0===o[t])throw new Error(s("invalid union index: %s",t));return o[t]._read(e)}}else this._updateResolver(n,e,t);if(!n._read)throw new Error(s("cannot read %s as %s",e,this));return n},m.prototype.decode=function(e,t,n){var r=new a(e);r.pos=0|t;var o=U(this,r,n);return r.isValid()?{value:o,offset:r.pos}:{value:void 0,offset:-1}},m.prototype.encode=function(e,t,n){var r=new a(t);return r.pos=0|n,this._write(r,e),r.isValid()?r.pos:t.length-r.pos},m.prototype.fromBuffer=function(e,t,n){var r=new a(e),o=U(this,r,t,n);if(!r.isValid())throw new Error("truncated buffer");if(!n&&r.pos<e.length)throw new Error("trailing data");return o},m.prototype.toBuffer=function(e){d.pos=0,this._write(d,e),d.isValid()||(m.__reset(2*d.pos),d.pos=0,this._write(d,e));var n=new t(d.pos);return d.buf.copy(n,0,0,d.pos),n},m.prototype.fromString=function(e){return this._copy(JSON.parse(e),{coerce:2})},m.prototype.toString=function(e){return void 0===e?this.getSchema(!0):JSON.stringify(this._copy(e,{coerce:3}))},m.prototype.clone=function(e,t){return t&&(t={coerce:0|!!t.coerceBuffers,fieldHook:t.fieldHook,wrap:0|!!t.wrapUnions}),this._copy(e,t)},m.prototype.isValid=function(e,t){for(;f.length;)f.pop();return this._check(e,t&&t.errorHook)},m.prototype.compareBuffers=function(e,t){return this._match(new a(e),new a(t))},m.prototype.getName=function(e){return e?B(this):this._name},m.prototype.getSchema=function(e){return q(this,e)},m.prototype.getFingerprint=function(e){return r.getHash(this.getSchema(),e)},m.prototype.inspect=function(){if(this instanceof g)return s("<%s>",this.constructor.name);var e=JSON.parse(this.getSchema(!0));return"object"==typeof e&&(e.type=void 0),s("<%s %j>",this.constructor.name,e)},m.prototype._check=r.abstractFunction,m.prototype._copy=r.abstractFunction,m.prototype._match=r.abstractFunction,m.prototype._read=r.abstractFunction,m.prototype._skip=r.abstractFunction,m.prototype._updateResolver=r.abstractFunction,m.prototype._write=r.abstractFunction,m.prototype.compare=r.abstractFunction,m.prototype.random=r.abstractFunction,i.inherits(g,m),g.prototype._updateResolver=function(e,t){t.constructor===this.constructor&&(e._read=this._read)},g.prototype._copy=function(e){return this._check(e,z),e},g.prototype.compare=r.compare,i.inherits(y,g),y.prototype._check=function(e,t){var n=null===e;return!n&&t&&t(f.slice(),e,this),n},y.prototype._read=function(){return null},y.prototype._skip=function(){},y.prototype._write=function(e,t){null!==t&&z(null,t,this)},y.prototype._match=function(){return 0},y.prototype.compare=y.prototype._match,y.prototype.random=y.prototype._read,y.prototype.toJSON=function(){return"null"},i.inherits(v,g),v.prototype._check=function(e,t){var n="boolean"==typeof e;return!n&&t&&t(f.slice(),e,this),n},v.prototype._read=function(e){return e.readBoolean()},v.prototype._skip=function(e){e.skipBoolean()},v.prototype._write=function(e,t){"boolean"!=typeof t&&z(null,t,this),e.writeBoolean(t)},v.prototype._match=function(e,t){return e.matchBoolean(t)},v.prototype.random=function(){return c.nextBoolean()},v.prototype.toJSON=function(){return"boolean"},i.inherits(_,g),_.prototype._check=function(e,t){var n=e===(0|e);return!n&&t&&t(f.slice(),e,this),n},_.prototype._read=function(e){return e.readInt()},_.prototype._skip=function(e){e.skipInt()},_.prototype._write=function(e,t){t!==(0|t)&&z(null,t,this),e.writeInt(t)},_.prototype._match=function(e,t){return e.matchInt(t)},_.prototype.random=function(){return 0|c.nextInt(1e3)},_.prototype.toJSON=function(){return"int"},i.inherits(b,g),b.prototype._check=function(e,t){var n="number"==typeof e&&e%1==0&&$(e);return!n&&t&&t(f.slice(),e,this),n},b.prototype._read=function(e){var t=e.readLong();if(!$(t))throw new Error("potential precision loss");return t},b.prototype._skip=function(e){e.skipLong()},b.prototype._write=function(e,t){("number"!=typeof t||t%1||!$(t))&&z(null,t,this),e.writeLong(t)},b.prototype._match=function(e,t){return e.matchLong(t)},b.prototype._updateResolver=function(e,t){(t instanceof b||t instanceof _)&&(e._read=t._read)},b.prototype.random=function(){return c.nextInt()},b.prototype.toJSON=function(){return"long"},b.using=function(e,t){e=e||{};var n={toBuffer:"_toBuffer",fromBuffer:"_fromBuffer",fromJSON:"_fromJSON",toJSON:"_toJSON",isValid:"_isValid",compare:"compare"},r=new I(t);return Object.keys(n).forEach(function(t){if(void 0===e[t])throw new Error(s("missing method implementation: %s",t));r[n[t]]=e[t]}),r},i.inherits(w,g),w.prototype._check=function(e,t){var n="number"==typeof e;return!n&&t&&t(f.slice(),e,this),n},w.prototype._read=function(e){return e.readFloat()},w.prototype._skip=function(e){e.skipFloat()},w.prototype._write=function(e,t){"number"!=typeof t&&z(null,t,this),e.writeFloat(t)},w.prototype._match=function(e,t){return e.matchFloat(t)},w.prototype._updateResolver=function(e,t){(t instanceof w||t instanceof b||t instanceof _)&&(e._read=t._read)},w.prototype.random=function(){return c.nextFloat(1e3)},w.prototype.toJSON=function(){return"float"},i.inherits(E,g),E.prototype._check=function(e,t){var n="number"==typeof e;return!n&&t&&t(f.slice(),e,this),n},E.prototype._read=function(e){return e.readDouble()},E.prototype._skip=function(e){e.skipDouble()},E.prototype._write=function(e,t){"number"!=typeof t&&z(null,t,this),e.writeDouble(t)},E.prototype._match=function(e,t){return e.matchDouble(t)},E.prototype._updateResolver=function(e,t){(t instanceof E||t instanceof w||t instanceof b||t instanceof _)&&(e._read=t._read)},E.prototype.random=function(){return c.nextFloat()},E.prototype.toJSON=function(){return"double"},i.inherits(k,g),k.prototype._check=function(e,t){var n="string"==typeof e;return!n&&t&&t(f.slice(),e,this),n},k.prototype._read=function(e){return e.readString()},k.prototype._skip=function(e){e.skipString()},k.prototype._write=function(e,t){"string"!=typeof t&&z(null,t,this),e.writeString(t)},k.prototype._match=function(e,t){return e.matchString(t)},k.prototype._updateResolver=function(e,t){(t instanceof k||t instanceof S)&&(e._read=this._read)},k.prototype.random=function(){return c.nextString(c.nextInt(32))},k.prototype.toJSON=function(){return"string"},i.inherits(S,g),S.prototype._check=function(e,n){var r=t.isBuffer(e);return!r&&n&&n(f.slice(),e,this),r},S.prototype._read=function(e){return e.readBytes()},S.prototype._skip=function(e){e.skipBytes()},S.prototype._write=function(e,n){t.isBuffer(n)||z(null,n,this),e.writeBytes(n)},S.prototype._match=function(e,t){return e.matchBytes(t)},S.prototype._updateResolver=k.prototype._updateResolver,S.prototype._copy=function(e,n){var r;switch(0|(n&&n.coerce)){case 3:return this._check(e,z),e.toString("binary");case 2:if("string"!=typeof e)throw new Error(s("cannot coerce to buffer: %j",e));return r=new t(e,"binary"),this._check(r,z),r;case 1:if(!(e&&"Buffer"===e.type&&e.data instanceof Array))throw new Error(s("cannot coerce to buffer: %j",e));return r=new t(e.data),this._check(r,z),r;default:return this._check(e,z),new t(e)}},S.prototype.compare=t.compare,S.prototype.random=function(){return c.nextBuffer(c.nextInt(32))},S.prototype.toJSON=function(){return"bytes"},i.inherits(x,m),x.prototype._check=function(e,t){var n=!1;if(null===e)n=void 0!==this._indices.null;else if("object"==typeof e){var r=Object.keys(e);if(1===r.length){var o=r[0],i=this._indices[o];if(void 0!==i)return f.push(o),n=this._types[i]._check(e[o],t),f.pop(),n}}return!n&&t&&t(f.slice(),e,this),n},x.prototype._read=function(e){var t=e.readLong(),n=this._constructors[t];if(n)return new n(this._types[t]._read(e));if(null===n)return null;throw new Error(s("invalid union index: %s",t))},x.prototype._skip=function(e){this._types[e.readLong()]._skip(e)},x.prototype._write=function(e,t){var n,r,o;null===t?(void 0===(n=this._indices.null)&&z(null,t,this),e.writeLong(n)):(1===(r=Object.keys(t)).length&&(o=r[0],n=this._indices[o]),void 0===n&&z(null,t,this),e.writeLong(n),this._types[n]._write(e,t[o]))},x.prototype._match=function(e,t){var n=e.readLong(),r=t.readLong();return n===r?this._types[n]._match(e,t):n<r?-1:1},x.prototype._updateResolver=function(e,t,n){var r,o,i,a;for(r=0,o=this._types.length;r<o;r++){try{i=this._types[r].createResolver(t,n)}catch(e){continue}return a=this._constructors[r],void(e._read=a?function(e){return new a(i._read(e))}:function(){return null})}},x.prototype._copy=function(e,t){var n,r,o,i=t&&0|t.wrap;if(2===i)return null===e&&null===this._constructors[0]?null:new this._constructors[0](this._types[0]._copy(e,t));if(null===e&&void 0!==this._indices.null)return null;if("object"==typeof e){var a=Object.keys(e);if(1===a.length){var s,l,u=a[0];if(void 0===(n=this._indices[u]))for(s=0,r=this._types.length;s<r;s++)if((l=this._types[s])._name&&u===N(l._name)){n=s;break}void 0!==n&&(o=this._types[n]._copy(e[u],t))}}if(1===i&&void 0===o)for(n=0,r=this._types.length;n<r&&void 0===o;)try{o=this._types[n]._copy(e,t)}catch(e){n++}if(void 0!==o)return new this._constructors[n](o);z(null,e,this)},x.prototype.compare=function(e,t){var n=null===e?"null":Object.keys(e)[0],o=null===t?"null":Object.keys(t)[0],i=this._indices[n];return n===o?"null"===n?0:this._types[i].compare(e[n],t[n]):r.compare(i,this._indices[o])},x.prototype.getTypes=function(){return this._types.slice()},x.prototype.random=function(){var e=c.nextInt(this._types.length),t=this._constructors[e];return t?new t(this._types[e].random()):null},x.prototype.toJSON=function(){return this._types},i.inherits(T,m),T.prototype._check=function(e,t){var n=void 0!==this._indices[e];return!n&&t&&t(f.slice(),e,this),n},T.prototype._read=function(e){var t=e.readLong(),n=this._symbols[t];if(void 0===n)throw new Error(s("invalid %s enum index: %s",this._name,t));return n},T.prototype._skip=function(e){e.skipLong()},T.prototype._write=function(e,t){var n=this._indices[t];void 0===n&&z(null,t,this),e.writeLong(n)},T.prototype._match=function(e,t){return e.matchLong(t)},T.prototype.compare=function(e,t){return r.compare(this._indices[e],this._indices[t])},T.prototype._updateResolver=function(e,t){var n=this._symbols;t instanceof T&&~j(this).indexOf(t._name)&&t._symbols.every(function(e){return~n.indexOf(e)})&&(e._symbols=t._symbols,e._read=t._read)},T.prototype._copy=function(e){return this._check(e,z),e},T.prototype.getAliases=function(){return this._aliases},T.prototype.getSymbols=function(){return this._symbols.slice()},T.prototype.random=function(){return c.choice(this._symbols)},T.prototype.toJSON=function(){return{name:this._name,type:"enum",symbols:this._symbols}},i.inherits(A,m),A.prototype._check=function(e,n){var r=t.isBuffer(e)&&e.length===this._size;return!r&&n&&n(f.slice(),e,this),r},A.prototype._read=function(e){return e.readFixed(this._size)},A.prototype._skip=function(e){e.skipFixed(this._size)},A.prototype._write=function(e,n){t.isBuffer(n)&&n.length===this._size||z(null,n,this),e.writeFixed(n,this._size)},A.prototype._match=function(e,t){return e.matchFixed(t,this._size)},A.prototype.compare=t.compare,A.prototype._updateResolver=function(e,t){t instanceof A&&this._size===t._size&&~j(this).indexOf(t._name)&&(e._size=this._size,e._read=this._read)},A.prototype._copy=S.prototype._copy,A.prototype.getAliases=function(){return this._aliases},A.prototype.getSize=function(){return this._size},A.prototype.random=function(){return c.nextBuffer(this._size)},A.prototype.toJSON=function(){return{name:this._name,type:"fixed",size:this._size}},i.inherits(P,m),P.prototype.getValuesType=function(){return this._values},P.prototype._check=function(e,t){if(!e||"object"!=typeof e||e instanceof Array)return t&&t(f.slice(),e,this),!1;var n,r,o,i,a=Object.keys(e),s=!0;if(t){for(o=f.length,f.push(""),n=0,r=a.length;n<r;n++)i=f[o]=a[n],this._values._check(e[i],t)||(s=!1);f.pop()}else for(n=0,r=a.length;n<r;n++)if(!this._values._check(e[a[n]],t))return!1;return s},P.prototype._read=function(e){for(var t,n=this._values,r={};t=H(e);)for(;t--;){r[e.readString()]=n._read(e)}return r},P.prototype._skip=function(e){for(var t,n,r=this._values;n=e.readLong();)if(n<0)t=e.readLong(),e.pos+=t;else for(;n--;)e.skipString(),r._skip(e)},P.prototype._write=function(e,t){(!t||"object"!=typeof t||t instanceof Array)&&z(null,t,this);var n,r,o=this._values,i=Object.keys(t),a=i.length;if(a)for(e.writeLong(a),n=0;n<a;n++)r=i[n],e.writeString(r),o._write(e,t[r]);e.writeLong(0)},P.prototype._match=function(){throw new Error("maps cannot be compared")},P.prototype._updateResolver=function(e,t,n){t instanceof P&&(e._values=this._values.createResolver(t._values,n),e._read=this._read)},P.prototype._copy=function(e,t){if(e&&"object"==typeof e&&!(e instanceof Array)){var n,r,o,i=this._values,a=Object.keys(e),s={};for(n=0,r=a.length;n<r;n++)s[o=a[n]]=i._copy(e[o],t);return s}z(null,e,this)},P.prototype.compare=P.prototype._match,P.prototype.random=function(){var e,t,n={};for(e=0,t=c.nextInt(10);e<t;e++)n[c.nextString(c.nextInt(20))]=this._values.random();return n},P.prototype.toJSON=function(){return{type:"map",values:this._values}},i.inherits(C,m),C.prototype._check=function(e,t){if(!(e instanceof Array))return t&&t(f.slice(),e,this),!1;var n,r,o,i=!0;if(t){for(o=f.length,f.push(""),n=0,r=e.length;n<r;n++)f[o]=""+n,this._items._check(e[n],t)||(i=!1);f.pop()}else for(n=0,r=e.length;n<r;n++)if(!this._items._check(e[n],t))return!1;return i},C.prototype._read=function(e){for(var t,n=this._items,r=[];t=e.readLong();)for(t<0&&(t=-t,e.skipLong());t--;)r.push(n._read(e));return r},C.prototype._skip=function(e){for(var t,n;n=e.readLong();)if(n<0)t=e.readLong(),e.pos+=t;else for(;n--;)this._items._skip(e)},C.prototype._write=function(e,t){t instanceof Array||z(null,t,this);var n,r=t.length;if(r)for(e.writeLong(r),n=0;n<r;n++)this._items._write(e,t[n]);e.writeLong(0)},C.prototype._match=function(e,t){for(var n,o=e.readLong(),i=t.readLong();o&&i;){if(n=this._items._match(e,t))return n;--o||(o=H(e)),--i||(i=H(t))}return r.compare(o,i)},C.prototype._updateResolver=function(e,t,n){t instanceof C&&(e._items=this._items.createResolver(t._items,n),e._read=this._read)},C.prototype._copy=function(e,t){e instanceof Array||z(null,e,this);var n,r,o=[];for(n=0,r=e.length;n<r;n++)o.push(this._items._copy(e[n],t));return o},C.prototype.compare=function(e,t){var n,o,i,a=e.length,s=t.length;for(n=0,o=Math.min(a,s);n<o;n++)if(i=this._items.compare(e[n],t[n]))return i;return r.compare(a,s)},C.prototype.getItemsType=function(){return this._items},C.prototype.random=function(){var e,t,n=[];for(e=0,t=c.nextInt(10);e<t;e++)n.push(this._items.random());return n},C.prototype.toJSON=function(){return{type:"array",items:this._items}},i.inherits(O,m),O.prototype._createConstructor=function(e){var t,n,r,o,a,s=[],l=[],u=[],c=e?"  Error.call(this);\n":"";for(t=0,n=this._fields.length;t<n;t++)a=(r=this._fields[t]).getDefault,o=r._name,l.push("v"+t),c+="  ",void 0===a()?c+="this."+o+" = v"+t+";\n":(c+="if (v"+t+" === undefined) { ",c+="this."+o+" = d"+u.length+"(); ",c+="} else { this."+o+" = v"+t+"; }\n",s.push("d"+u.length),u.push(a));var d="return function "+N(this._name)+"(";d+=l.join()+") {\n"+c+"};";var f=new Function(s.join(),d).apply(void 0,u),p=this;return f.getType=function(){return p},f.prototype={constructor:f,$clone:function(e){return p.clone(this,e)},$compare:function(e){return p.compare(this,e)},$getType:f.getType,$isValid:function(e){return p.isValid(this,e)},$toBuffer:function(){return p.toBuffer(this)},$toString:function(e){return p.toString(this,e)}},e&&i.inherits(f,Error),f},O.prototype._createChecker=function(){var e=["t","P"],t=[this,f],n="return function check"+N(this._name)+"(val, cb) {\n";if(n+="  if (val === null || typeof val != 'object') {\n",n+="    if (cb) { cb(P.slice(), val, t); }\n",n+="    return false;\n",n+="  }\n",this._fields.length){for(r=0,o=this._fields.length;r<o;r++)i=this._fields[r],e.push("t"+r),t.push(i._type),void 0!==i.getDefault()&&(n+="  var v"+r+" = val."+i._name+";\n");var r,o,i;for(n+="  if (cb) {\n",n+="    var b = 1;\n",n+="    var j = P.length;\n",n+="    P.push('');\n",r=0,o=this._fields.length;r<o;r++)n+="    P[j] = '"+(i=this._fields[r])._name+"';\n",void 0===i.getDefault()?n+="    b &= t"+r+"._check(val."+i._name+", cb);\n":(n+="    b &= v"+r+" === undefined || ",n+="t"+r+"._check(v"+r+", cb);\n");n+="    P.pop();\n",n+="    return !!b;\n",n+="  } else {\n    return (\n      ",n+=this._fields.map(function(e,t){return void 0===e.getDefault()?"t"+t+"._check(val."+e._name+")":"(v"+t+" === undefined || t"+t+"._check(v"+t+"))"}).join(" &&\n      "),n+="\n    );\n  }\n"}else n+="  return true;\n";return n+="};",new Function(e.join(),n).apply(void 0,t)},O.prototype._createReader=function(){var e,t,n=N(this._name),r=[],o=[this._constructor];for(e=0,t=this._fields.length;e<t;e++)r.push("t"+e),o.push(this._fields[e]._type);var i="return function read"+n+"(tap) {\n";return i+="  return new "+n+"(",i+=r.map(function(e){return e+"._read(tap)"}).join(),i+=");\n};",r.unshift(n),new Function(r.join(),i).apply(void 0,o)},O.prototype._createSkipper=function(){var e,t,n=[],r="return function skip"+N(this._name)+"(tap) {\n",o=[];for(e=0,t=this._fields.length;e<t;e++)n.push("t"+e),o.push(this._fields[e]._type),r+="  t"+e+"._skip(tap);\n";return r+="}",new Function(n.join(),r).apply(void 0,o)},O.prototype._createWriter=function(){var e,t,n,r,o=[],i="return function write"+N(this._name)+"(tap, val) {\n",a=[];for(e=0,t=this._fields.length;e<t;e++)n=this._fields[e],o.push("t"+e),a.push(n._type),i+="  ",void 0===n.getDefault()?i+="t"+e+"._write(tap, val."+n._name+");\n":(r=n._type.toBuffer(n.getDefault()).toString("binary"),o.push("d"+e),a.push(r),i+="var v"+e+" = val."+n._name+"; ",i+="if (v"+e+" === undefined) { ",i+="tap.writeBinary(d"+e+", "+r.length+");",i+=" } else { t"+e+"._write(tap, v"+e+"); }\n");return i+="}",new Function(o.join(),i).apply(void 0,a)},O.prototype._updateResolver=function(e,t,n){if(!~j(this).indexOf(t._name))throw new Error(s("no alias for %s in %s",t._name,this._name));var o,i,a,l,u,c,d=this._fields,f=t._fields,p=r.toMap(f,function(e){return e._name}),h=[],m={};for(o=0;o<d.length;o++){for(u=j(a=d[o]),c=[],i=0;i<u.length;i++)p[l=u[i]]&&c.push(l);if(c.length>1)throw new Error(s("multiple matches for %s",a.name));if(c.length)m[l=c[0]]={resolver:a._type.createResolver(p[l]._type,n),name:a._name},h.push(a._name);else{if(void 0===a.getDefault())throw new Error(s("no match for default-less %s",a.name));h.push("undefined")}}var g=-1;for(o=f.length;o&&void 0===m[f[--o]._name];)g=o;var y=N(this._name),v=[y],_=[this._constructor],b="  return function read"+y+"(tap,lazy) {\n";for(o=0;o<f.length;o++)o===g&&(b+="  if (!lazy) {\n"),l=(a=t._fields[o])._name,b+=~g&&o>=g?"    ":"  ",void 0===m[l]?(v.push("t"+o),_.push(a._type),b+="t"+o+"._skip(tap);\n"):(v.push("t"+o),_.push(m[l].resolver),b+="var "+m[l].name+" = ",b+="t"+o+"._read(tap);\n");~g&&(b+="  }\n"),b+="  return new "+y+"("+h.join()+");\n};",e._read=new Function(v.join(),b).apply(void 0,_)},O.prototype._match=function(e,t){var n,r,o,i,a,s=this._fields;for(n=0,r=s.length;n<r;n++)if(i=(o=s[n])._order,a=o._type,i){if(i*=a._match(e,t))return i}else a._skip(e),a._skip(t);return 0},O.prototype._copy=function(e,t){var n,r,o,i,a=t&&t.fieldHook,s=[void 0];for(n=0,r=this._fields.length;n<r;n++)i=(o=this._fields[n])._type._copy(e[o._name],t),a&&(i=a(o,i,this)),s.push(i);return new(this._constructor.bind.apply(this._constructor,s))},O.prototype.compare=function(e,t){var n,r,o,i,a,s,l=this._fields;for(n=0,r=l.length;n<r;n++)if(i=(o=l[n])._name,a=o._order,s=o._type,a&&(a*=s.compare(e[i],t[i])))return a;return 0},O.prototype.random=function(){var e=this._fields.map(function(e){return e._type.random()});return e.unshift(void 0),new(this._constructor.bind.apply(this._constructor,e))},O.prototype.getAliases=function(){return this._aliases},O.prototype.getFields=function(){return this._fields.slice()},O.prototype.getRecordConstructor=function(){return this._constructor},O.prototype.toJSON=function(){return{name:this._name,type:"record",fields:this._fields}},i.inherits(L,m),L.prototype.getUnderlyingType=function(){return this._underlyingType},L.prototype._read=function(e){return this._fromValue(this._underlyingType._read(e))},L.prototype._write=function(e,t){this._underlyingType._write(e,this._toValue(t))},L.prototype._check=function(e,t){try{var n=this._toValue(e)}catch(n){return t&&t(f.slice(),e,this),!1}return this._underlyingType._check(n,t)},L.prototype._copy=function(e,t){var n=this._underlyingType;switch(t&&t.coerce){case 3:return n._copy(this._toValue(e),t);case 2:return this._fromValue(n._copy(e,t));default:return this._fromValue(n._copy(this._toValue(e),t))}},L.prototype._updateResolver=function(e,t,n){var r=this._resolve(t,n);r&&(e._read=function(e){return r(t._read(e))})},L.prototype.random=function(){return this._fromValue(this._underlyingType.random())},L.prototype.compare=function(e,t){var n=this._toValue(e),r=this._toValue(t);return this._underlyingType.compare(n,r)},L.prototype.toJSON=function(){return this._underlyingType.toJSON()},L.prototype._fromValue=r.abstractFunction,L.prototype._toValue=r.abstractFunction,L.prototype._resolve=r.abstractFunction,i.inherits(I,b),I.prototype._check=function(e,t){var n=this._isValid(e);return!n&&t&&t(f.slice(),e,this),n},I.prototype._read=function(e){var t,n;if(this._noUnpack?(n=e.pos,e.skipLong(),t=e.buf.slice(n,e.pos)):t=e.unpackLongBytes(e),e.isValid())return this._fromBuffer(t)},I.prototype._write=function(e,t){this._isValid(t)||z(null,t,this);var n=this._toBuffer(t);this._noUnpack?e.writeFixed(n):e.packLongBytes(n)},I.prototype._copy=function(e,t){switch(t&&t.coerce){case 3:return this._toJSON(e);case 2:return this._fromJSON(e);default:return this._fromJSON(JSON.parse(JSON.stringify(this._toJSON(e))))}},I.prototype.random=function(){return this._fromJSON(b.prototype.random())},I.prototype._fromBuffer=r.abstractFunction,I.prototype._toBuffer=r.abstractFunction,I.prototype._fromJSON=r.abstractFunction,I.prototype._toJSON=r.abstractFunction,I.prototype._isValid=r.abstractFunction,I.prototype.compare=r.abstractFunction,R.prototype.getAliases=function(){return this._aliases},R.prototype.getDefault=function(){},R.prototype.getName=function(){return this._name},R.prototype.getOrder=function(){return["descending","ignore","ascending"][this._order+1]},R.prototype.getType=function(){return this._type},R.prototype.inspect=function(){return s("<Field %j>",this._name)},M.prototype.inspect=function(){return"<Resolver>"},e.exports={createType:h,resolveNames:F,stringify:q,types:function(){var e,t,n,r={Type:m,LogicalType:L},o=Object.keys(l);for(e=0,t=o.length;e<t;e++)r[(n=l[o[e]]).name]=n;return r}()}}).call(this,n(57).Buffer)},function(e,t,n){"use strict";e.exports={createHash:function(){throw new Error("fingerprinting not supported in the browser")}}},function(e,t,n){"use strict";(function(t){var r=n(184).Tap,o=n(565),i=n(562);r.prototype.readString=function(){var e=this.readLong(),t=this.pos,n=this.buf;if(this.pos+=e,!(this.pos>n.length))return this.buf.slice(t,t+e).toString()},r.prototype.writeString=function(e){var n=t.byteLength(e);this.writeLong(n);var r=this.pos;this.pos+=n,this.pos>this.buf.length||this.buf.write(e,r)},r.prototype.writeBinary=function(e,t){var n=this.pos;this.pos+=t,this.pos>this.buf.length||this.buf.write(e,n,t,"binary")},e.exports={parse:function(e,t){var n;if("string"==typeof e)try{n=JSON.parse(e)}catch(e){}return void 0===n&&(n=e),o.createType(n,t)},types:o.types,Validator:i.Validator,ProtocolValidator:i.ProtocolValidator}}).call(this,n(57).Buffer)},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-c)-1,p>>=-c,c+=s;c>0;i=256*i+e[t+d],d+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=u}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,l,u=8*i-o-1,c=(1<<u)-1,d=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*m}},function(e,t,n){"use strict";t.byteLength=function(e){return 3*e.length/4-u(e)},t.toByteArray=function(e){var t,n,r,a,s,l,c=e.length;s=u(e),l=new i(3*c/4-s),r=s>0?c-4:c;var d=0;for(t=0,n=0;t<r;t+=4,n+=3)a=o[e.charCodeAt(t)]<<18|o[e.charCodeAt(t+1)]<<12|o[e.charCodeAt(t+2)]<<6|o[e.charCodeAt(t+3)],l[d++]=a>>16&255,l[d++]=a>>8&255,l[d++]=255&a;2===s?(a=o[e.charCodeAt(t)]<<2|o[e.charCodeAt(t+1)]>>4,l[d++]=255&a):1===s&&(a=o[e.charCodeAt(t)]<<10|o[e.charCodeAt(t+1)]<<4|o[e.charCodeAt(t+2)]>>2,l[d++]=a>>8&255,l[d++]=255&a);return l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i="",a=[],s=0,l=n-o;s<l;s+=16383)a.push(d(e,s,s+16383>l?l:s+16383));1===o?(t=e[n-1],i+=r[t>>2],i+=r[t<<4&63],i+="=="):2===o&&(t=(e[n-2]<<8)+e[n-1],i+=r[t>>10],i+=r[t>>4&63],i+=r[t<<2&63],i+="=");return a.push(i),a.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function c(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function d(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16)+(e[i+1]<<8)+e[i+2],o.push(c(r));return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t,n){"use strict";(function(t){var r=function(e){return e&&e.__esModule?e:{default:e}}(n(567));const o=n(6)("logger:");e.exports=function(e,n){o(e.name);const i=n.message_name,a=n.message_version,s=Object.assign({},n);if(a!==e.schema_version)throw new Error(`Invalid message version: received Message with message_version ${a} but the Schema requires version ${e.schema_version}`);const l=e.fields.map(e=>{const n=s[e.name];return void 0===n?e.default:(function e(n,r){if(Array.isArray(n.type)){const o=r[n.name];if(null===o)return;r[n.name]={};const i=n.type.filter(e=>"null"!==e)[0];"object"==typeof i?(r[n.name]={[i.type]:o},e(i,r[n.name])):r[n.name][i]="bytes"===i?new t(o):o}else"bytes"===n.type&&(r[n.name]=new t(r[n.name]))}(e,s),n)}).slice(2);return r.default.parse(e).isValid(s,{errorHook(e,t){throw new Error(`Logger: Invalid data: ${e.join(",")}: ${t}`)}}),{message:i,version:a,fields:l}}}).call(this,n(57).Buffer)},function(e){e.exports={type:"record",name:"AdControlEvent",namespace:"com.spotify.Message",doc:"Event for ad controls, such as disabling/enabling ad units",fields:[{name:"message_name",type:"string"},{name:"message_version",type:"int"},{name:"event",type:["null","string"],doc:"Type of event: disable, enable, enable-refresh, disable-refresh, trigger-wait, trigger",default:null},{name:"reason",type:["null","string"],doc:"Reason code for event, such as: audio-ad, no-focus.  Blank if not applicable.",default:null},{name:"slot",type:["null","string"],doc:"Slot name, such as: leaderboard, billboard, stream.  Blank if not applicable.",default:null},{name:"uri",type:["null","string"],doc:"Current app uri in view, if available, otherwise blank.",default:null},{name:"in_focus",type:["null","string"],doc:'Set to "true" if in focus, "false" if not in focus, blank if not known by the emitter.',default:null},{name:"wait_ms",type:["null","long"],doc:"Number of ms of wait time, relevant for trigger-wait.  Set to zero if not applicable.",default:null}],schema_version:1}},function(e,t,n){"use strict";(function(n){t.__esModule=!0,t.default=function(e){var t=void 0!==n?n:window,r=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=r),e}},e.exports=t.default}).call(this,n(1))},function(e,t,n){"use strict";t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=i.COMPILER_REVISION;if(t!==n){if(t<n){var r=i.REVISION_CHANGES[n],a=i.REVISION_CHANGES[t];throw new o.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+a+").")}throw new o.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(e,t){if(!t)throw new o.default("No environment passed to template");if(!e||!e.main)throw new o.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n={strict:function(e,t){if(!(t in e))throw new o.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r]&&null!=e[r][t])return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:r.escapeExpression,invokePartial:function(n,i,a){a.hash&&(i=r.extend({},i,a.hash),a.ids&&(a.ids[0]=!0));n=t.VM.resolvePartial.call(this,n,i,a);var s=t.VM.invokePartial.call(this,n,i,a);null==s&&t.compile&&(a.partials[a.name]=t.compile(n,e.compilerOptions,t),s=a.partials[a.name](i,a));if(null!=s){if(a.indent){for(var l=s.split("\n"),u=0,c=l.length;u<c&&(l[u]||u+1!==c);u++)l[u]=a.indent+l[u];s=l.join("\n")}return s}throw new o.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,o){var i=this.programs[e],s=this.fn(e);return t||o||r||n?i=a(this,e,s,t,n,r,o):i||(i=this.programs[e]=a(this,e,s)),i},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=r.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function s(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=r.data;s._setup(r),!r.partial&&e.useData&&(o=function(e,t){t&&"root"in t||((t=t?i.createFrame(t):{}).root=e);return t}(t,o));var a=void 0,u=e.useBlockParams?[]:void 0;function c(t){return""+e.main(n,t,n.helpers,n.partials,o,u,a)}return e.useDepths&&(a=r.depths?t!=r.depths[0]?[t].concat(r.depths):r.depths:[t]),(c=l(e.main,c,n,r.depths||[],o,u))(t,r)}return s.isTop=!0,s._setup=function(r){r.partial?(n.helpers=r.helpers,n.partials=r.partials,n.decorators=r.decorators):(n.helpers=n.merge(r.helpers,t.helpers),e.usePartial&&(n.partials=n.merge(r.partials,t.partials)),(e.usePartial||e.useDecorators)&&(n.decorators=n.merge(r.decorators,t.decorators)))},s._child=function(t,r,i,s){if(e.useBlockParams&&!i)throw new o.default("must pass block params");if(e.useDepths&&!s)throw new o.default("must pass parent depths");return a(n,t,e[t],r,0,i,s)},s},t.wrapProgram=a,t.resolvePartial=function(e,t,n){e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return e},t.invokePartial=function(e,t,n){var a=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var l=void 0;n.fn&&n.fn!==s&&function(){n.data=i.createFrame(n.data);var e=n.fn;l=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=i.createFrame(n.data),n.data["partial-block"]=a,e(t,n)},e.partials&&(n.partials=r.extend({},n.partials,e.partials))}();void 0===e&&l&&(e=l);if(void 0===e)throw new o.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=s;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(21)),o=function(e){return e&&e.__esModule?e:{default:e}}(n(58)),i=n(186);function a(e,t,n,r,o,i,a){function s(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||t==a[0]||t===e.nullContext&&null===a[0]||(s=[t].concat(a)),n(e,t,e.helpers,e.partials,o.data||r,i&&[o.blockParams].concat(i),s)}return(s=l(n,s,e,a,r,i)).program=t,s.depth=a?a.length:0,s.blockParams=o||0,s}function s(){return""}function l(e,t,n,o,i,a){if(e.decorator){var s={};t=e.decorator(t,s,n,o&&o[0],i,a,o),r.extend(t,s)}return t}},function(e,t,n){"use strict";function r(e){this.string=e}t.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(21),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=r.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console[t].apply(console,r)}}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(21);t.default=function(e){e.registerDecorator("inline",function(e,t,n,o){var i=e;return t.partials||(t.partials={},i=function(o,i){var a=n.partials;n.partials=r.extend({},a,t.partials);var s=e(o,i);return n.partials=a,s}),t.partials[o.args[0]]=o.fn,i})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.registerDefaultDecorators=function(e){r.default(e)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(577))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(21);t.default=function(e){e.registerHelper("with",function(e,t){r.isFunction(e)&&(e=e.call(this));var n=t.fn;if(r.isEmpty(e))return t.inverse(this);var o=t.data;return t.data&&t.ids&&((o=r.createFrame(t.data)).contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:o,blockParams:r.blockParams([e],[o&&o.contextPath])})})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),t[0]=o,e.log.apply(e,t)})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(21);t.default=function(e){e.registerHelper("if",function(e,t){return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(58));t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(21),o=function(e){return e&&e.__esModule?e:{default:e}}(n(58));t.default=function(e){e.registerHelper("each",function(e,t){if(!t)throw new o.default("Must pass iterator to #each");var n=t.fn,i=t.inverse,a=0,s="",l=void 0,u=void 0;function c(t,o,i){l&&(l.key=t,l.index=o,l.first=0===o,l.last=!!i,u&&(l.contextPath=u+t)),s+=n(e[t],{data:l,blockParams:r.blockParams([e[t],t],[u+t,null])})}if(t.data&&t.ids&&(u=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(l=r.createFrame(t.data)),e&&"object"==typeof e)if(r.isArray(e))for(var d=e.length;a<d;a++)a in e&&c(a,a,a===e.length-1);else{var f=void 0;for(var p in e)e.hasOwnProperty(p)&&(void 0!==f&&c(f,a-1),f=p,a++);void 0!==f&&c(f,a-1,!0)}return 0===a&&(s=i(this)),s})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(21);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,n){var o=n.inverse,i=n.fn;if(!0===t)return i(this);if(!1===t||null==t)return o(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):o(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return i(t,n)})},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.registerDefaultHelpers=function(e){o.default(e),i.default(e),a.default(e),s.default(e),l.default(e),u.default(e),c.default(e)};var o=r(n(585)),i=r(n(584)),a=r(n(583)),s=r(n(582)),l=r(n(581)),u=r(n(580)),c=r(n(579))},function(e,t,n){var r=n(0);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=n.helperMissing,l=e.escapeExpression;return'    <a class="companion" href="'+l("function"==typeof(i=null!=(i=n.clickUrl||(null!=t?t.clickUrl:t))?i:s)?i.call(a,{name:"clickUrl",hash:{},data:o}):i)+'">\n      <img src="'+l("function"==typeof(i=null!=(i=n.companionSrc||(null!=t?t.companionSrc:t))?i:s)?i.call(a,{name:"companionSrc",hash:{},data:o}):i)+'" />\n    </a>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<div class="footer">\n'+(null!=(i=n.if.call(s,null!=t?t.companionSrc:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'</div>\n<div class="billboard-wrapper">\n  <button class="minimizer spoticon-x-24"></button>\n  <a class="billboard" href="'+u("function"==typeof(a=null!=(a=n.clickUrl||(null!=t?t.clickUrl:t))?a:l)?a.call(s,{name:"clickUrl",hash:{},data:o}):a)+'">\n    <span class="disclaimer">'+u("function"==typeof(a=null!=(a=n.disclaimer||(null!=t?t.disclaimer:t))?a:l)?a.call(s,{name:"disclaimer",hash:{},data:o}):a)+'</span>\n    <img src="'+u("function"==typeof(a=null!=(a=n.mediaSrc||(null!=t?t.mediaSrc:t))?a:l)?a.call(s,{name:"mediaSrc",hash:{},data:o}):a)+'"/>\n  </a>\n</div>\n'},useData:!0})},function(e){e.exports={HideAnnouncements:"Sembunyikan Pengumuman",Sponsored:"Tajaan",Advertisement:"Iklan",Promoted:"Dipromosikan",PresentedBy:"Dipersembahkan Oleh",AdClick:"Klik untuk maklumat lanjut",WatchWithSound:"Menonton dengan suara",LearnMore:"Ketahui Lebih Lanjut"}},function(e){e.exports={HideAnnouncements:"",Sponsored:"",Advertisement:"",Promoted:"",PresentedBy:"",AdClick:"",WatchWithSound:"",LearnMore:""}},function(e){e.exports={HideAnnouncements:"n Thng bo",Sponsored:"c ti tr",Advertisement:"Qung co",Promoted:"c qung b",PresentedBy:"c Trnh by Bi",AdClick:"Nhp vo y  bit thm thng tin",WatchWithSound:"Xem c ting",LearnMore:"Tm hiu Thm"}},function(e){e.exports={HideAnnouncements:"Duyurular Gizle",Sponsored:"Sponsorlu",Advertisement:"Reklam",Promoted:"Tantlan",PresentedBy:"Sunan",AdClick:"Daha fazla bilgi iin tklayn",WatchWithSound:"Sesli izle",LearnMore:"Daha Fazla Bilgi"}},function(e){e.exports={HideAnnouncements:"",Sponsored:"",Advertisement:"",Promoted:"",PresentedBy:"",AdClick:"",WatchWithSound:"",LearnMore:""}},function(e){e.exports={HideAnnouncements:"Dlj musikaviseringar",Sponsored:"Sponsrad",Advertisement:"Reklam",Promoted:"Sponsrat",PresentedBy:"Presenteras av",AdClick:"Klicka hr fr mer information",WatchWithSound:"Titta med ljud",LearnMore:"Ls mer"}},function(e){e.exports={HideAnnouncements:"Ocultar",Sponsored:"Patrocinado",Advertisement:"Propaganda",Promoted:"Promocional",PresentedBy:"Apresentadas por",AdClick:"Clique para mais informaes",WatchWithSound:"Assistir com som",LearnMore:"Saiba mais"}},function(e){e.exports={HideAnnouncements:"Ukryj ogoszenia",Sponsored:"Sponsorowane",Advertisement:"Reklama",Promoted:"Promowane",PresentedBy:"Prezentuje",AdClick:"Kliknij, aby uzyska wicej informacji.",WatchWithSound:"Zobacz z dwikiem",LearnMore:"Dowiedz si wicej"}},function(e){e.exports={HideAnnouncements:"Aankondigingen verbergen",Sponsored:"Gesponsord",Advertisement:"Advertentie",Promoted:"Aangeboden",PresentedBy:"Gepresenteerd door",AdClick:"Klik voor meer informatie",WatchWithSound:"Afspelen met geluid",LearnMore:"Meer info"}},function(e){e.exports={HideAnnouncements:"",Sponsored:"",Advertisement:"",Promoted:"",PresentedBy:":",AdClick:"",WatchWithSound:"",LearnMore:" "}},function(e){e.exports={HideAnnouncements:"Nascondi annunci",Sponsored:"Sponsorizzato",Advertisement:"Pubblicit",Promoted:"Promossi",PresentedBy:"Presentato da",AdClick:"Clicca per maggiori informazioni",WatchWithSound:"Riproduci audio",LearnMore:"Ulteriori info"}},function(e){e.exports={HideAnnouncements:"Sembunyikan Pemberitahuan",Sponsored:"Disponsori",Advertisement:"Iklan",Promoted:"Dipromosikan",PresentedBy:"Disajikan Oleh",AdClick:"Klik untuk info selengkapnya",WatchWithSound:"Menonton dengan suara",LearnMore:"Pelajari Lebih Lanjut"}},function(e){e.exports={HideAnnouncements:"Hrek elrejtse",Sponsored:"Fizetett hirdets",Advertisement:"Reklm",Promoted:"Szponzorlt",PresentedBy:"Szponzor:",AdClick:"Kattints a tovbbi informcikrt",WatchWithSound:"Hang bekapcsolsa",LearnMore:"Rszletek"}},function(e){e.exports={HideAnnouncements:"Masquer les publicits",Sponsored:"Commandit",Advertisement:"Publicit",Promoted:"Commandite",PresentedBy:"Prsent par",AdClick:"Clique pour en savoir plus",WatchWithSound:"Visionnez avec du son!",LearnMore:"En savoir plus"}},function(e){e.exports={HideAnnouncements:"Masquer",Sponsored:"Sponsoris",Advertisement:"Publicit",Promoted:"Sponsoris",PresentedBy:"Prsent(e) par",AdClick:"Cliquez pour en savoir plus",WatchWithSound:"Visionner avec le son",LearnMore:"Plus d'infos"}},function(e){e.exports={HideAnnouncements:"Piilota ilmoitukset",Sponsored:"Sponsoroitu",Advertisement:"Mainos",Promoted:"Nostettu",PresentedBy:"Listan tarjoaa",AdClick:"Lue lis napsauttamalla.",WatchWithSound:"Katso nen kanssa",LearnMore:"Listietoja"}},function(e){e.exports={HideAnnouncements:"Ocultar Noticias",Sponsored:"Patrocinado",Advertisement:"Anuncio",Promoted:"Promocionados",PresentedBy:"Presentado por",AdClick:"Haz clic para ms informacin",WatchWithSound:"Ver con sonido",LearnMore:"Ms informacin"}},function(e){e.exports={HideAnnouncements:"Ocultar mensajes",Sponsored:"Patrocinado",Advertisement:"Publicidad",Promoted:"Promocionados",PresentedBy:"Ofrecido por",AdClick:"Pulsa para saber ms",WatchWithSound:"Ver con sonido",LearnMore:"Saber ms"}},function(e){e.exports={HideAnnouncements:"Hide Announcements",Sponsored:"Sponsored",Advertisement:"Advertisement",Promoted:"Promoted",PresentedBy:"Presented By",AdClick:"Click for more info",WatchWithSound:"Watch with sound",LearnMore:"Learn More"}},function(e){e.exports={HideAnnouncements:" ",Sponsored:"",Advertisement:"",Promoted:"",PresentedBy:" :",AdClick:"    ",WatchWithSound:"  ",LearnMore:" "}},function(e){e.exports={HideAnnouncements:"Ankndigungen ausblenden",Sponsored:"Gesponsert",Advertisement:"Werbung",Promoted:"Beworben",PresentedBy:"Prsentiert von",AdClick:"Fr weitere Infos klicken",WatchWithSound:"Mit Ton ansehen",LearnMore:"Weitere Infos"}},function(e){e.exports={HideAnnouncements:"Skrt oznmen",Sponsored:"Sponzorovno",Advertisement:"Reklama",Promoted:"Propagovno",PresentedBy:"Pin",AdClick:"Zobrazit podrobnosti",WatchWithSound:"Sledovat se zvukem",LearnMore:"Vce informac"}},function(e){e.exports={HideAnnouncements:" ",Sponsored:"",Advertisement:"",Promoted:" ",PresentedBy:" ",AdClick:"   ",WatchWithSound:"  ",LearnMore:" "}},function(e,t,n){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;e.exports=function(e){var t,n=""+e,o=r.exec(n);if(!o)return n;var i="",a=0,s=0;for(a=o.index;a<n.length;a++){switch(n.charCodeAt(a)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==a&&(i+=n.substring(s,a)),s=a+1,i+=t}return s!==a?i+n.substring(s,a):i}},function(e){e.exports={ar:{smartling:"ar"},cs:{smartling:"cs-CZ"},de:{smartling:"de-DE"},el:{smartling:"el-GR"},en:{smartling:"en-GB"},es:{smartling:"es-ES"},"es-419":{moment:"es",smartling:"es-LA"},fi:{smartling:"fi-FI"},fr:{smartling:"fr-FR"},"fr-CA":{smartling:"fr-CA",moment:"fr-ca"},hu:{smartling:"hu-HU"},id:{smartling:"id-ID"},it:{smartling:"it-IT"},ja:{smartling:"ja-JP"},nl:{smartling:"nl-NL"},pl:{smartling:"pl-PL"},"pt-BR":{moment:"pt-br",smartling:"pt-BR",intl:"pt-PT"},sv:{smartling:"sv-SE"},th:{smartling:"th-TH"},tr:{smartling:"tr-TR"},vi:{smartling:"vi-VN"},"zh-Hant":{moment:"zh-tw",smartling:"zh-TW"},ms:{moment:"ms-my",smartling:"ms-MY",intl:"ms-MY"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=[],n){const r=new Intl.NumberFormat(n||"en");return e.replace(/\{(\d+?)\}/g,function(e,n){const o=t[n];return void 0===o?e:"number"==typeof o?r.format(o):o})}},function(e){e.exports={Album:"Album",AndMore:"dan {0} lagi",Artist:"Artis",By:"oleh",ByLabel:"Lebih banyak lagi oleh","Create Similar Playlist":"Cipta Senarai Main Serupa",DateAdded:"Tarikh Ditambah",Duration:"Tempoh","Recommended Songs":"Lagu yang Dicadangkan",Filter:"Penapis",Follow:"Ikut",Follower:"Pengikut",FollowersLabel:{one:"Pengikut",other:"Pengikut"},FollowersCount:{one:"{0} pengikut",other:"{0} pengikut"},Following:"Mengikuti",FollowingLabel:"Mengikuti",ListenersLabel:"Pendengar Bulanan",FollowsYou:"Megikuti Anda",HoldToPreview:"Klik dan Tahan untuk Pratonton",ListenCount:{one:"1 main",other:"{0} main"},ListenReactionMulti:"{0} pendengar dalam rangkaian anda",ListenReactionSingle:"{0} mendengar ini",LocalFile:"Fail Setempat",More:"Lebih banyak",MoreSongsLoad:"Lebih banyak lagu dimuatkan semasa anda mendengar",Pause:"Jeda",Play:"Main",Playlist:"Senarai main",PressEnterToPlay:"Tekan Shift + Enter untuk memainkan",Popularity:"Populariti",Progress:"Perkembangan",Remove:"Keluarkan",RemoveYourMusic:"Keluarkan daripada Pustaka Anda",RemoveFromYourFavoriteSongs:"Keluarkan daripada Lagu Kegemaran anda",Save:"Simpan",SaveYourMusic:"Simpan ke Pustaka Anda",SaveToYourFavoriteSongs:"Simpankan ke dalam Lagu Kegemaran anda",Saved:"Disimpan",StartRadio:"Mulakan Radio",Time:"Masa",Title:"Tajuk",Toplist:"Lagu popular",Track:"Lagu",Unfollow:"Nyahikut",User:"Pengguna",ViewAll:"Lihat Semua",HoursShort:"{0} jam",MinutesShort:"{0} min",SecondsShort:"{0} saat",ErrorTitle:"Terdapat masalah untuk memaparkan laman ini!",ErrorMessage:"Laman ini sama ada tidak wujud atau ralat telah berlaku.",OfflineTitle:"Laman ini tidak tersedia di luar talian!",OfflineMessage:"Sila ke online untuk memuatkan.",MadeFor:"Dibuat untuk {0}",heart_label:"Suka",undo_heart_label:"Disukai",ban_label:"Keluarkan","format_list.ban_label":"Tidak suka","nft.ban_song_label":"Sembunyikan lagu ini","nft.undo_ban_song_label":"Berhenti daripada menyembunyikan lagu ini","format_list.undo_ban_label":"Anda tidak sukakannya",VariousArtistsCapitalized:"Pelbagai artis"}},function(e){e.exports={Album:"",AndMore:" {0} ",Artist:"",By:"",ByLabel:"","Create Similar Playlist":"",DateAdded:"",Duration:"","Recommended Songs":"",Filter:"",Follow:"",Follower:"",FollowersLabel:{one:"",other:""},FollowersCount:{one:"{0} ",other:"{0} "},Following:"",FollowingLabel:"",ListenersLabel:"",FollowsYou:"",HoldToPreview:"",ListenCount:{one:"1 ",other:" {0} "},ListenReactionMulti:" {0} ",ListenReactionSingle:"{0} ",LocalFile:"",More:"",MoreSongsLoad:"",Pause:"",Play:"",Playlist:"",PressEnterToPlay:" Shift + Enter ",Popularity:"",Progress:"",Remove:"",RemoveYourMusic:"",RemoveFromYourFavoriteSongs:"",Save:"",SaveYourMusic:"",SaveToYourFavoriteSongs:"",Saved:"",StartRadio:"",Time:"",Title:"",Toplist:"",Track:"",Unfollow:"",User:"",ViewAll:"",HoursShort:"{0} ",MinutesShort:"{0} ",SecondsShort:"{0} ",ErrorTitle:"",ErrorMessage:"",OfflineTitle:"",OfflineMessage:"",MadeFor:" {0} ",heart_label:"",undo_heart_label:"",ban_label:"","format_list.ban_label":"","nft.ban_song_label":"","nft.undo_ban_song_label":"","format_list.undo_ban_label":"",VariousArtistsCapitalized:""}},function(e){e.exports={Album:"Album",AndMore:"v thm {0}",Artist:"Ngh s",By:"ca",ByLabel:"Ca","Create Similar Playlist":"To Playlist Tng t",DateAdded:" Thm Ngy",Duration:"Thi lng","Recommended Songs":"Bi ht Gi ",Filter:"B lc",Follow:"Theo di",Follower:"Ngi theo di",FollowersLabel:{one:"Ngi theo di",other:"Ngi theo di"},FollowersCount:{one:"{0} ngi theo di",other:"{0} ngi theo di"},Following:"ang theo di",FollowingLabel:"ang theo di",ListenersLabel:"Ngi nghe Hng thng",FollowsYou:"Theo di Bn",HoldToPreview:"Nhp v Gi  Xem trc",ListenCount:{one:"1 lt pht",other:"{0} pht"},ListenReactionMulti:"{0} ngi nghe trong mng li ca bn",ListenReactionSingle:"{0} nghe bn ny",LocalFile:"File trn my",More:"Tu chn...",MoreSongsLoad:"Ti c nhiu bi ht hn khi bn nghe",Pause:"Tm dng",Play:"Pht",Playlist:"Playlist",PressEnterToPlay:"Nhn Shift + Enter  pht",Popularity:"Mc  ph bin",Progress:"Tin ",Remove:"Xa",RemoveYourMusic:"Xa khi Th vin",RemoveFromYourFavoriteSongs:"Xa khi Bi ht Yu thch ca bn",Save:"Lu",SaveYourMusic:"Lu vo Th vin",SaveToYourFavoriteSongs:"Lu vo Bi ht Yu thch ca bn",Saved:" lu",StartRadio:"Bt u Radio",Time:"Thi gian",Title:"Tiu ",Toplist:"Cc bi ht hng u",Track:"Bi ht",Unfollow:"Hy theo di",User:"Ngi dng",ViewAll:"Xem Tt c",HoursShort:"{0} gi",MinutesShort:"{0} pht",SecondsShort:"{0} giy",ErrorTitle:" c s c xy ra khi hin th trang ny!",ErrorMessage:"Ni dung ny hoc khng tn ti hoc  c li xy ra.",OfflineTitle:"Trang ny khng c  ch  offline!",OfflineMessage:"Vui lng truy cp trc tuyn  ti.",MadeFor:"Dnh cho {0}",heart_label:"Thch",undo_heart_label:" thch",ban_label:"Xa","format_list.ban_label":"Khng thch","nft.ban_song_label":"n bi ht ny","nft.undo_ban_song_label":"Dng n bi ht ny","format_list.undo_ban_label":"Bn khng thch iu ny",VariousArtistsCapitalized:"Nhiu ngh s"}},function(e){e.exports={Album:"Albm",AndMore:"ve {0} daha",Artist:"Sanat",By:"-",ByLabel:"-","Create Similar Playlist":"Benzer alma Listesi Olutur",DateAdded:"Tarih Eklendi",Duration:"Sre","Recommended Songs":"nerilen arklar",Filter:"Filtrele",Follow:"Takip Et",Follower:"Takipi",FollowersLabel:{one:"Takipi",other:"Takipi"},FollowersCount:{one:"{0} takipi",other:"{0} takipi"},Following:"Takip Ediliyor",FollowingLabel:"Takip Ediliyor",ListenersLabel:"Aylk Dinleyici",FollowsYou:"Seni Takip Ediyor",HoldToPreview:"Basl Tut ve nizle",ListenCount:{one:"1 alma",other:"{0} dinleme"},ListenReactionMulti:"Anda {0} dinleyici",ListenReactionSingle:"{0} bunu dinliyor",LocalFile:"Yerel Dosya",More:"Daha fazla",MoreSongsLoad:"Sen dinledike daha fazla ark yklenir",Pause:"Duraklat",Play:"al",Playlist:"alma listesi",PressEnterToPlay:"almak iin Shift + Enter'a bas",Popularity:"Poplerlik",Progress:"Progress",Remove:"kar",RemoveYourMusic:"Kitapln'dan kaldr",RemoveFromYourFavoriteSongs:"Favori arklarndan Kaldr",Save:"Kaydet",SaveYourMusic:"Kitapln'a kaydet",SaveToYourFavoriteSongs:"Favori arklarna Kaydet",Saved:"Kaydedildi",StartRadio:"Radyoyu Balat",Time:"Saat",Title:"Balk",Toplist:"En ok dinlenen arklar",Track:"ark",Unfollow:"Takip Etmeyi Brak",User:"Kullanc",ViewAll:"Tmn Grntle",HoursShort:"{0} sa",MinutesShort:"{0} dk",SecondsShort:"{0} sn",ErrorTitle:"Bu sayfa grntlenirken bir sorun olutu!",ErrorMessage:"Bu sayfa yok veya bir hata olutu.",OfflineTitle:"Bu sayfa evrimd kullanlamaz!",OfflineMessage:"Yklemek iin ltfen evrimii ol.",MadeFor:"{0} in Yapld",heart_label:"Been",undo_heart_label:"Beenildi",ban_label:"kar","format_list.ban_label":"Beenme","nft.ban_song_label":"Bu arky gizle","nft.undo_ban_song_label":"Bu arky gizlemeyi durdur","format_list.undo_ban_label":"Bunu beenmedin",VariousArtistsCapitalized:"eitli sanatlar"}},function(e){e.exports={Album:"",AndMore:" {0} ",Artist:"",By:"",ByLabel:"","Create Similar Playlist":"",DateAdded:"",Duration:"","Recommended Songs":"",Filter:"",Follow:"",Follower:"",FollowersLabel:{one:"",other:""},FollowersCount:{one:" {0} ",other:" {0} "},Following:"",FollowingLabel:"",ListenersLabel:"",FollowsYou:"",HoldToPreview:"",ListenCount:{one:" 1 ",other:" {0} "},ListenReactionMulti:" {0} ",ListenReactionSingle:"{0} ",LocalFile:"",More:"",MoreSongsLoad:"",Pause:"",Play:"",Playlist:"",PressEnterToPlay:" Shift + Enter ",Popularity:"",Progress:"",Remove:"",RemoveYourMusic:"",RemoveFromYourFavoriteSongs:"",Save:"",SaveYourMusic:"",SaveToYourFavoriteSongs:"",Saved:"",StartRadio:"",Time:"",Title:"",Toplist:"",Track:"",Unfollow:"",User:"",ViewAll:"",HoursShort:"{0} ",MinutesShort:"{0} ",SecondsShort:"{0} ",ErrorTitle:"!",ErrorMessage:"",OfflineTitle:"!",OfflineMessage:"",MadeFor:" {0}",heart_label:"",undo_heart_label:"",ban_label:"","format_list.ban_label":"","nft.ban_song_label":"","nft.undo_ban_song_label":"","format_list.undo_ban_label":"",VariousArtistsCapitalized:""}},function(e){e.exports={Album:"Album",AndMore:"och {0} till",Artist:"Artist",By:"av",ByLabel:"Av","Create Similar Playlist":"Skapa en liknande spellista",DateAdded:"Tillagd",Duration:"Lngd","Recommended Songs":"Rekommenderade ltar",Filter:"Filtrera",Follow:"Flj",Follower:"Fljare",FollowersLabel:{one:"Fljare",other:"Fljare"},FollowersCount:{one:"{0} fljare",other:"{0} fljare"},Following:"Fljer",FollowingLabel:"Fljer",ListenersLabel:"Lyssnare per mnad",FollowsYou:"Fljer dig",HoldToPreview:"Klicka och hll kvar fr att frhandslyssna",ListenCount:{one:"1 uppspelning",other:"{0} uppspelningar"},ListenReactionMulti:"{0} lyssnare i ditt ntverk",ListenReactionSingle:"{0} lyssnar p detta",LocalFile:"Lokal fil",More:"Mer",MoreSongsLoad:"Fler ltar lses in medan du lyssnar",Pause:"Pausa",Play:"Spela upp",Playlist:"Spellista",PressEnterToPlay:"Tryck p Skift + Retur fr att spela upp",Popularity:"Popularitet",Progress:"Lyssnat",Remove:"Ta bort",RemoveYourMusic:"Ta bort frn Ditt bibliotek",RemoveFromYourFavoriteSongs:"Ta bort frn dina favoritltar",Save:"Spara",SaveYourMusic:"Spara i Ditt bibliotek",SaveToYourFavoriteSongs:"Spara i dina favoritltar",Saved:"Sparade",StartRadio:"Starta radio",Time:"Tid",Title:"Titel",Toplist:"Toppltar",Track:"Lt",Unfollow:"Sluta flja",User:"Anvndare",ViewAll:"Visa alla",HoursShort:"{0} tim",MinutesShort:"{0} min",SecondsShort:"{0} sek",ErrorTitle:"Det uppstod ett fel nr den hr sidan skulle visas!",ErrorMessage:"Den hr sidan finns inte eller s uppstod ett fel.",OfflineTitle:"Den hr sidan r inte tillgnglig offline!",OfflineMessage:"Anslut till internet om du vill lsa in appen.",MadeFor:"Skapad fr {0}",heart_label:"Gilla",undo_heart_label:"Gillar",ban_label:"Ta bort","format_list.ban_label":"Gillar inte","nft.ban_song_label":"Dlj den hr lten","nft.undo_ban_song_label":"Sluta dlja den hr lten","format_list.undo_ban_label":"Du gillar inte det hr",VariousArtistsCapitalized:"Olika artister"}},function(e){e.exports={Album:"lbum",AndMore:"e mais {0}",Artist:"Artista",By:"de",ByLabel:"De","Create Similar Playlist":"Criar playlist similar",DateAdded:"Adicionado em",Duration:"Durao","Recommended Songs":"Msicas recomendadas",Filter:"Filtrar",Follow:"Seguir",Follower:"Seguidor",FollowersLabel:{one:"Seguidor",other:"Seguidores"},FollowersCount:{one:"{0} seguidor",other:"{0} seguidores"},Following:"Seguindo",FollowingLabel:"Seguindo",ListenersLabel:"Ouvintes mensais",FollowsYou:"Segue voc",HoldToPreview:"Clique e segure para a prvia",ListenCount:{one:"1 reproduo",other:"{0} reprodues"},ListenReactionMulti:"{0} ouvintes na sua rede",ListenReactionSingle:"{0} ouvem isso",LocalFile:"Arquivo local",More:"Mais",MoreSongsLoad:"Mais msicas sero carregadas  medida que voc for escutando",Pause:"Pause",Play:"Play",Playlist:"Playlist",PressEnterToPlay:"Pressione Shift + Enter para tocar",Popularity:"Popularidade",Progress:"Progresso",Remove:"Remover",RemoveYourMusic:"Remover da Sua Biblioteca",RemoveFromYourFavoriteSongs:"Remover de Msicas Favoritas",Save:"Salvar",SaveYourMusic:"Salvar na Sua Biblioteca",SaveToYourFavoriteSongs:"Salva em Msicas Favoritas",Saved:"Salvo",StartRadio:"Abrir rdio",Time:"Tempo",Title:"Ttulo",Toplist:"Msicas mais tocadas",Track:"Msica",Unfollow:"Deixar de seguir",User:"Usurio",ViewAll:"Ver tudo",HoursShort:"{0} h",MinutesShort:"{0} m",SecondsShort:"{0} s",ErrorTitle:"Tivemos um problema ao mostrar esta pgina!",ErrorMessage:"Essa pgina no existe ou ocorreu um erro.",OfflineTitle:"Essa pgina no est disponvel offline!",OfflineMessage:"Fique online para carregar.",MadeFor:"Feito para {0}",heart_label:"Curtir",undo_heart_label:"Curtiu",ban_label:"Remover","format_list.ban_label":"No curto","nft.ban_song_label":"Ocultar esta msica","nft.undo_ban_song_label":"Deixar de ocultar esta msica","format_list.undo_ban_label":"Voc no curte isso",VariousArtistsCapitalized:"Vrios artistas"}},function(e){e.exports={Album:"Album",AndMore:"i {0} wicej",Artist:"Wykonawca",By:"wedug",ByLabel:"-","Create Similar Playlist":"Utwrz podobn playlist",DateAdded:"Data dodania",Duration:"Czas trwania","Recommended Songs":"Polecane utwory",Filter:"Filtruj",Follow:"Obserwuj",Follower:"Obserwujcy",FollowersLabel:{one:"Obserwujcy",other:"Obserwatorzy"},FollowersCount:{one:"{0} obserwujcy",other:"{0} obserwujcych"},Following:"Obserwujesz",FollowingLabel:"Obserwujesz",ListenersLabel:"Suchacze w tym miesicu",FollowsYou:"Obserwuje Ci",HoldToPreview:"Aby odsucha, kliknij i przytrzymaj.",ListenCount:{one:"1 odtworzenie",other:"Liczba odtworze: {0}"},ListenReactionMulti:"Liczba suchaczy w Twojej sieci: {0}",ListenReactionSingle:"Uytkownik {0} sucha tego",LocalFile:"Plik lokalny",More:"Wicej",MoreSongsLoad:"Wicej utworw bdzie si pojawia w miar suchania",Pause:"Pauza",Play:"Odtwrz",Playlist:"Playlista",PressEnterToPlay:"Nacinij Shift+Enter, aby odtworzy",Popularity:"Popularno",Progress:"Postp",Remove:"Usu",RemoveYourMusic:"Usu z Biblioteki",RemoveFromYourFavoriteSongs:"Usu z Ulubionych utworw",Save:"Zapisz",SaveYourMusic:"Zapisz w Bibliotece",SaveToYourFavoriteSongs:"Zapisz w Ulubionych utworach",Saved:"Zapisany",StartRadio:"Wcz radio",Time:"Czas",Title:"Tytu",Toplist:"Najpopularniejsze utwory",Track:"Utwr",Unfollow:"Przesta obserwowa",User:"Uytkownik",ViewAll:"Wywietl wszystko",HoursShort:"{0} godz.",MinutesShort:"{0} min",SecondsShort:"{0} s",ErrorTitle:"Wystpi bd podczas wywietlania tej strony!",ErrorMessage:"Ta strona nie istnieje lub wystpi bd.",OfflineTitle:"Ta strona nie jest dostpna w trybie offline!",OfflineMessage:"Przejd do trybu online, aby zaadowa.",MadeFor:"Przygotowana dla {0}",heart_label:"Lubi to",undo_heart_label:"Polubiono",ban_label:"Usu","format_list.ban_label":"Nie lubi","nft.ban_song_label":"Ukryj ten utwr","nft.undo_ban_song_label":"Przesta ukrywa ten utwr","format_list.undo_ban_label":"Nie podoba Ci si",VariousArtistsCapitalized:"Rni wykonawcy"}},function(e){e.exports={Album:"Album",AndMore:"en {0} meer",Artist:"Artiest",By:"van",ByLabel:"Van","Create Similar Playlist":"Vergelijkbare afspeellijst maken",DateAdded:"Datum toegevoegd",Duration:"Duur","Recommended Songs":"Aanbevolen nummers",Filter:"Filter",Follow:"Volgen",Follower:"Volger",FollowersLabel:{one:"Volger",other:"Volger"},FollowersCount:{one:"{0} volger",other:"{0} volgers"},Following:"Volgend",FollowingLabel:"Volgend",ListenersLabel:"Luisteraars per maand",FollowsYou:"Volgt jou",HoldToPreview:"Klikken en vasthouden om een stukje te horen",ListenCount:{one:"1 keer afgespeeld",other:"{0} keer afgespeeld"},ListenReactionMulti:"{0} luisteraars in jouw netwerk",ListenReactionSingle:"{0} luistert hiernaar",LocalFile:"Lokaal bestand",More:"Meer",MoreSongsLoad:"Meer nummers worden geladen terwijl je luistert",Pause:"Pauze",Play:"Afspelen",Playlist:"Afspeellijst",PressEnterToPlay:"Druk op Shift + Enter om af te spelen",Popularity:"Populariteit",Progress:"Voortgang",Remove:"Verwijderen",RemoveYourMusic:"Verwijderen uit Bibliotheek",RemoveFromYourFavoriteSongs:"Verwijderen uit je Favoriete nummers",Save:"Opslaan",SaveYourMusic:"Opslaan in Bibliotheek",SaveToYourFavoriteSongs:"Opslaan in je Favoriete nummers",Saved:"Opgeslagen",StartRadio:"Radio starten",Time:"Tijd",Title:"Titel",Toplist:"Topnummers",Track:"Nummer",Unfollow:"Niet meer volgen",User:"Gebruiker",ViewAll:"Alles bekijken",HoursShort:"{0} uur",MinutesShort:"{0} min",SecondsShort:"{0} sec",ErrorTitle:"Er is een fout opgetreden bij het weergeven van deze pagina.",ErrorMessage:"Deze weergave bestaat niet of er is een fout opgetreden.",OfflineTitle:"Deze pagina is niet offline beschikbaar.",OfflineMessage:"Ga online om te laden.",MadeFor:"Gemaakt voor {0}",heart_label:"Vind ik leuk",undo_heart_label:"Geliked",ban_label:"Verwijderen","format_list.ban_label":"Niet leuk","nft.ban_song_label":"Dit nummer verbergen","nft.undo_ban_song_label":"Dit nummer niet meer verbergen","format_list.undo_ban_label":"Je vindt dit niet leuk",VariousArtistsCapitalized:"Diverse artiesten"}},function(e){e.exports={Album:"",AndMore:"{0}",Artist:"",By:"/",ByLabel:"/","Create Similar Playlist":"",DateAdded:"",Duration:"","Recommended Songs":"",Filter:"",Follow:"",Follower:"",FollowersLabel:{one:"",other:""},FollowersCount:{one:"{0}",other:"{0}"},Following:"",FollowingLabel:"",ListenersLabel:"",FollowsYou:"",HoldToPreview:"",ListenCount:{one:"1",other:"{0}"},ListenReactionMulti:"{0}",ListenReactionSingle:"{0}",LocalFile:"",More:"",MoreSongsLoad:"",Pause:"",Play:"",Playlist:"",PressEnterToPlay:" Shift + Enter ",Popularity:"",Progress:"",Remove:"",RemoveYourMusic:"My Music",RemoveFromYourFavoriteSongs:"My Library ",Save:"",SaveYourMusic:"My Music",SaveToYourFavoriteSongs:"",Saved:"",StartRadio:"Radio",Time:"",Title:"",Toplist:"",Track:"",Unfollow:"",User:"",ViewAll:"",HoursShort:"{0} ",MinutesShort:"{0} ",SecondsShort:"{0} ",ErrorTitle:"",ErrorMessage:"",OfflineTitle:"",OfflineMessage:"",MadeFor:" {0}",heart_label:"",undo_heart_label:"",ban_label:"","format_list.ban_label":"","nft.ban_song_label":"","nft.undo_ban_song_label":"","format_list.undo_ban_label":"",VariousArtistsCapitalized:""}},function(e){e.exports={Album:"Album",AndMore:"e altri {0}",Artist:"Artista",By:"per",ByLabel:"di","Create Similar Playlist":"Crea playlist simile",DateAdded:"Aggiunto il",Duration:"Durata","Recommended Songs":"Brani consigliati",Filter:"Filtra",Follow:"Segui",Follower:"Follower",FollowersLabel:{one:"Follower",other:"Follower"},FollowersCount:{one:"{0} follower",other:"{0} follower"},Following:"Following",FollowingLabel:"Following",ListenersLabel:"Ascoltatori questo mese",FollowsYou:"Ti segue",HoldToPreview:"Tieni premuto per un'anteprima",ListenCount:{one:"1 riproduzione",other:"{0} riproduzioni"},ListenReactionMulti:"{0} ascoltatori nella tua rete",ListenReactionSingle:"{0} ascolta questo",LocalFile:"File locale",More:"Pi",MoreSongsLoad:"Durante l'ascolto vengono caricati altri brani",Pause:"Pausa",Play:"Play",Playlist:"Playlist",PressEnterToPlay:"Premi Shift + Invio per riprodurre",Popularity:"Popolarit",Progress:"Progress",Remove:"Rimuovi",RemoveYourMusic:"Elimina da La tua libreria",RemoveFromYourFavoriteSongs:"Rimuovi dai tuoi brani preferiti",Save:"Salva",SaveYourMusic:"Salva in La tua libreria",SaveToYourFavoriteSongs:"Aggiungi ai tuoi brani preferiti",Saved:"Salvato",StartRadio:"Crea una radio",Time:"Durata",Title:"Titolo",Toplist:"Brani top",Track:"Brano",Unfollow:"Non seguire pi",User:"Utente",ViewAll:"Visualizza tutto",HoursShort:"{0} ore",MinutesShort:"{0} min.",SecondsShort:"{0} sec",ErrorTitle:"Si  verificato un errore nella visualizzazione di questa pagina.",ErrorMessage:"Questa pagina non esiste o si  verificato un errore.",OfflineTitle:"Questa pagina non  disponibile offline.",OfflineMessage:"Passa online per caricare.",MadeFor:"Realizzata per {0}",heart_label:"Preferiti",undo_heart_label:"Preferiti",ban_label:"Rimuovi","format_list.ban_label":"Non mi piace","nft.ban_song_label":"Nascondi questo brano","nft.undo_ban_song_label":"Non nascondere pi questo brano","format_list.undo_ban_label":"Questo elemento non ti piace",VariousArtistsCapitalized:"Artisti vari"}},function(e){e.exports={Album:"Album",AndMore:"dan {0} lagi",Artist:"Artis",By:"menurut",ByLabel:"Dari","Create Similar Playlist":"Buat Playlist Serupa",DateAdded:"Tanggal Dimuat",Duration:"Durasi","Recommended Songs":"Lagu yang Direkomendasikan",Filter:"Filter",Follow:"Ikuti",Follower:"Pengikut",FollowersLabel:{one:"Pengikut",other:"Pengikut"},FollowersCount:{one:"{0} pengikut",other:"{0} pengikut"},Following:"Mengikuti",FollowingLabel:"Mengikuti",ListenersLabel:"Pendengar Bulanan",FollowsYou:"Mengikutimu",HoldToPreview:"Klik dan Tahan untuk Pratinjau",ListenCount:{one:"1 pemutaran",other:"{0} permainan"},ListenReactionMulti:"{0} pendengar di jaringanmu",ListenReactionSingle:"{0} mendengarkan ini",LocalFile:"File Lokal",More:"Lainnya",MoreSongsLoad:"Lebih banyak lagu dimuat saat kamu mendengarkan",Pause:"Jeda",Play:"Play",Playlist:"Playlist",PressEnterToPlay:"Tekan Shift + Enter untuk memutar",Popularity:"Popularitas",Progress:"Kemajuan",Remove:"Hapus",RemoveYourMusic:"Hapus dari Koleksi Kamu",RemoveFromYourFavoriteSongs:"Hapus dari Lagu Favoritmu",Save:"Simpan",SaveYourMusic:"Simpan ke Koleksi Kamu",SaveToYourFavoriteSongs:"Simpan ke Lagu Favoritmu",Saved:"Tersimpan",StartRadio:"Mulai Radio",Time:"Waktu",Title:"Judul",Toplist:"Lagu teratas",Track:"Lagu",Unfollow:"Berhenti mengikuti",User:"Pengguna",ViewAll:"Lihat Semua",HoursShort:"{0} jam",MinutesShort:"{0} mnt",SecondsShort:"{0} dtk",ErrorTitle:"Ada masalah saat menampilkan halaman ini!",ErrorMessage:"Halaman ini tidak ada atau terjadi kesalahan.",OfflineTitle:"Halaman ini tidak tersedia secara offline!",OfflineMessage:"Alihkan ke online untuk memuat.",MadeFor:"Dibuat untuk {0}",heart_label:"Suka",undo_heart_label:"Disukai",ban_label:"Hapus","format_list.ban_label":"Tidak suka","nft.ban_song_label":"Sembunyikan lagu ini","nft.undo_ban_song_label":"Berhenti menyembunyikan lagu ini","format_list.undo_ban_label":"Kamu tidak suka ini",VariousArtistsCapitalized:"Berbagai artis"}},function(e){e.exports={Album:"Album",AndMore:"s mg {0} felhasznl",Artist:"Elad",By:"tle:",ByLabel:"Tle:","Create Similar Playlist":"Hasonl msorlista ltrehozsa",DateAdded:"Dtum hozzadva",Duration:"Idtartam","Recommended Songs":"Ajnlott dalok",Filter:"Szr",Follow:"Kvets",Follower:"Kvet",FollowersLabel:{one:"Kvet",other:"Kvetk"},FollowersCount:{one:"{0} kvet",other:"{0} kvet"},Following:"Kvetsek",FollowingLabel:"Kvetsek",ListenersLabel:"Hallgatk havonta",FollowsYou:"Tged kvet",HoldToPreview:"Tartsd nyomva a belehallgatshoz",ListenCount:{one:"1 lejtszs",other:"{0} lejtszs"},ListenReactionMulti:"{0} ismersd hallgatta meg",ListenReactionSingle:"{0} mr meghallgatta",LocalFile:"Helyi fjl",More:"Tbb",MoreSongsLoad:"Lesz mg szm, csak hallgasd tovbb",Pause:"Sznet",Play:"Lejtszs",Playlist:"Lejtszsi lista",PressEnterToPlay:"A lejtszshoz nyomd meg a Shift + Enter billentyket",Popularity:"Npszersg",Progress:"llapot",Remove:"Eltvolts",RemoveYourMusic:"Trls a Gyjtemnyembl",RemoveFromYourFavoriteSongs:"Trls a Kedvenc dalok kzl",Save:"Ments",SaveYourMusic:"Ments a Gyjtemnyedbe",SaveToYourFavoriteSongs:"Ments a Kedvenc dalokhoz",Saved:"Mentett",StartRadio:"Rdi bekapcsolsa",Time:"Id",Title:"Cm",Toplist:"Toplista",Track:"Dal",Unfollow:"Nem kvetem",User:"Felhasznl",ViewAll:"Mindent mutat",HoursShort:"{0} ra",MinutesShort:"{0} perc",SecondsShort:"{0} mp",ErrorTitle:"Hiba trtnt az oldal megjelentsekor.",ErrorMessage:"Az oldal nem ltezik, vagy hiba trtnt.",OfflineTitle:"Ez az oldal offline mdban nem rhet el.",OfflineMessage:"Csatlakozz az internethez, majd indtsd el.",MadeFor:"{0} felhasznlnak kszlt",heart_label:"Tetszik",undo_heart_label:"Kedvelted",ban_label:"Eltvolts","format_list.ban_label":"Nem tetszik","nft.ban_song_label":"Dal elrejtse","nft.undo_ban_song_label":"Dal elrejtsnek visszavonsa","format_list.undo_ban_label":"Ez nem tetszett neked",VariousArtistsCapitalized:"Klnbz eladk"}},function(e){e.exports={Album:"Album",AndMore:"et {0} autres",Artist:"Artiste",By:"par",ByLabel:"Par","Create Similar Playlist":"Crer une liste de lecture semblable",DateAdded:"Ajout le",Duration:"Dure","Recommended Songs":"Chansons recommandes",Filter:"Filtrer",Follow:"Suivre",Follower:"Abonn",FollowersLabel:{one:"Abonn",other:"Abonn"},FollowersCount:{one:"{0} abonn",other:"{0} abonns"},Following:"Suivis",FollowingLabel:"Suivis",ListenersLabel:"Auditeurs mensuels",FollowsYou:"Vous suit",HoldToPreview:"Cliquez longuement pour avoir un aperu",ListenCount:{one:"1lecture",other:"{0} coutes"},ListenReactionMulti:"{0} auditeurs dans votre rseau",ListenReactionSingle:"{0} coute ceci",LocalFile:"Fichier local",More:"Plus",MoreSongsLoad:"D'autres chansons se chargent pendant que vous coutez",Pause:"Pause",Play:"Lecture",Playlist:"Playlist",PressEnterToPlay:"Appuyez sur Maj + Entre pour faire jouer",Popularity:"Popularit",Progress:"Progression",Remove:"Supprimer",RemoveYourMusic:"Supprimer de la Bibliothque",RemoveFromYourFavoriteSongs:"Supprimer de vos chansons favorites",Save:"Sauvegarder",SaveYourMusic:"Enregistrer dans la Bibliothque",SaveToYourFavoriteSongs:"Enregistrer dans vos chansons favorites",Saved:"Sauvegard",StartRadio:"Lancer la radio",Time:"Dure",Title:"Titre",Toplist:"Meilleures chansons",Track:"Titre",Unfollow:"Ne plus suivre",User:"Utilisateur",ViewAll:"Voir tout",HoursShort:"{0} h",MinutesShort:"{0} min",SecondsShort:"{0} s",ErrorTitle:"Un problme est survenu lors de l'affichage de cette page!",ErrorMessage:"Cette page n'existe pas ou une erreur s'est produite.",OfflineTitle:"Cette page n'est pas accessible hors ligne!",OfflineMessage:"Veuillez accder  Internet pour charger le contenu.",MadeFor:"Cre pour {0}",heart_label:"J'aime",undo_heart_label:"A aim",ban_label:"Supprimer","format_list.ban_label":"Je n'aime pas","nft.ban_song_label":"Masquer cette chanson","nft.undo_ban_song_label":"Ne plus masquer cette chanson","format_list.undo_ban_label":"Vous naimez pas cela",VariousArtistsCapitalized:"Diffrents artistes"}},function(e){e.exports={Album:"Album",AndMore:"et {0} autres",Artist:"Artiste",By:"par",ByLabel:"Par","Create Similar Playlist":"Crer une playlist similaire",DateAdded:"Ajout le",Duration:"Dure","Recommended Songs":"Titres recommands",Filter:"Filtre",Follow:"S'abonner",Follower:"Abonn",FollowersLabel:{one:"Abonn",other:"Abonns"},FollowersCount:{one:"{0} abonn",other:"{0} abonns"},Following:"Abonn",FollowingLabel:"Abonn",ListenersLabel:"Nombres de personnes qui coutent par mois",FollowsYou:"Est abonn  vous",HoldToPreview:"Cliquez longuement pour avoir un aperu",ListenCount:{one:"1lecture",other:"{0} coutes"},ListenReactionMulti:"{0} auditeurs dans votre rseau",ListenReactionSingle:"{0} coute ceci.",LocalFile:"Fichier local",More:"Plus",MoreSongsLoad:"D'autres titres se chargent pendant que vous coutez.",Pause:"Pause",Play:"Lire",Playlist:"Playlist",PressEnterToPlay:"Appuyez sur Maj et Entre pour couter",Popularity:"Popularit",Progress:"Progression",Remove:"Supprimer",RemoveYourMusic:"Supprimer de Bibliothque",RemoveFromYourFavoriteSongs:"Supprimer de vos titres favoris",Save:"Sauvegarder",SaveYourMusic:"Sauvegarder dans Bibliothque",SaveToYourFavoriteSongs:"Ajouter  vos titres favoris",Saved:"Sauvegard",StartRadio:"Ecouter la radio",Time:"Dure",Title:"Titre",Toplist:"Top titres",Track:"Titre",Unfollow:"Se dsabonner",User:"Utilisateur",ViewAll:"Prsentation tout",HoursShort:"{0}h",MinutesShort:"{0}min",SecondsShort:"{0}s",ErrorTitle:"Problme d'affichage!",ErrorMessage:"Cette page n'existe pas, ou une erreur s'est produite.",OfflineTitle:"Cette page n'est pas disponible hors connexion!",OfflineMessage:"Connectez-vous pour procder au chargement.",MadeFor:"Concoct pour {0}",heart_label:"J'aime",undo_heart_label:"A aim",ban_label:"Supprimer","format_list.ban_label":"Je n'aime pas","nft.ban_song_label":"Masquer ce titre","nft.undo_ban_song_label":"Ne plus masquer ce titre","format_list.undo_ban_label":"Vous n'aimez pas ce contenu",VariousArtistsCapitalized:"Diffrents artistes"}},function(e){e.exports={Album:"Albumi",AndMore:"ja {0} muuta",Artist:"Artisti",By:"tekijlt",ByLabel:"tekijlt","Create Similar Playlist":"Luo samankaltainen soittolista",DateAdded:"Lisyspiv",Duration:"Kesto","Recommended Songs":"Suositellut kappaleet",Filter:"Suodatin",Follow:"Seuraa",Follower:"Seuraaja",FollowersLabel:{one:"Seuraaja",other:"Seuraajat"},FollowersCount:{one:"{0} seuraaja",other:"{0} seuraajaa"},Following:"Seurataan",FollowingLabel:"Seurataan",ListenersLabel:"Kuuntelijat kuukauden aikana",FollowsYou:"Seuraa sinua",HoldToPreview:"Kuuntele ptk pitmll tt painettuna",ListenCount:{one:"1 toisto",other:"{0} toistoa"},ListenReactionMulti:"{0} kuuntelijaa verkostossasi",ListenReactionSingle:"{0} kuuntelee tt",LocalFile:"Paikallinen tiedosto",More:"Lis",MoreSongsLoad:"Lis kappaleita ladataan kuuntelun aikana",Pause:"Tauko",Play:"Toista",Playlist:"Soittolista",PressEnterToPlay:"Toista painamalla Vaihto+Enter",Popularity:"Suosio",Progress:"Edistyminen",Remove:"Poista",RemoveYourMusic:"Poista omasta kirjastosta",RemoveFromYourFavoriteSongs:"Poista suosikkikappaleista",Save:"Tallenna",SaveYourMusic:"Tallenna omaan kirjastoon",SaveToYourFavoriteSongs:"Tallenna suosikkikappaleisiin",Saved:"Tallennettu",StartRadio:"Kynnist radio",Time:"Kesto",Title:"Nimi",Toplist:"Suosituimmat kappaleet",Track:"Kappale",Unfollow:"Lopeta seuraaminen",User:"Kyttj",ViewAll:"Nyt kaikki",HoursShort:"{0} h",MinutesShort:"{0} min",SecondsShort:"{0} s",ErrorTitle:"Sivun nyttmisess ilmeni ongelma!",ErrorMessage:"Sivua ei ole, tai tapahtui virhe.",OfflineTitle:"Sivu ei ole saatavilla offline-tilassa!",OfflineMessage:"Siirry online-tilaan, jotta voit ladata.",MadeFor:"Luotu kyttjlle {0}",heart_label:"Tykk",undo_heart_label:"Tyktty",ban_label:"Poista","format_list.ban_label":"En tykk","nft.ban_song_label":"Piilota tm kappale","nft.undo_ban_song_label":"Lopeta kappaleen piilottaminen","format_list.undo_ban_label":"Et tykk tst",VariousArtistsCapitalized:"Eri esittji"}},function(e){e.exports={Album:"lbum",AndMore:"y {0} ms",Artist:"Artista",By:"por",ByLabel:"De","Create Similar Playlist":"Crear playlist similar",DateAdded:"Fecha agregada",Duration:"Duracin","Recommended Songs":"Canciones recomendadas",Filter:"Filtrar",Follow:"Seguir",Follower:"Seguidor",FollowersLabel:{one:"Seguidor",other:"Seguidores"},FollowersCount:{one:"{0} seguidor",other:"{0} seguidores"},Following:"Siguiendo",FollowingLabel:"Siguiendo",ListenersLabel:"Oyentes mensuales",FollowsYou:"Te sigue",HoldToPreview:"Haz clic y mantn pulsado para or la muestra preliminar",ListenCount:{one:"1 reproduccin",other:"{0} reproducciones"},ListenReactionMulti:"{0} oyentes en tu red",ListenReactionSingle:"{0} escucha esto",LocalFile:"Archivo local",More:"Ms",MoreSongsLoad:"Se cargarn ms canciones a medida que escuchas",Pause:"Pausa",Play:"Reproducir",Playlist:"Lista",PressEnterToPlay:"Presiona Shift + Enter para reproducir",Popularity:"Popularidad",Progress:"Progreso",Remove:"Eliminar",RemoveYourMusic:"Eliminar de Tu Biblioteca",RemoveFromYourFavoriteSongs:"Eliminar de tus Canciones favoritas",Save:"Guardar",SaveYourMusic:"Guardar en Tu Biblioteca",SaveToYourFavoriteSongs:"Guardar en tus Canciones favoritas",Saved:"Guardado",StartRadio:"Comenzar Radio",Time:"Tiempo",Title:"Ttulo",Toplist:"Canciones ms reproducidas",Track:"Cancin",Unfollow:"Dejar de seguir",User:"Usuario",ViewAll:"Ver todos",HoursShort:"{0} hr",MinutesShort:"{0} min",SecondsShort:"{0} seg",ErrorTitle:"Hubo un problema al mostrar esta pgina.",ErrorMessage:"Puede ser que esta pgina no exista o que haya ocurrido un error.",OfflineTitle:"Esta pgina no se encuentra disponible sin conexin.",OfflineMessage:"Conctate a la red para cargar.",MadeFor:"Hecho para {0}",heart_label:"Me gusta",undo_heart_label:"Te gusta esto",ban_label:"Eliminar","format_list.ban_label":"No me gusta","nft.ban_song_label":"Ocultar esta cancin","nft.undo_ban_song_label":"Dejar de ocultar esta cancin","format_list.undo_ban_label":"No te gusta esto",VariousArtistsCapitalized:"Varios artistas"}},function(e){e.exports={Album:"lbum",AndMore:"y {0} ms",Artist:"Artista",By:"por",ByLabel:"De","Create Similar Playlist":"Crear playlist similar",DateAdded:"Fecha en la que se aadi",Duration:"Duracin","Recommended Songs":"Canciones recomendadas",Filter:"Filtrar",Follow:"Seguir",Follower:"Seguidor",FollowersLabel:{one:"Seguidor",other:"Seguidores"},FollowersCount:{one:"{0} seguidor",other:"{0} seguidores"},Following:"Siguiendo",FollowingLabel:"Siguiendo",ListenersLabel:"Oyentes mensuales",FollowsYou:"Te sigue",HoldToPreview:"Pulsa y mantn pulsado para or la muestra preliminar",ListenCount:{one:"1 reproduccin",other:"{0} reproducciones"},ListenReactionMulti:"{0} oyentes en tu red",ListenReactionSingle:"{0} escucha esto",LocalFile:"Archivo local",More:"Ms",MoreSongsLoad:"Se cargarn ms canciones mientras escuchas",Pause:"Pausar",Play:"Reproducir",Playlist:"Lista",PressEnterToPlay:"Pulsa Mays + Intro para reproducir",Popularity:"Popularidad",Progress:"Completado",Remove:"Retirar",RemoveYourMusic:"Eliminar de Tu biblioteca",RemoveFromYourFavoriteSongs:"Retirar de tus Canciones favoritas",Save:"Guardar",SaveYourMusic:"Guardar en Tu biblioteca",SaveToYourFavoriteSongs:"Guardar en tus Canciones favoritas",Saved:"Guardada",StartRadio:"Comenzar radio",Time:"Tiempo",Title:"Ttulo",Toplist:"Canciones ms escuchadas",Track:"Cancin",Unfollow:"Dejar de seguir",User:"Usuario",ViewAll:"Ver todos",HoursShort:"{0} hr",MinutesShort:"{0} min",SecondsShort:"{0} seg",ErrorTitle:"Se ha producido un problema al mostrar esta pgina.",ErrorMessage:"Esta pgina no existe o se ha producido un error.",OfflineTitle:"Esta pgina no est disponible sin conexin.",OfflineMessage:"Por favor, conctate para cargar.",MadeFor:"Hecha para {0}",heart_label:"Me gusta",undo_heart_label:"Te gusta",ban_label:"Retirar","format_list.ban_label":"No me gusta","nft.ban_song_label":"Ocultar esta cancin","nft.undo_ban_song_label":"Dejar de ocultar esta cancin","format_list.undo_ban_label":"No te gusta esto",VariousArtistsCapitalized:"Varios artistas"}},function(e){e.exports={Album:"Album",AndMore:"and {0} more",Artist:"Artist",By:"by",ByLabel:"By","Create Similar Playlist":"Create Similar Playlist",DateAdded:"Date Added",Duration:"Duration","Recommended Songs":"Recommended Songs",Filter:"Filter",Follow:"Follow",Follower:"Follower",FollowersLabel:{one:"Follower",other:"Followers"},FollowersCount:{one:"{0} follower",other:"{0} followers"},Following:"Following",FollowingLabel:"Following",ListenersLabel:"Monthly Listeners",FollowsYou:"Follows You",HoldToPreview:"Click and Hold to Preview",ListenCount:{one:"1 play",other:"{0} plays"},ListenReactionMulti:"{0} listeners in your network",ListenReactionSingle:"{0} listens to this",LocalFile:"Local File",More:"More",MoreSongsLoad:"More songs load as you listen",Pause:"Pause",Play:"Play",Playlist:"Playlist",PressEnterToPlay:"Press Shift + Enter to play",Popularity:"Popularity",Progress:"Progress",Remove:"Remove",RemoveYourMusic:"Remove from Your Library",RemoveFromYourFavoriteSongs:"Remove from your Favorite Songs",Save:"Save",SaveYourMusic:"Save to Your Library",SaveToYourFavoriteSongs:"Save to your Favorite Songs",Saved:"Saved",StartRadio:"Start Radio",Time:"Time",Title:"Title",Toplist:"Top songs",Track:"Song",Unfollow:"Unfollow",User:"User",ViewAll:"View All",HoursShort:"{0} hr",MinutesShort:"{0} min",SecondsShort:"{0} sec",ErrorTitle:"There was a problem displaying this page!",ErrorMessage:"This page either does not exist or an error occurred.",OfflineTitle:"This page is not available offline!",OfflineMessage:"Please go online to load.",MadeFor:"Made for {0}",heart_label:"Like",undo_heart_label:"Liked",ban_label:"Remove","format_list.ban_label":"Don't like","nft.ban_song_label":"Hide this song","nft.undo_ban_song_label":"Stop hiding this song","format_list.undo_ban_label":"You don't like this",VariousArtistsCapitalized:"Various artists"}},function(e){e.exports={Album:"",AndMore:"  {0}",Artist:"",By:"",ByLabel:"","Create Similar Playlist":"  playlist",DateAdded:" ",Duration:"","Recommended Songs":" ",Filter:"",Follow:"",Follower:"",FollowersLabel:{one:"",other:""},FollowersCount:{one:"{0} ",other:"{0} "},Following:"A",FollowingLabel:"A",ListenersLabel:" ",FollowsYou:" ",HoldToPreview:"     ",ListenCount:{one:"1 ",other:"{0} "},ListenReactionMulti:"{0}    ",ListenReactionSingle:"  {0}  ",LocalFile:" ",More:"",MoreSongsLoad:"    ",Pause:"",Play:"",Playlist:"",PressEnterToPlay:" Shift + Enter  ",Popularity:"",Progress:"",Remove:"",RemoveYourMusic:"   ",RemoveFromYourFavoriteSongs:"     ",Save:"",SaveYourMusic:"  ",SaveToYourFavoriteSongs:"    ",Saved:"",StartRadio:" ",Time:"",Title:"",Toplist:" ",Track:"",Unfollow:" ",User:"",ViewAll:"  ",HoursShort:"{0} ",MinutesShort:"{0} .",SecondsShort:"{0} .",ErrorTitle:"       !",ErrorMessage:"        .",OfflineTitle:"       !",OfflineMessage:"      .",MadeFor:" : {0}",heart_label:" ",undo_heart_label:" ",ban_label:"","format_list.ban_label":"  ","nft.ban_song_label":"   ","nft.undo_ban_song_label":"     ","format_list.undo_ban_label":"   ",VariousArtistsCapitalized:" "}},function(e){e.exports={Album:"Album",AndMore:"und {0} weitere",Artist:"Knstler",By:"von",ByLabel:"Von","Create Similar Playlist":"hnliche Playlist erstellen",DateAdded:"Datum hinzugefgt",Duration:"Dauer","Recommended Songs":"Empfohlene Songs",Filter:"Filter",Follow:"Folgen",Follower:"Follower",FollowersLabel:{one:"Follower",other:"Follower"},FollowersCount:{one:"{0} Follower",other:"{0} Follower"},Following:"Folge ich",FollowingLabel:"Folge ich",ListenersLabel:"Monatliche Hrer",FollowsYou:"Folgt dir",HoldToPreview:"Zum Reinhren gedrckt halten",ListenCount:{one:"1Wiedergabe",other:"{0}Mal abgespielt"},ListenReactionMulti:"{0} Hrer in Deinem Netzwerk",ListenReactionSingle:"{0} hrt sich das an",LocalFile:"Lokale Datei",More:"Mehr",MoreSongsLoad:"Whrend du Musik hrst, werden weitere Songs geladen.",Pause:"Pause",Play:"Play",Playlist:"Playlist",PressEnterToPlay:"Drck gleichzeitig die Umschalt- und Eingabetaste zum Abspielen",Popularity:"Beliebtheit",Progress:"Fortschritt",Remove:"Entfernen",RemoveYourMusic:"Aus Bibliothek entfernen",RemoveFromYourFavoriteSongs:"Aus deinen Lieblingssongs entfernen",Save:"Speichern",SaveYourMusic:"In Bibliothek speichern",SaveToYourFavoriteSongs:"In deinen Lieblingssongs speichern",Saved:"Gespeichert",StartRadio:"Radio starten",Time:"Dauer",Title:"Titel",Toplist:"Top-Songs",Track:"Song",Unfollow:"Nicht mehr folgen",User:"Benutzer",ViewAll:"Mehr Darstellung",HoursShort:"{0} Std.",MinutesShort:"{0} Min.",SecondsShort:"{0} Sek.",ErrorTitle:"Bei der Anzeige dieser Seite ist ein Fehler aufgetreten.",ErrorMessage:"Diese Seite ist entweder nicht vorhanden oder es ist ein Fehler aufgetreten.",OfflineTitle:"Diese Seite ist offline nicht verfgbar.",OfflineMessage:"Geh zum Laden online.",MadeFor:"Fr {0}",heart_label:"Gefllt mir",undo_heart_label:"Gefllt mir",ban_label:"Entfernen","format_list.ban_label":"Gefllt mir nicht","nft.ban_song_label":"Diesen Song ausblenden","nft.undo_ban_song_label":"Diesen Song nicht mehr ausblenden","format_list.undo_ban_label":"Das gefllt dir nicht",VariousArtistsCapitalized:"Diverse Knstler"}},function(e){e.exports={Album:"Album",AndMore:"a {0} dal(ch)",Artist:"Umlec",By:"od",ByLabel:"Od","Create Similar Playlist":"Vytvoit podobn playlist",DateAdded:"Datum pidn",Duration:"Dlka","Recommended Songs":"Doporuen skladby",Filter:"Filtr",Follow:"Sledovat",Follower:"Sledujc",FollowersLabel:{one:"Sledujc",other:"sledujcch"},FollowersCount:{one:"{0} sledujc",other:"{0} sledujcch"},Following:"Sleduje",FollowingLabel:"Sleduje",ListenersLabel:"Poslucha msn",FollowsYou:"Sleduje t",HoldToPreview:"Pro nhled klikni a podr",ListenCount:{one:"1pehrn",other:"{0} pehrn"},ListenReactionMulti:"{0} poslucha ve tv sti",ListenReactionSingle:"{0} uivatel tohle poslouch",LocalFile:"Mstn soubory",More:"dalch",MoreSongsLoad:"Bhem pehrvn se natou dal skladby.",Pause:"Pozastavit",Play:"Pehrt",Playlist:"Playlist",PressEnterToPlay:"Pehrvn spust pes Shift + Enter.",Popularity:"Popularita",Progress:"Postup",Remove:"Odstranit",RemoveYourMusic:"Odstranit ze sbrky Tvoje knihovna",RemoveFromYourFavoriteSongs:"Odstranit ze sbrky Oblben skladby",Save:"Uloit",SaveYourMusic:"Uloit do sbrky Tvoje knihovna",SaveToYourFavoriteSongs:"Uloit do sbrky Oblben skladby",Saved:"Uloeno",StartRadio:"Spustit rdio",Time:"as",Title:"Nzev",Toplist:"Top skladby",Track:"Skladba",Unfollow:"Pestat sledovat",User:"Uivatel",ViewAll:"Zobrazit ve",HoursShort:"{0}h",MinutesShort:"{0}min",SecondsShort:"{0}s",ErrorTitle:"Pi zobrazovn tto strnky dolo k problmu!",ErrorMessage:"Tato strnka bu neexistuje, nebo dolo kchyb.",OfflineTitle:"Tato strnka nen dostupn offline!",OfflineMessage:"Pro naten pejdi prosm online.",MadeFor:"Speciln pro uivatele {0}",heart_label:"Lb se mi",undo_heart_label:"Lbilo se mi",ban_label:"Odstranit","format_list.ban_label":"Nelb se mi","nft.ban_song_label":"Skrt tuto skladbu","nft.undo_ban_song_label":"Tuto skladbu u neskrvat","format_list.undo_ban_label":"Tohle se ti nelb",VariousArtistsCapitalized:"Rzn umlci"}},function(e){e.exports={Album:"",AndMore:" {0} ",Artist:"",By:"",ByLabel:"","Create Similar Playlist":"    ",DateAdded:" ",Duration:" ","Recommended Songs":" ",Filter:"",Follow:"",Follower:"",FollowersLabel:{one:"",other:""},FollowersCount:{one:"{0} ",other:"{0} "},Following:"",FollowingLabel:"",ListenersLabel:" ",FollowsYou:"",HoldToPreview:"   ",ListenCount:{one:"1  ",other:"{0} "},ListenReactionMulti:"{0}   ",ListenReactionSingle:"{0}    ",LocalFile:" ",More:"",MoreSongsLoad:"      ",Pause:" ",Play:"",Playlist:" ",PressEnterToPlay:" Shift +Enter ",Popularity:"",Progress:"",Remove:"",RemoveYourMusic:"   ",RemoveFromYourFavoriteSongs:"   ",Save:"",SaveYourMusic:"   ",SaveToYourFavoriteSongs:"   ",Saved:" ",StartRadio:" ",Time:"",Title:"",Toplist:"  ",Track:"",Unfollow:" ",User:"",ViewAll:"  ",HoursShort:"{0} ",MinutesShort:"{0} ",SecondsShort:"{0} ",ErrorTitle:"     !",ErrorMessage:"        .",OfflineTitle:"         !",OfflineMessage:"    .",MadeFor:"   {0}",heart_label:"",undo_heart_label:"",ban_label:"","format_list.ban_label":" ","nft.ban_song_label":"  ","nft.undo_ban_song_label":"   ","format_list.undo_ban_label":"  ",VariousArtistsCapitalized:" "}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(189),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(1))},function(e,t,n){var r=n(190),o=n(637),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==i}},function(e,t,n){var r=n(191),o=1/0,i=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===o||e===-o?(e<0?-1:1)*i:e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(642);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){var r=n(643),o="Expected a function";e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError(o);return e=r(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}},function(e,t){!function(){var t="0123456789abcdef",n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=[];r.length=256;for(var o=0;o<256;o++)r[o]=t[o>>4]+t[15&o];var i=[];i.length=128;for(o=0;o<n.length;++o)i[n.charCodeAt(o)]=o;var a=[];for(o=0;o<16;o++)a[t.charCodeAt(o)]=o;for(o=0;o<6;o++)a["ABCDEF".charCodeAt(o)]=10+o;var s={toHex:function(e){if(22!==e.length)return null;var t,n,o,a,s,l=2.3283064365386963e-10,u=4294967296,c=238328;return t=56800235584*i[e.charCodeAt(0)]+916132832*i[e.charCodeAt(1)]+14776336*i[e.charCodeAt(2)]+238328*i[e.charCodeAt(3)]+3844*i[e.charCodeAt(4)]+62*i[e.charCodeAt(5)]+i[e.charCodeAt(6)],t=(t-=(n=t*l|0)*u)*c+(s=3844*i[e.charCodeAt(7)]+62*i[e.charCodeAt(8)]+i[e.charCodeAt(9)]),t-=(s=t*l|0)*u,n=n*c+s,t=t*c+(s=3844*i[e.charCodeAt(10)]+62*i[e.charCodeAt(11)]+i[e.charCodeAt(12)]),t-=(s=t*l|0)*u,n=n*c+s,n-=(s=n*l|0)*u,o=s,t=t*c+(s=3844*i[e.charCodeAt(13)]+62*i[e.charCodeAt(14)]+i[e.charCodeAt(15)]),t-=(s=t*l|0)*u,n=n*c+s,n-=(s=n*l|0)*u,o=o*c+s,t=t*c+(s=3844*i[e.charCodeAt(16)]+62*i[e.charCodeAt(17)]+i[e.charCodeAt(18)]),t-=(s=t*l|0)*u,n=n*c+s,n-=(s=n*l|0)*u,o=o*c+s,o-=(s=o*l|0)*u,a=s,t=t*c+(s=3844*i[e.charCodeAt(19)]+62*i[e.charCodeAt(20)]+i[e.charCodeAt(21)]),t-=(s=t*l|0)*u,n=n*c+s,n-=(s=n*l|0)*u,o=o*c+s,o-=(s=o*l|0)*u,a=a*c+s,a-=(s=a*l|0)*u,s?null:r[a>>>24]+r[a>>>16&255]+r[a>>>8&255]+r[255&a]+r[o>>>24]+r[o>>>16&255]+r[o>>>8&255]+r[255&o]+r[n>>>24]+r[n>>>16&255]+r[n>>>8&255]+r[255&n]+r[t>>>24]+r[t>>>16&255]+r[t>>>8&255]+r[255&t]},fromHex:function(e){var t,r=0,o=0,i=0;for(t=0;t<10;t++)i=16*i+a[e.charCodeAt(t)];for(t=0;t<11;t++)o=16*o+a[e.charCodeAt(t+10)];for(t=0;t<11;t++)r=16*r+a[e.charCodeAt(t+21)];if(isNaN(r+o+i))return null;var s,l=17592186044416,u="";for(t=0;t<7;++t)s=((s=((s=i)-62*(i=Math.floor(s*(1/62))))*l+o)-62*(o=Math.floor(s*(1/62))))*l+r,r=Math.floor(s*(1/62)),u=n[s-62*r]+u;for(o+=i*l;t<15;++t)s=((s=o)-62*(o=Math.floor(s*(1/62))))*l+r,r=Math.floor(s*(1/62)),u=n[s-62*r]+u;for(r+=o*l;t<21;++t)s=r,r=Math.floor(s*(1/62)),u=n[s-62*r]+u;return n[r]+u},HEX256:r,ID16:a,ID62:i};void 0!==e&&void 0!==e.exports?e.exports=s:window.Base62=s}()},function(e,t,n){"use strict";const r=n(9);function o(e){if(!(this instanceof o))return new o(e);if(!e)throw new TypeError("Missing resolver for PlayHistory");this._resolver=e}o.prototype.get=function(e){const t=new r.Request(r.Action.GET,"sp://play-history/v1");return this._resolver.resolve(t,e)},o.prototype.subscribe=function(e){const t=new r.Request(r.Action.SUB,"sp://play-history/v1");return this._resolver.resolve(t,e)},t.PlayHistory=o},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */ /** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(o){"use strict";void 0===(r=function(){return e.tryCatchResolve=t,e;function e(e,n){return arguments.length<2&&(n=t),function(t,o,i){var a=e._defer(),s=i.length,l=new Array(s);return r({f:t,thisArg:o,args:i,params:l,i:s-1,call:n},a._handler),a};function r(t,r){if(t.i<0)return n(t.f,t.thisArg,t.params,r);e._handler(t.args[t.i]).fold(o,t,void 0,r)}function o(e,t,n){e.params[e.i]=t,e.i-=1,r(e,n)}}function t(e,t,n,r){try{r.resolve(e.apply(t,n))}catch(e){r.reject(e)}}}.call(t,n,t,e))||(e.exports=r)}(n(79))},function(e,t){},function(e,t,n){(function(r){var o;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";void 0===(o=function(e){var t,o="undefined"!=typeof setTimeout&&setTimeout,i=function(e,t){return setTimeout(e,t)},a=function(e){return clearTimeout(e)},s=function(e){return o(e,0)};if(function(){return void 0!==r&&"[object process]"===Object.prototype.toString.call(r)}())s=function(e){return r.nextTick(e)};else if(t=function(){return"undefined"!=typeof MutationObserver&&MutationObserver||"undefined"!=typeof WebKitMutationObserver&&WebKitMutationObserver}())s=function(e){var t,n=document.createTextNode("");new e(function(){var e=t;t=void 0,e()}).observe(n,{characterData:!0});var r=0;return function(e){t=e,n.data=r^=1}}(t);else if(!o){var l=n(648);i=function(e,t){return l.setTimer(t,e)},a=l.cancelTimer,s=l.runOnLoop||l.runOnContext}return{setTimer:i,clearTimer:a,asap:s}}.call(t,n,t,e))||(e.exports=o)}(n(79))}).call(this,n(46))},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */ /** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(o){"use strict";void 0===(r=function(){return function(t,n,r,o){return void 0===n&&(n=e),Object.keys(o).reduce(function(e,r){var i=o[r];return"function"==typeof i?n(e,t(i),r):e},void 0===r?function(e){return"function"==typeof e?e.bind():Object.create(e)}(o):r)};function e(e,t,n){return e[n]=t,e}}.call(t,n,t,e))||(e.exports=r)}(n(79))},function(e,t,n){(function(t){var n;!function(r){e.exports=function(){return function e(t,r,o){function i(s,l){if(!r[s]){if(!t[s]){var u="function"==typeof n&&n;if(!l&&u)return n(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n||e)},c,c.exports,e,t,r,o)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){var r=t.exports=e("../when");r.callbacks=e("../callbacks"),r.cancelable=e("../cancelable"),r.delay=e("../delay"),r.fn=e("../function"),r.guard=e("../guard"),r.keys=e("../keys"),r.nodefn=r.node=e("../node"),r.parallel=e("../parallel"),r.pipeline=e("../pipeline"),r.poll=e("../poll"),r.sequence=e("../sequence"),r.timeout=e("../timeout")},{"../callbacks":2,"../cancelable":3,"../delay":4,"../function":5,"../guard":6,"../keys":7,"../node":26,"../parallel":27,"../pipeline":28,"../poll":29,"../sequence":30,"../timeout":31,"../when":32}],2:[function(e,t,n){
/** @license MIT License (c) copyright 2013-2014 original author or authors */
!function(e){e(function(e){var t=e("./when"),n=t.Promise,r=e("./lib/liftAll"),o=Array.prototype.slice,i=e("./lib/apply"),a=i(n,function(e,t,n,r){n.push(c(r.resolve,r),c(r.reject,r)),function(e,t,n,r){try{e.apply(t,n)}catch(e){r.reject(e)}}(e,t,n,r)});return{lift:s,liftAll:function(e,t,n){return r(s,t,n,e)},apply:function(e,t){return a(e,this,t||[])},call:function(e){return a(e,this,o.call(arguments,1))},promisify:function(e,t){return function(){var r=this;return n.all(arguments).then(function(o){var i,a,s=n._defer();return"number"==typeof t.callback&&(i=l(o,t.callback)),"number"==typeof t.errback&&(a=l(o,t.errback)),a<i?(u(o,a,s._handler.reject,s._handler),u(o,i,s._handler.resolve,s._handler)):(u(o,i,s._handler.resolve,s._handler),u(o,a,s._handler.reject,s._handler)),e.apply(r,o),s})}}};function s(e){var t=arguments.length>1?o.call(arguments,1):[];return function(){return a(e,this,t.concat(o.call(arguments)))}}function l(e,t){return t<0?e.length+t+2:t}function u(e,t,n,r){"number"==typeof t&&e.splice(t,0,c(n,r))}function c(e,t){return function(){arguments.length>1?e.call(t,o.call(arguments)):e.apply(t,arguments)}}})}(function(n){t.exports=n(e)})},{"./lib/apply":11,"./lib/liftAll":23,"./when":32}],3:[function(e,t,n){
/** @license MIT License (c) copyright B Cavalier & J Hann */
!function(e){e(function(){return function(e,t){return e.cancel=function(){try{e.reject(t(e))}catch(t){e.reject(t)}return e.promise},e}})}(function(e){t.exports=e()})},{}],4:[function(e,t,n){
/** @license MIT License (c) copyright 2011-2013 original author or authors */
!function(e){e(function(e){var t=e("./when");return function(e,n){return t(n).delay(e)}})}(function(n){t.exports=n(e)})},{"./when":32}],5:[function(e,t,n){
/** @license MIT License (c) copyright 2013-2014 original author or authors */
!function(e){e(function(e){var t=e("./when"),n=t.try,r=e("./lib/liftAll"),o=e("./lib/apply")(t.Promise),i=Array.prototype.slice;return{lift:a,liftAll:function(e,t,n){return r(a,t,n,e)},call:n,apply:function(e,t){return o(e,this,null==t?[]:i.call(t))},compose:function(e){var r=i.call(arguments,1);return function(){var o=this,a=i.call(arguments),s=n.apply(o,[e].concat(a));return t.reduce(r,function(e,t){return t.call(o,e)},s)}}};function a(e){var t=arguments.length>1?i.call(arguments,1):[];return function(){return o(e,this,t.concat(i.call(arguments)))}}})}(function(n){t.exports=n(e)})},{"./lib/apply":11,"./lib/liftAll":23,"./when":32}],6:[function(e,t,n){
/** @license MIT License (c) copyright 2011-2013 original author or authors */
!function(e){e(function(e){var t=e("./when"),n=Array.prototype.slice;return r.n=function(e){var n=0,r=[];return function(){return t.promise(function(t){n<e?t(o):r.push(t),n+=1})};function o(){n=Math.max(n-1,0),r.length>0&&r.shift()(o)}},r;function r(e,r){return function(){var o=n.call(arguments);return t(e()).withThis(this).then(function(e){return t(r.apply(this,o)).finally(e)})}}})}(function(n){t.exports=n(e)})},{"./when":32}],7:[function(e,t,n){
/** @license MIT License (c) copyright 2011-2013 original author or authors */
!function(e){"use strict";e(function(e){var t=e("./when"),n=t.Promise,r=t.resolve;return{all:t.lift(o),map:function(e,t){return r(e).then(function(e){return o(Object.keys(e).reduce(function(t,o){return t[o]=r(e[o]).fold(n,o),t},{}))});function n(e,n){return t(n,e)}},settle:function(e){var o=Object.keys(e),i={};if(0===o.length)return r(i);var a=n._defer(),s=n._handler(a),l=o.map(function(t){return e[t]});return t.settle(l).then(function(e){!function(e,t,n,r){for(var o=0;o<e.length;o++)n[e[o]]=t[o];r.resolve(n)}(o,e,i,s)}),a}};function o(e){for(var t,r=n._defer(),o=n._handler(r),i={},a=Object.keys(e),s=a.length,l=0;l<a.length;++l)t=a[l],n._handler(e[t]).fold(u,t,i,o);return 0===s&&o.resolve(i),r;function u(e,t,n){this[e]=t,0==--s&&n.resolve(i)}}})}(function(n){t.exports=n(e)})},{"./when":32}],8:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(e){var t=e("./makePromise"),n=e("./Scheduler"),r=e("./env").asap;return t({scheduler:new n(r)})})}(function(n){t.exports=n(e)})},{"./Scheduler":9,"./env":21,"./makePromise":24}],9:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(){function e(e){this._async=e,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var t=this;this.drain=function(){t._drain()}}return e.prototype.enqueue=function(e){this._queue[this._queueLen++]=e,this.run()},e.prototype.afterQueue=function(e){this._afterQueue[this._afterQueueLen++]=e,this.run()},e.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},e.prototype._drain=function(){for(var e=0;e<this._queueLen;++e)this._queue[e].run(),this._queue[e]=void 0;for(this._queueLen=0,this._running=!1,e=0;e<this._afterQueueLen;++e)this._afterQueue[e].run(),this._afterQueue[e]=void 0;this._afterQueueLen=0},e})}(function(e){t.exports=e()})},{}],10:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(){function e(t){Error.call(this),this.message=t,this.name=e.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e})}(function(e){t.exports=e()})},{}],11:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(){return e.tryCatchResolve=t,e;function e(e,n){return arguments.length<2&&(n=t),function(t,o,i){var a=e._defer(),s=i.length,l=new Array(s);return r({f:t,thisArg:o,args:i,params:l,i:s-1,call:n},a._handler),a};function r(t,r){if(t.i<0)return n(t.f,t.thisArg,t.params,r);var i=e._handler(t.args[t.i]);i.fold(o,t,void 0,r)}function o(e,t,n){e.params[e.i]=t,e.i-=1,r(e,n)}}function t(e,t,n,r){try{r.resolve(e.apply(t,n))}catch(e){r.reject(e)}}})}(function(e){t.exports=e()})},{}],12:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(e){var t=e("../state"),n=e("../apply");return function(e){var r=n(e),o=e.resolve,i=e.all,a=Array.prototype.reduce,s=Array.prototype.reduceRight,l=Array.prototype.slice;return e.any=function(t){for(var n,r,o=e._defer(),i=o._handler,a=t.length>>>0,s=a,l=[],u=0;u<a;++u)if(void 0!==(r=t[u])||u in t){if((n=e._handler(r)).state()>0){i.become(n),e._visitRemaining(t,u,n);break}n.visit(i,c,d)}else--s;0===s&&i.reject(new RangeError("any(): array must not be empty"));return o;function c(e){l=null,this.resolve(e)}function d(e){this.resolved||(l.push(e),0==--s&&this.reject(l))}},e.some=function(t,n){var r,o,i,a=e._defer(),s=a._handler,l=[],u=[],c=t.length>>>0,d=0;for(i=0;i<c;++i)(void 0!==(o=t[i])||i in t)&&++d;n=Math.max(n,0),r=d-n+1,d=Math.min(n,d),n>d?s.reject(new RangeError("some(): array must contain at least "+n+" item(s), but had "+d)):0===d&&s.resolve(l);for(i=0;i<c;++i)(void 0!==(o=t[i])||i in t)&&e._handler(o).visit(s,f,p,s.notify);return a;function f(e){this.resolved||(l.push(e),0==--d&&(u=null,this.resolve(l)))}function p(e){this.resolved||(u.push(e),0==--r&&(l=null,this.reject(u)))}},e.settle=function(e){return i(e.map(u))},e.map=function(t,n){return e._traverse(n,t)},e.filter=function(t,n){var r=l.call(t);return e._traverse(n,r).then(function(t){return function(t,n){for(var r=n.length,o=new Array(r),i=0,a=0;i<r;++i)n[i]&&(o[a++]=e._handler(t[i]).value);return o.length=a,o}(r,t)})},e.reduce=function(e,t){return arguments.length>2?a.call(e,c(t),arguments[2]):a.call(e,c(t))},e.reduceRight=function(e,t){return arguments.length>2?s.call(e,c(t),arguments[2]):s.call(e,c(t))},e.prototype.spread=function(e){return this.then(i).then(function(t){return e.apply(this,t)})},e;function u(n){var r;return n instanceof e&&(r=n._handler.join()),r&&0===r.state()||!r?o(n).then(t.fulfilled,t.rejected):(r._unreport(),t.inspect(r))}function c(e){return function(t,n,o){return r(e,void 0,[t,n,o])}}}})}(function(n){t.exports=n(e)})},{"../apply":11,"../state":25}],13:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(){return function(n){var r=n.resolve,o=n.reject,i=n.prototype.catch;function a(e,t,n,o){var i=e.call(t);return function(e){return("object"==typeof e||"function"==typeof e)&&null!==e}(i)?function(e,t,n){return r(e).then(function(){return t(n)})}(i,n,o):n(o)}return n.prototype.done=function(e,t){this._handler.visit(this._handler.receiver,e,t)},n.prototype.catch=n.prototype.otherwise=function(t){return arguments.length<2?i.call(this,t):"function"!=typeof t?this.ensure(e):i.call(this,function(e,t){return function(n){return function(e,t){return function(e){return e===Error||null!=e&&e.prototype instanceof Error}(t)?e instanceof t:t(e)}(n,t)?e.call(this,n):o(n)}}(arguments[1],t))},n.prototype.finally=n.prototype.ensure=function(e){return"function"!=typeof e?this:this.then(function(n){return a(e,this,t,n)},function(t){return a(e,this,o,t)})},n.prototype.else=n.prototype.orElse=function(e){return this.then(void 0,function(){return e})},n.prototype.yield=function(e){return this.then(function(){return e})},n.prototype.tap=function(e){return this.then(e).yield(this)},n};function e(){throw new TypeError("catch predicate must be a function")}function t(e){return e}})}(function(e){t.exports=e()})},{}],14:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(){return function(e){return e.prototype.fold=function(t,n){var r=this._beget();return this._handler.fold(function(n,r,o){e._handler(n).fold(function(e,n,r){r.resolve(t.call(this,n,e))},r,this,o)},n,r._handler.receiver,r._handler),r},e}})}(function(e){t.exports=e()})},{}],15:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(e){var t=e("../state").inspect;return function(e){return e.prototype.inspect=function(){return t(e._handler(this))},e}})}(function(n){t.exports=n(e)})},{"../state":25}],16:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(){return function(e){var t=e.resolve;return e.iterate=function(e,t,r,o){return n(function(t){return[t,e(t)]},t,r,o)},e.unfold=n,e;function n(e,r,o,i){return t(i).then(function(n){return t(r(n)).then(function(r){return r?n:t(e(n)).spread(a)})});function a(i,a){return t(o(i)).then(function(){return n(e,r,o,a)})}}}})}(function(e){t.exports=e()})},{}],17:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(){return function(e){return e.prototype.progress=function(e){return this.then(void 0,void 0,e)},e}})}(function(e){t.exports=e()})},{}],18:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(e){var t=e("../env"),n=e("../TimeoutError");function r(e,n,r,o){return t.setTimer(function(){e(r,o,n)},n)}return function(e){function o(e,t,n){r(i,e,t,n)}function i(e,t){t.resolve(e)}function a(e,t,r){var o=void 0===e?new n("timed out after "+r+"ms"):e;t.reject(o)}return e.prototype.delay=function(e){var t=this._beget();return this._handler.fold(o,e,void 0,t._handler),t},e.prototype.timeout=function(e,n){var o=this._beget(),i=o._handler,s=r(a,e,n,o._handler);return this._handler.visit(i,function(e){t.clearTimer(s),this.resolve(e)},function(e){t.clearTimer(s),this.reject(e)},i.notify),o},e}})}(function(n){t.exports=n(e)})},{"../TimeoutError":10,"../env":21}],19:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(e){var t=e("../env").setTimer,n=e("../format");return function(e){var i,a=o,s=o;"undefined"!=typeof console&&(i=console,a=void 0!==i.error?function(e){i.error(e)}:function(e){i.log(e)},s=void 0!==i.info?function(e){i.info(e)}:function(e){i.log(e)}),e.onPotentiallyUnhandledRejection=function(e){p(d,e)},e.onPotentiallyUnhandledRejectionHandled=function(e){p(f,e)},e.onFatalRejection=function(e){p(r,e.value)};var l=[],u=[],c=null;function d(e){e.handled||(u.push(e),a("Potentially unhandled rejection ["+e.id+"] "+n.formatError(e.value)))}function f(e){var t=u.indexOf(e);t>=0&&(u.splice(t,1),s("Handled previous rejection ["+e.id+"] "+n.formatObject(e.value)))}function p(e,n){l.push(e,n),null===c&&(c=t(h,0))}function h(){for(c=null;l.length>0;)l.shift()(l.shift())}return e};function r(e){throw e}function o(){}})}(function(n){t.exports=n(e)})},{"../env":21,"../format":22}],20:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(){return function(e){return e.prototype.with=e.prototype.withThis=function(e){var t=this._beget(),n=t._handler;return n.receiver=e,this._handler.chain(n,e),t},e}})}(function(e){t.exports=e()})},{}],21:[function(e,n,r){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(e){var n,r="undefined"!=typeof setTimeout&&setTimeout,o=function(e,t){return setTimeout(e,t)},i=function(e){return clearTimeout(e)},a=function(e){return r(e,0)};if(function(){return void 0!==t&&"[object process]"===Object.prototype.toString.call(t)}())a=function(e){return t.nextTick(e)};else if(n=function(){return"undefined"!=typeof MutationObserver&&MutationObserver||"undefined"!=typeof WebKitMutationObserver&&WebKitMutationObserver}())a=function(e){var t,n=document.createTextNode("");new e(function(){var e=t;t=void 0,e()}).observe(n,{characterData:!0});var r=0;return function(e){t=e,n.data=r^=1}}(n);else if(!r){var s=e,l=s("vertx");o=function(e,t){return l.setTimer(t,e)},i=l.cancelTimer,a=l.runOnLoop||l.runOnContext}return{setTimer:o,clearTimer:i,asap:a}})}(function(t){n.exports=t(e)})},{}],22:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(){return{formatError:function(t){var n="object"==typeof t&&null!==t&&(t.stack||t.message)?t.stack||t.message:e(t);return t instanceof Error?n:n+" (WARNING: non-Error used)"},formatObject:e,tryStringify:t};function e(e){var n=String(e);return"[object Object]"===n&&"undefined"!=typeof JSON&&(n=t(e,n)),n}function t(e,t){try{return JSON.stringify(e)}catch(e){return t}}})}(function(e){t.exports=e()})},{}],23:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(){return function(t,n,r,o){return void 0===n&&(n=e),Object.keys(o).reduce(function(e,r){var i=o[r];return"function"==typeof i?n(e,t(i),r):e},void 0===r?function(e){return"function"==typeof e?e.bind():Object.create(e)}(o):r)};function e(e,t,n){return e[n]=t,e}})}(function(e){t.exports=e()})},{}],24:[function(e,n,r){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(){return function(e){var n=e.scheduler,r=function(){if(void 0!==t&&null!==t&&"function"==typeof t.emit)return function(e,n){return"unhandledRejection"===e?t.emit(e,n.value,n):t.emit(e,n)};if("undefined"!=typeof self&&function(){if("function"==typeof CustomEvent)try{var e=new CustomEvent("unhandledRejection");return e instanceof CustomEvent}catch(e){}return!1}())return function(e,t){return function(n,r){var o=new t(n,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!e.dispatchEvent(o)}}(self,CustomEvent);if("undefined"!=typeof self&&function(){if("undefined"!=typeof document&&"function"==typeof document.createEvent)try{var e=document.createEvent("CustomEvent");return e.initCustomEvent("eventType",!1,!0,{}),!0}catch(e){}return!1}())return function(e,t){return function(n,r){var o=t.createEvent("CustomEvent");return o.initCustomEvent(n,!1,!0,{reason:r.value,key:r}),!e.dispatchEvent(o)}}(self,document);return B}(),o=Object.create||function(e){function t(){}return t.prototype=e,new t};function i(e,t){this._handler=e===m?t:function(e){var t=new v;try{e(function(e){t.resolve(e)},n,function(e){t.notify(e)})}catch(e){n(e)}return t;function n(e){t.reject(e)}}(e)}function a(e){return R(e)?e:new i(m,new _(p(e)))}function s(e){return new i(m,new _(new k(e)))}function l(){return A}function u(e,t,n){for(var r,o="function"==typeof t?function(r,o,i){i.resolved||c(n,d,r,e(t,o,r),i)}:d,a=new v,s=n.length>>>0,l=new Array(s),u=0;u<n.length&&!a.resolved;++u)void 0!==(r=n[u])||u in n?c(n,o,u,r,a):--s;return 0===s&&a.become(new w(l)),new i(m,a);function d(e,t,n){l[e]=t,0==--s&&n.become(new w(l))}}function c(e,t,n,r,o){if(M(r)){var i=function(e){return R(e)?e._handler.join():h(e)}(r),a=i.state();0===a?i.fold(t,n,void 0,o):a>0?t(n,i.value,o):(o.become(i),d(e,n+1,i))}else t(n,r,o)}function d(e,t,n){for(var r=t;r<e.length;++r)f(p(e[r]),n)}function f(e,t){if(e!==t){var n=e.state();0===n?e.visit(e,void 0,e._unreport):n<0&&e._unreport()}}function p(e){return R(e)?e._handler.join():M(e)?h(e):new w(e)}function h(e){try{var t=e.then;return"function"==typeof t?new b(t,e):new w(e)}catch(e){return new k(e)}}function m(){}function g(){}i.resolve=a,i.reject=s,i.never=l,i._defer=function(){return new i(m,new v)},i._handler=p,i.prototype.then=function(e,t,n){var r=this._handler,o=r.join().state();if("function"!=typeof e&&o>0||"function"!=typeof t&&o<0)return new this.constructor(m,r);var i=this._beget(),a=i._handler;return r.chain(a,r.receiver,e,t,n),i},i.prototype.catch=function(e){return this.then(void 0,e)},i.prototype._beget=function(){return function(e,t){var n=new v(e.receiver,e.join().context);return new t(m,n)}(this._handler,this.constructor)},i.all=function(e){return u(j,null,e)},i.race=function(e){if("object"!=typeof e||null===e)return s(new TypeError("non-iterable passed to race()"));return 0===e.length?l():1===e.length?a(e[0]):function(e){var t,n,r,o=new v;for(t=0;t<e.length;++t)if(void 0!==(n=e[t])||t in e){if(0!==(r=p(n)).state()){o.become(r),d(e,t+1,r);break}r.visit(o,o.resolve,o.reject)}return new i(m,o)}(e)},i._traverse=function(e,t){return u(F,e,t)},i._visitRemaining=d,m.prototype.when=m.prototype.become=m.prototype.notify=m.prototype.fail=m.prototype._unreport=m.prototype._report=B,m.prototype._state=0,m.prototype.state=function(){return this._state},m.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},m.prototype.chain=function(e,t,n,r,o){this.when({resolver:e,receiver:t,fulfilled:n,rejected:r,progress:o})},m.prototype.visit=function(e,t,n,r){this.chain(y,e,t,n,r)},m.prototype.fold=function(e,t,n,r){this.when(new I(e,t,n,r))},N(m,g),g.prototype.become=function(e){e.fail()};var y=new g;function v(e,t){i.createContext(this,t),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function _(e){this.handler=e}function b(e,t){v.call(this),n.enqueue(new L(e,t,this))}function w(e){i.createContext(this),this.value=e}N(m,v),v.prototype._state=0,v.prototype.resolve=function(e){this.become(p(e))},v.prototype.reject=function(e){this.resolved||this.become(new k(e))},v.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if((e=e.handler)===this)return this.handler=P();return e},v.prototype.run=function(){var e=this.consumers,t=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<e.length;++n)t.when(e[n])},v.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&n.enqueue(this),void 0!==this.context&&e._report(this.context))},v.prototype.when=function(e){this.resolved?n.enqueue(new C(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},v.prototype.notify=function(e){this.resolved||n.enqueue(new O(e,this))},v.prototype.fail=function(e){var t=void 0===e?this.context:e;this.resolved&&this.handler.join().fail(t)},v.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},v.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},N(m,_),_.prototype.when=function(e){n.enqueue(new C(e,this))},_.prototype._report=function(e){this.join()._report(e)},_.prototype._unreport=function(){this.join()._unreport()},N(v,b),N(m,w),w.prototype._state=1,w.prototype.fold=function(e,t,n,r){!function(e,t,n,r,o){if("function"!=typeof e)return o.become(n);i.enterContext(n),function(e,t,n,r,o){try{e.call(r,t,n,o)}catch(e){o.become(new k(e))}}(e,t,n.value,r,o),i.exitContext()}(e,t,this,n,r)},w.prototype.when=function(e){U(e.fulfilled,this,e.receiver,e.resolver)};var E=0;function k(e){i.createContext(this),this.id=++E,this.value=e,this.handled=!1,this.reported=!1,this._report()}function S(e,t){this.rejection=e,this.context=t}function x(e){this.rejection=e}N(m,k),k.prototype._state=-1,k.prototype.fold=function(e,t,n,r){r.become(this)},k.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),U(e.rejected,this,e.receiver,e.resolver)},k.prototype._report=function(e){n.afterQueue(new S(this,e))},k.prototype._unreport=function(){this.handled||(this.handled=!0,n.afterQueue(new x(this)))},k.prototype.fail=function(e){this.reported=!0,r("unhandledRejection",this),i.onFatalRejection(this,void 0===e?this.context:e)},S.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,r("unhandledRejection",this.rejection)||i.onPotentiallyUnhandledRejection(this.rejection,this.context))},x.prototype.run=function(){this.rejection.reported&&(r("rejectionHandled",this.rejection)||i.onPotentiallyUnhandledRejectionHandled(this.rejection))},i.createContext=i.enterContext=i.exitContext=i.onPotentiallyUnhandledRejection=i.onPotentiallyUnhandledRejectionHandled=i.onFatalRejection=B;var T=new m,A=new i(m,T);function P(){return new k(new TypeError("Promise cycle"))}function C(e,t){this.continuation=e,this.handler=t}function O(e,t){this.handler=t,this.value=e}function L(e,t,n){this._then=e,this.thenable=t,this.resolver=n}function I(e,t,n,r){this.f=e,this.z=t,this.c=n,this.to=r,this.resolver=y,this.receiver=this}function R(e){return e instanceof i}function M(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function U(e,t,n,r){if("function"!=typeof e)return r.become(t);i.enterContext(t),function(e,t,n,r){try{r.become(p(e.call(n,t)))}catch(e){r.become(new k(e))}}(e,t.value,n,r),i.exitContext()}function D(e,t,n,r,o){if("function"!=typeof e)return o.notify(t);i.enterContext(n),function(e,t,n,r){try{r.notify(e.call(n,t))}catch(e){r.notify(e)}}(e,t,r,o),i.exitContext()}function F(e,t,n){try{return e(t,n)}catch(e){return s(e)}}function N(e,t){t.prototype=o(e.prototype),t.prototype.constructor=t}function j(e,t){return t}function B(){}return C.prototype.run=function(){this.handler.join().when(this.continuation)},O.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,n=0;n<e.length;++n)D((t=e[n]).progress,this.value,this.handler,t.receiver,t.resolver)},L.prototype.run=function(){var e=this.resolver;!function(e,t,n,r,o){try{e.call(t,n,r,o)}catch(e){r(e)}}(this._then,this.thenable,function(t){e.resolve(t)},function(t){e.reject(t)},function(t){e.notify(t)})},I.prototype.fulfilled=function(e){this.f.call(this.c,this.z,e,this.to)},I.prototype.rejected=function(e){this.to.reject(e)},I.prototype.progress=function(e){this.to.notify(e)},i}})}(function(e){n.exports=e()})},{}],25:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(){return{pending:e,fulfilled:n,rejected:t,inspect:function(r){var o=r.state();return 0===o?e():o>0?n(r.value):t(r.value)}};function e(){return{state:"pending"}}function t(e){return{state:"rejected",reason:e}}function n(e){return{state:"fulfilled",value:e}}})}(function(e){t.exports=e()})},{}],26:[function(e,t,n){
/** @license MIT License (c) copyright 2013 original author or authors */
!function(e){e(function(e){var t=e("./when"),n=e("./lib/liftAll"),r=e("./lib/env").setTimer,o=Array.prototype.slice,i=e("./lib/apply")(t.Promise,function(e,t,n,r){var o=s(r);try{switch(n.length){case 2:e.call(t,n[0],n[1],o);break;case 1:e.call(t,n[0],o);break;case 0:e.call(t,o);break;default:n.push(o),e.apply(t,n)}}catch(e){r.reject(e)}});return{lift:a,liftAll:function(e,t,r){return n(a,t,r,e)},apply:function(e,t){return i(e,this,t||[])},call:function(e){return i(e,this,o.call(arguments,1))},createCallback:s,bindCallback:l,liftCallback:function(e){return function(t){return l(t,e)}}};function a(e){var t=arguments.length>1?o.call(arguments,1):[];return function(){var n,r=t.length,o=arguments.length,a=new Array(o+r);for(n=0;n<r;++n)a[n]=t[n];for(n=0;n<o;++n)a[n+r]=arguments[n];return i(e,this,a)}}function s(e){return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(o.call(arguments,1)):e.resolve(n)}}function l(e,n){return e=t(e),n&&e.then(function(e){o(null,e)},o),e;function o(e,t){r(function(){n(e,t)},0)}}})}(function(n){t.exports=n(e)})},{"./lib/apply":11,"./lib/env":21,"./lib/liftAll":23,"./when":32}],27:[function(e,t,n){
/** @license MIT License (c) copyright 2011-2013 original author or authors */
!function(e){e(function(e){var t=e("./when"),n=t.Promise.all,r=Array.prototype.slice;return function(e){return n(r.call(arguments,1)).then(function(n){return t.map(e,function(e){return e.apply(void 0,n)})})}})}(function(n){t.exports=n(e)})},{"./when":32}],28:[function(e,t,n){
/** @license MIT License (c) copyright 2011-2013 original author or authors */
!function(e){e(function(e){var t=e("./when"),n=t.Promise.all,r=Array.prototype.slice;return function(e){var o=function(e,t){return o=function(e,t){return t(e)},t.apply(null,e)};return n(r.call(arguments,1)).then(function(n){return t.reduce(e,function(e,t){return o(e,t)},n)})}})}(function(n){t.exports=n(e)})},{"./when":32}],29:[function(e,t,n){
/** @license MIT License (c) copyright 2012-2013 original author or authors */
!function(e){"use strict";e(function(e){var t=e("./when"),n=t.try,r=e("./cancelable");return function(e,o,i,a){var s,l,u;function c(e){n(o).then(d,u),void 0!==e&&s.notify(e)}function d(){l||t(e(),function(e){t(i(e),function(t){return t?function(e){s.resolve(e)}(e):c(e)},function(){c(e)})},u)}return l=!1,s=r(t.defer(),function(){l=!0}),u=s.reject,i=i||function(){return!1},"function"!=typeof o&&(o=function(e){return function(){return t().delay(e)}}(o)),a?c():d(),s.promise=Object.create(s.promise),s.promise.cancel=s.cancel,s.promise}})}(function(n){t.exports=n(e)})},{"./cancelable":3,"./when":32}],30:[function(e,t,n){
/** @license MIT License (c) copyright 2011-2013 original author or authors */
!function(e){e(function(e){var t=e("./when"),n=t.Promise.all,r=Array.prototype.slice;return function(e){var o=[];return n(r.call(arguments,1)).then(function(n){return t.reduce(e,function(e,r){return t(r.apply(void 0,n),i)},o)});function i(e){return o.push(e),o}}})}(function(n){t.exports=n(e)})},{"./when":32}],31:[function(e,t,n){
/** @license MIT License (c) copyright 2011-2013 original author or authors */
!function(e){e(function(e){var t=e("./when");return function(e,n){return t(n).timeout(e)}})}(function(n){t.exports=n(e)})},{"./when":32}],32:[function(e,t,n){
/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(e){"use strict";e(function(e){var t=e("./lib/decorators/timed"),n=e("./lib/decorators/array"),r=e("./lib/decorators/flow"),o=e("./lib/decorators/fold"),i=e("./lib/decorators/inspect"),a=e("./lib/decorators/iterate"),s=e("./lib/decorators/progress"),l=e("./lib/decorators/with"),u=e("./lib/decorators/unhandledRejection"),c=e("./lib/TimeoutError"),d=[n,r,o,a,s,i,l,t,u].reduce(function(e,t){return t(e)},e("./lib/Promise")),f=e("./lib/apply")(d);function p(e,t,n,r){var o=d.resolve(e);return arguments.length<2?o:o.then(t,n,r)}function h(e){return function(){for(var t=0,n=arguments.length,r=new Array(n);t<n;++t)r[t]=arguments[t];return f(e,this,r)}}function m(e){for(var t=0,n=arguments.length-1,r=new Array(n);t<n;++t)r[t]=arguments[t+1];return f(e,this,r)}return p.promise=function(e){return new d(e)},p.resolve=d.resolve,p.reject=d.reject,p.lift=h,p.try=m,p.attempt=m,p.iterate=d.iterate,p.unfold=d.unfold,p.join=function(){return d.all(arguments)},p.all=function(e){return p(e,d.all)},p.settle=function(e){return p(e,d.settle)},p.any=h(d.any),p.some=h(d.some),p.race=h(d.race),p.map=function(e,t){return p(e,function(e){return d.map(e,t)})},p.filter=function(e,t){return p(e,function(e){return d.filter(e,t)})},p.reduce=h(d.reduce),p.reduceRight=h(d.reduceRight),p.isPromiseLike=function(e){return e&&"function"==typeof e.then},p.Promise=d,p.defer=function(){return new function(){var e=d._defer();function t(t){e._handler.resolve(t)}function n(t){e._handler.reject(t)}function r(t){e._handler.notify(t)}this.promise=e,this.resolve=t,this.reject=n,this.notify=r,this.resolver={resolve:t,reject:n,notify:r}}},p.TimeoutError=c,p})}(function(n){t.exports=n(e)})},{"./lib/Promise":8,"./lib/TimeoutError":10,"./lib/apply":11,"./lib/decorators/array":12,"./lib/decorators/flow":13,"./lib/decorators/fold":14,"./lib/decorators/inspect":15,"./lib/decorators/iterate":16,"./lib/decorators/progress":17,"./lib/decorators/timed":18,"./lib/decorators/unhandledRejection":19,"./lib/decorators/with":20}]},{},[1])(1)}()}()}).call(this,n(46))},function(e,t,n){"use strict";const r=n(9),o=n(194),i=n(193),a="main";function s(e,t,n,r,o){if(!(this instanceof s))return new s(e,t,n,r);if(!(e&&t&&n&&r))throw new TypeError("Missing parameters for Player");this._getTime=o&&o.getTime||function(){return(new Date).getTime()},this._id=o&&o.playerId||a,this._referrerIdentifier=o&&o.referrerIdentifier,this._resolver=e,this._viewUri=t,this._featureId=n,this._featureVersion=r}s.Actions={PROBE_PLAY:"probe_play",PLAY:"play",SESSION:"session",STOP:"stop",UPDATE:"update",PAUSE:"pause",RESUME:"resume",SKIP_NEXT:"skip_next",SKIP_PREV:"skip_prev",SHUFFLE:"set_shuffling_context",REPEAT_CONTEXT:"set_repeating_context",REPEAT_TRACK:"set_repeating_track",SEEK_TO:"seek_to"},s.prototype._playOrPrepareOrProbe=function(e,t,n,r){if(!t)throw new TypeError("Invalid `context` object");n instanceof Function&&!r&&(r=n,n=null);const o={};return o.context=t,o.play_origin=this._makePlayOrigin(),o.options=n,this._sendRequestWithParams(e,o,r)},s.prototype.addToQueue=function(e,t){if(!e)throw new TypeError("Invalid `track` object");return this._sendRequestWithParams("add_to_queue",{track:e},t)},s.prototype.probePlay=function(e,t,n){return this._playOrPrepareOrProbe(s.Actions.PROBE_PLAY,e,t,n)},s.prototype.play=function(e,t,n){return this._playOrPrepareOrProbe(s.Actions.PLAY,e,t,n)},s.prototype.preparePlay=function(e,t){const n=o.call(this._playOrPrepareOrProbe.bind(this),s.Actions.SESSION,e,t);return new i.Play(this._resolver,n,this,this._getTime,e,t)},s.prototype.stop=function(e){return this._sendRequestWithAction(s.Actions.STOP,e)},s.prototype.update=function(e,t){if(!e)throw new TypeError("Invalid `context` object");const n={context:e};return this._sendRequestWithParams(s.Actions.UPDATE,n,t)},s.prototype.resume=function(e){return this._sendRequestWithAction(s.Actions.RESUME,e)},s.prototype.pause=function(e){return this._sendRequestWithAction(s.Actions.PAUSE,e)},s.prototype.skipToPrevTrack=function(e,t){1===arguments.length&&"function"==typeof e&&(t=e,e=null);const n={};return e&&(n.options=e),this._sendRequestWithParams(s.Actions.SKIP_PREV,n,t)},s.prototype.skipToNextTrack=function(e,t){1===arguments.length&&"function"==typeof e&&(t=e,e=null);const n={};return e&&(n.options=e),this._sendRequestWithParams(s.Actions.SKIP_NEXT,n,t)},s.prototype.skipToSpecificPrevTrack=function(e,t){return this._sendRequestWithParams(s.Actions.SKIP_PREV,{track:e},t)},s.prototype.skipToSpecificNextTrack=function(e,t){return this._sendRequestWithParams(s.Actions.SKIP_NEXT,{track:e},t)},s.prototype.skipToPrev=s.prototype.skipToPrevTrack,s.prototype.skipToNext=s.prototype.skipToNextTrack,s.prototype.setShufflingContext=function(e,t){return this._sendRequestWithParam(s.Actions.SHUFFLE,e,t)},s.prototype.setRepeatingContext=function(e,t){return this._sendRequestWithParam(s.Actions.REPEAT_CONTEXT,e,t)},s.prototype.setRepeatingTrack=function(e,t){return this._sendRequestWithParam(s.Actions.REPEAT_TRACK,e,t)},s.prototype.seekTo=function(e,t){return this._sendRequestWithParam(s.Actions.SEEK_TO,e,t)},s.prototype.save=function(e){const t=`${this.getPlayerEndpointUri()}/snapshot`,n=new r.Request(r.Action.GET,t);return this._resolver.resolve(n,e)},s.prototype.restore=function(e,t){const n=`${this.getPlayerEndpointUri()}/snapshot`,o=new r.Request(r.Action.PUT,n,null,e);return this._resolver.resolve(o,t)},s.prototype.getQueue=function(e){const t=`${this.getPlayerEndpointUri()}/queue`,n=new r.Request(r.Action.GET,t);return this._resolver.resolve(n,e)},s.prototype.setQueue=function(e,t){const n=`${this.getPlayerEndpointUri()}/queue`,o=new r.Request(r.Action.PUT,n,null,e);return this._resolver.resolve(o,t)},s.prototype.subscribeToQueue=function(e){const t=new r.Request(r.Action.SUB,`${this.getPlayerEndpointUri()}/queue`);return this._resolver.resolve(t,e)},s.prototype.getState=function(e,t){const n=new r.Request(r.Action.GET,this.getPlayerEndpointUriWithParams(t));return this._resolver.resolve(n,e)},s.prototype.subscribe=function(e,t){const n=new r.Request(r.Action.SUB,this.getPlayerEndpointUriWithParams(t));return this._resolver.resolve(n,e)},s.prototype.onError=function(e){const t=new r.Request(r.Action.SUB,`${this.getPlayerEndpointUri()}/error`);return this._resolver.resolve(t,e)},s.prototype._makePlayOrigin=function(){return{view_uri:this._viewUri,feature_identifier:this._featureId,feature_version:this._featureVersion,referrer_identifier:this._referrerIdentifier}},s.prototype.getPlayerEndpointUri=function(){return"sp://player/v2/"+this._id},s.prototype.getPlayerEndpointUriWithParams=function(e={}){const t=Object.keys(e).reduce(function(t,n){return t.push(`${n}=${encodeURIComponent(e[n])}`),t},[]);return t.length>0?`${this.getPlayerEndpointUri()}?${t.join("&")}`:this.getPlayerEndpointUri()},s.prototype._sendRequestWithAction=function(e,t){return this._sendRequestWithParams(e,null,t)},s.prototype._sendRequestWithParam=function(e,t,n){const r={value:t};return this._sendRequestWithParams(e,r,n)},s.prototype._sendRequestWithParams=function(e,t,n){const o=`${this.getPlayerEndpointUri()}/${e}`,i=t||{};i.logging_params={command_initiated_time:this._getTime()};const a=new r.Request(r.Action.POST,o,null,i);return this._resolver.resolve(a,n)},t.Player=s},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n.r(t),n.d(t,"createStore",function(){return l}),n.d(t,"combineReducers",function(){return c}),n.d(t,"bindActionCreators",function(){return f}),n.d(t,"applyMiddleware",function(){return h}),n.d(t,"compose",function(){return p}),n.d(t,"__DO_NOT_USE__ActionTypes",function(){return o});var r=n(121),o={INIT:"@@redux/INIT"+Math.random().toString(36).substring(7).split("").join("."),REPLACE:"@@redux/REPLACE"+Math.random().toString(36).substring(7).split("").join(".")},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function s(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function l(e,t,n){var a;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(l)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,d=[],f=d,p=!1;function h(){f===d&&(f=d.slice())}function m(){if(p)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function g(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(p)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return h(),f.push(e),function(){if(t){if(p)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,h();var n=f.indexOf(e);f.splice(n,1)}}}function y(e){if(!s(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,c=u(c,e)}finally{p=!1}for(var t=d=f,n=0;n<t.length;n++){(0,t[n])()}return e}return y({type:o.INIT}),(a={dispatch:y,subscribe:g,getState:m,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,y({type:o.REPLACE})}})[r.a]=function(){var e,t=g;return(e={subscribe:function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e},a}function u(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var a=Object.keys(n);var s=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){s=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(s)throw s;for(var r=!1,o={},i=0;i<a.length;i++){var l=a[i],c=n[l],d=e[l],f=c(d,t);if(void 0===f){var p=u(l,t);throw new Error(p)}o[l]=f,r=r||f!==d}return r?o:e}}function d(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"==typeof e)return d(e,t);if("object"!==(void 0===e?"undefined":i(e))||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":void 0===e?"undefined":i(e))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var a=n[o],s=e[a];"function"==typeof s&&(r[a]=d(s,t))}return r}function p(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function h(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=e.apply(void 0,r),s=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},l={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},u=t.map(function(e){return e(l)});return s=p.apply(void 0,u)(i.dispatch),a({},i,{dispatch:s})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._setPlayerThrottleTime=t._destroy=t.subscribeToClientState=t.getClientState=t.initClientState=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(654),i=h(n(22)),a=h(n(13)),s=h(n(6)),l=n(197),u=n(196),c=h(n(9)),d=n(195),f=n(27),p=h(n(116));function h(e){return e&&e.__esModule?e:{default:e}}t.initClientState=function(){if(x)return;x=!0,v("init"),_=(0,o.createStore)((e={},t)=>r({},e,t.updates),g),function(){_.subscribe(A),i.default.addEventListener(a.default.NAVIGATION_STATE_CHANGE,P),(0,l.subscribeToFocusChange)(C),(0,u.subscribeToActivity)(m,O),(b=new d.Player(c.default.resolver,"spotify:app:zlink","zlink","0.1.0")).subscribe(L),(0,f.messageProxy)({method:"REPLY",uri:"client-state"},(e,t)=>{t(null,{state:T()})})}()},t.getClientState=T,t.subscribeToClientState=function(e,t){const n="function"==typeof e?e:t;k.includes(n)||(Array.isArray(e)?k.push({fn:n,keys:e}):k.push({fn:n,keys:"all"}));return function(e){let t=-1;k.some((n,r)=>n.fn===e&&(t=r,!0)),-1!==t&&k.splice(t,1)}.bind(null,n)},t._destroy=function(){_="",E=r({},g),b=null,k=[],function(){i.default.removeEventListener(a.default.NAVIGATION_STATE_CHANGE,P)}(),x=!1},t._setPlayerThrottleTime=function(e){S=e};const m=18e4,g={current_app_uri:"spotify:app:browse",focus:!0,is_paused:!1,is_playing:!1,ad_playing:!1,video_playing:!1,context_uri:"",user_active:!0,session_uuid:p.default.create().toString()},y={context_uri:R,is_playing:R,is_paused:R,ad_playing:function(e,t,n,r){const o=n.track&&n.track.metadata&&"true"===n.track.metadata.is_advertisement;r[e]!==o&&(t[e]=o);return t},video_playing:function(e,t,n,r){const o=n.track&&n.track.metadata&&"video"===n.track.metadata["media.type"];r[e]!==o&&(t[e]=o);return t}};!function(e,t){const n=Object.keys(e);if(Object.keys(t).some(e=>!n.includes(e)))throw new Error("Uh oh. Found an unexpected state key. Forget to add it to INITIAL_STATE?")}(g,y);const v=(0,s.default)("client-state:state");let _,b,w,E=r({},g),k=[],S=200,x=!1;function T(){return _.getState()}function A(){const e=_.getState(),t=[],n={};Object.keys(e).forEach(r=>{E[r]!==e[r]&&(t.push(r),n[r]=e[r])}),k.forEach(e=>{("all"===e.keys||function(e,t){return e.some(e=>t.includes(e))}(e.keys,t))&&e.fn(n)}),(0,f.messageProxy)({method:"POST",uri:"client-state",body:{state:e}}),E=e,v("_onStoreDispatch. new state:",e,"changed-keys:",t)}function P(e){I({current_app_uri:e.params.uri})}function C(e){I({focus:e})}function O(e){_.getState().user_active!==e&&I({user_active:e})}function L(e,t){!e&&t&&(clearTimeout(w),w=setTimeout(()=>{const e=t.getJSONBody(),n=_.getState(),r=Object.keys(y).reduce((t,r)=>y[r](r,t,e,n),{});Object.keys(r).length&&I(r)},S))}function I(e){_.dispatch({type:"",updates:e})}function R(e,t,n,r){return n.hasOwnProperty(e)&&r[e]!==n[e]&&(t[e]=n[e]),t}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.startAdStateReporter=t.stopFocusTargetingUpdater=t.startFocusTargetingUpdater=t.SponsoredPlaylistAd=t.AudioCompanionAd=t.VideoTakeoverAd=t.hptoProvider=t.HptoAd=t.LeaderboardAd=t.BillboardAdFlashpoint=t.BillboardAd=void 0;var r=n(198);Object.defineProperty(t,"BillboardAd",{enumerable:!0,get:function(){return y(r).default}});var o=n(560);Object.defineProperty(t,"BillboardAdFlashpoint",{enumerable:!0,get:function(){return y(o).default}});var i=n(559);Object.defineProperty(t,"LeaderboardAd",{enumerable:!0,get:function(){return y(i).default}});var a=n(555);Object.defineProperty(t,"HptoAd",{enumerable:!0,get:function(){return y(a).default}});var s=n(174);Object.defineProperty(t,"hptoProvider",{enumerable:!0,get:function(){return y(s).default}});var l=n(525);Object.defineProperty(t,"VideoTakeoverAd",{enumerable:!0,get:function(){return y(l).default}});var u=n(513);Object.defineProperty(t,"AudioCompanionAd",{enumerable:!0,get:function(){return y(u).default}});var c=n(512);Object.defineProperty(t,"SponsoredPlaylistAd",{enumerable:!0,get:function(){return y(c).default}});var d=n(510);Object.defineProperty(t,"startFocusTargetingUpdater",{enumerable:!0,get:function(){return d.start}}),Object.defineProperty(t,"stopFocusTargetingUpdater",{enumerable:!0,get:function(){return d.stop}});var f=n(509);Object.defineProperty(t,"startAdStateReporter",{enumerable:!0,get:function(){return f.start}});var p=y(n(177)),h=y(n(167)),m=y(n(60)),g=y(n(492));function y(e){return e&&e.__esModule?e:{default:e}}const v=m.default.glueStrings(),_=m.default.appStrings();h.default.loc.register(v),h.default.loc.register(_),p.default.setSpotlightSvg(n(487)),e.Ads=g.default}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(656);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},function(e,t,n){(function(t){var r=n(35),o=n(118),i=n(19);e.exports=function(e,n){var a,s,l,u,c;for(r.function(e),r.object(n),o(a=function(){var e;for(e in n)this[e]=n[e]},e),a.create=function(){var e;return e=t.Object.create(a.prototype),a.apply(e,arguments),e},s=e.prototype;null!=s&&s!==t.Object.prototype;){for(l=t.Object.getOwnPropertyNames(s),u=0;u<l.length;u++)"constructor"!==(c=l[u])&&i.function(s[c])&&(i.function(n[c])?a.prototype[c]=n[c]:a.prototype[c]=function(e){return function(){throw new t.Error('Method stub "'+e+'" called!')}}(c));s=t.Object.getPrototypeOf(s)}return a}}).call(this,n(1))},function(e,t,n){(function(t){var r=n(35);e.exports=function(e){return r.array(e),function(){e.push({caller:this,arguments:t.Array.prototype.slice.call(arguments)})}}}).call(this,n(1))},function(e,t,n){(function(t){var r=n(35),o=n(118),i=n(19);e.exports=function(e,n){var a,s,l,u;if(r.function(e),o(a=function(){e.apply(this,arguments)},e),a.create=function(){var e;return e=t.Object.create(a.prototype),a.apply(e,arguments),e},null!=n)for(r.object(n),s=t.Object.getOwnPropertyNames(n),l=0;l<s.length;l++)if("constructor"!==(u=s[l])&&i.function(n[u])){if(!i.function(e.prototype[u]))throw new t.Error('Method "'+u+"\" doesn't override any method defined on the base class!");a.prototype[u]=n[u]}return a}}).call(this,n(1))},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var r=n(19);t.array=function(e,t){return r.array(e)?e:t},t.boolean=function(e,t){return r.boolean(e)?e:t},t.function=function(e,t){return r.function(e)?e:t},t.null=function(e,t){return r.null(e)?e:t},t.number=function(e,t){return r.number(e)?e:t},t.object=function(e,t){return r.object(e)?e:t},t.string=function(e,t){return r.string(e)?e:t},t.type=function(e,t,n){return r.type(e,t)?e:n},t.undefined=function(e,t){return r.undefined(e)?e:t}},function(e,t,n){var r=n(19),o=(n(81),function(e,t){var n,i,a;if(r.array(e)){if(!r.array(t))return!1;if(e.length!==t.length)return!1;for(n=0,a=e.length;n<a;n++)if(!o(e[n],t[n]))return!1;return!0}if(r.boolean(e))return!!r.boolean(t)&&e.valueOf()===t.valueOf();if(r.null(e))return!!r.null(t);if(r.number(e))return!!r.number(t)&&e.valueOf()===t.valueOf();if(r.object(e)){if(!r.object(t))return!1;for(i in e){if(!(i in t))return!1;if(!o(e[i],t[i]))return!1}for(i in t)if(!(i in e))return!1;return!0}return r.string(e)?!!r.string(t)&&e.valueOf()===t.valueOf():r.undefined(e)?!!r.undefined(t):e===t});e.exports=o},function(e,t,n){(function(t){var r=n(35);e.exports=function(e){r.function(e),e.prototype=t.Object.create(null),e.prototype.constructor=e}}).call(this,n(1))},function(e,t,n){var r=n(19),o=function(e,t,n,i){var a,s,l,u,c;if(r.boolean(n)||(n=!1),r.string(i)||(i="root"),r.array(t)){if(r.array(e)){if(0===t.length)return!0;if(1!==t.length)return n&&console.warn(i+": expected an array with exactly one element in the schema but found "+t.length+" elements"),!1;for(l=!0,a=0,s=e.length;a<s;a++)o(e[a],t[0],n,i+"["+a+"]")||(l=!1);return l}return n&&console.warn(i+": expected an array but found",e),!1}if(r.boolean(t))return!!r.boolean(e)||(n&&console.warn(i+": expected a boolean but found",e),!1);if(r.number(t))return!!r.number(e)||(n&&console.warn(i+": expected a number but found",e),!1);if(r.object(t)){if(r.object(e)){for(u in l=!0,t)null===(c=/^([^?]+)\?$/.exec(u))?o(e[u],t[u],n,i+"."+u)||(l=!1):null!=e[c[1]]&&(o(e[c[1]],t[u],n,i+"."+u)||(l=!1));return l}return n&&console.warn(i+": expected an object but found",e),!1}return r.string(t)?!!r.string(e)||(n&&console.warn(i+": expected a string but found",e),!1):(n&&console.warn(i+": expected a supported type in the schema but found",t),!1)};e.exports=o},function(e,t,n){(function(t){var r=n(19),o=n(81),i=function(e){var n,a,s,l,u;if(r.array(e)){for(n=[],a=0,l=e.length;a<l;a++)n[a]=i(e[a]);return n}if(r.boolean(e))return e;if(r.null(e))return e;if(r.number(e))return e;if(r.object(e)){for(s in u={},e)u[s]=i(e[s]);return u}if(r.string(e))return e;if(r.undefined(e))return e;throw new t.TypeError('Unexpected type "'+o(e)+'"!')};e.exports=i}).call(this,n(1))},function(e,t,n){(function(t){var r=n(35),o=n(199),i=function(e,n){var r;if(null!==(r=o(e,n,"")))throw new t.Error(r)};i.throws=function(e,t,n){var o;r.function(t),r.array(n),o=new Error("Expected an error to be thrown!");try{throw t.apply(e,n),o}catch(e){if(e===o)throw o}},e.exports=i}).call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwitchableBackend=t.LocalhostBackend=t.CosmosBackend=t.Backend=void 0;var r=s(n(45)),o=s(n(80)),i=s(n(92)),a=s(n(141));function s(e){return e&&e.__esModule?e:{default:e}}t.Backend=r.default,t.CosmosBackend=o.default,t.LocalhostBackend=i.default,t.SwitchableBackend=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewParser=t.ServiceRouter=t.Runner=t.Placeholder=t.InteractionHandler=t.EventListener=t.EventDispatcher=t.Environment=t.DocumentFragment=t.ConfigurationState=t.Configuration=t.ApplicationContext=t.Application=t.views=t.utils=t.services=t.modular=t.backends=void 0;var r=E(n(668)),o=E(n(343)),i=E(n(210)),a=E(n(209)),s=E(n(63)),l=w(n(82)),u=w(n(122)),c=w(n(16)),d=w(n(49)),f=w(n(139)),p=w(n(23)),h=w(n(36)),m=w(n(64)),g=w(n(137)),y=w(n(130)),v=w(n(208)),_=w(n(47)),b=w(n(48));function w(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.backends=r,t.modular=o,t.services=i,t.utils=a,t.views=s,t.Application=l.default,t.ApplicationContext=u.default,t.Configuration=c.default,t.ConfigurationState=d.default,t.DocumentFragment=f.default,t.Environment=p.default,t.EventDispatcher=h.default,t.EventListener=m.default,t.InteractionHandler=g.default,t.Placeholder=y.default,t.Runner=v.default,t.ServiceRouter=_.default,t.ViewParser=b.default},function(e,t,n){"use strict";e.exports=n(669)},function(e){e.exports={"unit-test":{GET:["key1"],POST:["key2"],REPLY:["key3"]},"client-state":{SUB:[],POST:["state"],GET:[],REPLY:["state"]},history:{GET:["count"],REPLY:["history"]},hpto:{REPLY:["ad"],GET:[]},"hpto-refresh":{SUB:[],POST:[]},station:{GET:["stationUri","metadata","trackCount"],REPLY:["stationUri","station"]},"station-add":{POST:["stationUri","add"]},"station-autoplay":{POST:["contextUri","playerPlaybackId","prevTracks"],SUB:[]},"station-create":{POST:["stationUri"],SUB:[]},"station-error":{POST:["stationUri","message"],SUB:[]},"station-metadata":{POST:["stationUri","metadata"]},"station-last-played":{POST:["stationUri"]},"station-thumb":{POST:["stationUri","trackUri","thumb"]},"station-heart":{POST:["stationUri","trackUri"]},"station-undo-feedback":{POST:["stationUri","trackUri","thumbAction"]},"stations-all":{GET:[],REPLY:["user_stations","genre_stations","recommended_stations"]},"stations-saved":{GET:[],REPLY:["saved_stations"]},"format-list-heart":{POST:["entityUri","trackUri"]},"format-list-undo-feedback":{POST:["entityUri","trackUri"]}}},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=365.25*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?function(e){return s(e,i,"day")||s(e,o,"hour")||s(e,r,"minute")||s(e,n,"second")||e+" ms"}(e):function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,o=+new Date,i=o-(n||o);e.diff=i,e.prev=n,e.curr=o,n=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;l++;var o=t.formatters[r];if("function"==typeof o){var i=a[l];n=o.call(e,i),a.splice(l,1),l--}return n}),t.formatArgs.call(e,a),(r.log||t.log||console.log.bind(console)).apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=o,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function o(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var i=t.instances[n];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(672),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){(function(r){function o(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(673)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(i=++o)}),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=o,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(o())}).call(this,n(46))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=t.hasFlag=(t=>!!(e.__spotify&&e.__spotify.product_state&&e.__spotify.product_state.hasOwnProperty(t)));t.hasValue=((t,r)=>n(t)&&e.__spotify.product_state[t]===r)}).call(this,n(1))},function(e,t){t.parse=JSON.parse,t.stringify=JSON.stringify},function(e,t,n){var r="undefined"!=typeof JSON?JSON:n(676);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n=t.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var a="boolean"==typeof t.cycles&&t.cycles,s=t.replacer||function(e,t){return t},l=t.cmp&&function(e){return function(t){return function(n,r){var o={key:n,value:t[n]},i={key:r,value:t[r]};return e(o,i)}}}(t.cmp),u=[];return function e(t,c,d,f){var p=n?"\n"+new Array(f+1).join(n):"",h=n?": ":":";if(d&&d.toJSON&&"function"==typeof d.toJSON&&(d=d.toJSON()),void 0!==(d=s.call(t,c,d))){if("object"!=typeof d||null===d)return r.stringify(d);if(o(d)){for(var m=[],g=0;g<d.length;g++){var y=e(d,g,d[g],f+1)||r.stringify(null);m.push(p+n+y)}return"["+m.join(",")+p+"]"}if(-1!==u.indexOf(d)){if(a)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}u.push(d);var v=i(d).sort(l&&l(d));for(m=[],g=0;g<v.length;g++){var _=e(d,c=v[g],d[c],f+1);if(_){var b=r.stringify(c)+h+_;m.push(p+n+b)}}return u.splice(u.indexOf(d),1),"{"+m.join(",")+p+"}"}}({"":e},"",e,0)};var o=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},i=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in e)t.call(e,r)&&n.push(r);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NullResolver=t.Resolver=void 0;var r=n(202),o=n(200);t.Resolver=class{constructor(e){if(!e||"function"!=typeof e.executeRequest)throw new TypeError("Missing or invalid `bridge` parameter");this._bridge=e,this._requestId=1e6}resolve(e,t){return this._resolve(e,t)}get(e,t){return this._resolveFromParams(r.Action.GET,e,t)}post(e,t){return this._resolveFromParams(r.Action.POST,e,t)}subscribe(e,t){return this._resolveFromParams(r.Action.SUB,e,t)}put(e,t){return this._resolveFromParams(r.Action.PUT,e,t)}patch(e,t){return this._resolveFromParams(r.Action.PATCH,e,t)}delete(e,t){return this._resolveFromParams(r.Action.DELETE,e,t)}_sendRequest(e,t,n){return new Promise((r,o)=>{const i=JSON.stringify({name:e,args:[t,n]});this._bridge.executeRequest(i,{onSuccess:e=>{r(JSON.parse(e))},onFailure:e=>{o(JSON.parse(e))}})})}_parseResponse(e,t){const n=o.Response.fromObject(t);if(null===n)throw new Error(`Failed to parse response: ${t}`);const r=n.getStatusCode();if(!function(e){return e>=200&&e<=299}(r)){const t=new Error(`Request to ${e.getURI()} failed with status code ${r}`);throw t.response=n,t}return n}async _createRequestAsync(e,t){const n=t.toJSON(),r=await this._sendRequest("cosmos_request_create",e,n);return this._parseResponse(t,r)}async _pullRequestAsync(e,t){const n=await this._sendRequest("cosmos_request_pull",e,{uri:t.getURI()});return this._parseResponse(t,n)}async _cancelRequestAsync(e){await this._sendRequest("cosmos_request_cancel",e)}_doResolve(e,t){const n=++this._requestId,r={isCancelled:!1};return this._createRequestAsync(n,e).then(e=>{r.isCancelled||t(null,e),this._cancelRequestAsync(n)}).catch(e=>{r.isCancelled||t(e,e.response||null)}),{cancel:()=>{r.isCancelled=!0,this._cancelRequestAsync(n)}}}_doSubscribe(e,t){const n=++this._requestId,r={isCancelled:!1},o=()=>r.isCancelled?Promise.resolve():this._pullRequestAsync(n,e).then(e=>{r.isCancelled||t(null,e)}).then(o);return this._createRequestAsync(n,e).then(e=>(r.isCancelled||t(null,e),o())).catch(e=>{r.isCancelled||t(e,e.response||null)}),{cancel:()=>{r.isCancelled=!0,this._cancelRequestAsync(n)}}}_resolve(e,t){const n="function"==typeof t?t:()=>{};return e.getAction()===r.Action.SUB?this._doSubscribe(e,n):this._doResolve(e,n)}_resolveFromParams(e,t,n){const o=t||{},i="string"==typeof o?o:o.url,a=o.headers,s=o.body,l=new r.Request(e,i,a,s);return this._resolve(l,n)}};t.NullResolver=class{resolve(){return{cancel:()=>{}}}get(){return{cancel:()=>{}}}post(){return{cancel:()=>{}}}subscribe(){return{cancel:()=>{}}}put(){return{cancel:()=>{}}}patch(){return{cancel:()=>{}}}delete(){return{cancel:()=>{}}}}},function(e,t,n){var r=n(120);e.exports={wrapMethod:function(e,t,n){var o=e[t],i=e;if(t in e){var a="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),s=r.safeJoin(e," "),l={level:a,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(s="Assertion failed: "+(r.safeJoin(e.slice(1)," ")||"console.assert"),l.extra.arguments=e.slice(1),n&&n(s,l)):n&&n(s,l),o&&Function.prototype.apply.call(o,i,e)}}}}},function(e,t){function n(e){this.name="RavenConfigError",this.message=e}n.prototype=new Error,n.prototype.constructor=n,e.exports=n},function(e,t){function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,r,o,i,a){return n(function(e,t){return e<<t|e>>>32-t}(n(n(t,e),n(o,a)),i),r)}function o(e,t,n,o,i,a,s){return r(t&n|~t&o,e,t,i,a,s)}function i(e,t,n,o,i,a,s){return r(t&o|n&~o,e,t,i,a,s)}function a(e,t,n,o,i,a,s){return r(t^n^o,e,t,i,a,s)}function s(e,t,n,o,i,a,s){return r(n^(t|~o),e,t,i,a,s)}function l(e,t){var r,l,u,c,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var f=1732584193,p=-271733879,h=-1732584194,m=271733878;for(r=0;r<e.length;r+=16)l=f,u=p,c=h,d=m,p=s(p=s(p=s(p=s(p=a(p=a(p=a(p=a(p=i(p=i(p=i(p=i(p=o(p=o(p=o(p=o(p,h=o(h,m=o(m,f=o(f,p,h,m,e[r],7,-680876936),p,h,e[r+1],12,-389564586),f,p,e[r+2],17,606105819),m,f,e[r+3],22,-1044525330),h=o(h,m=o(m,f=o(f,p,h,m,e[r+4],7,-176418897),p,h,e[r+5],12,1200080426),f,p,e[r+6],17,-1473231341),m,f,e[r+7],22,-45705983),h=o(h,m=o(m,f=o(f,p,h,m,e[r+8],7,1770035416),p,h,e[r+9],12,-1958414417),f,p,e[r+10],17,-42063),m,f,e[r+11],22,-1990404162),h=o(h,m=o(m,f=o(f,p,h,m,e[r+12],7,1804603682),p,h,e[r+13],12,-40341101),f,p,e[r+14],17,-1502002290),m,f,e[r+15],22,1236535329),h=i(h,m=i(m,f=i(f,p,h,m,e[r+1],5,-165796510),p,h,e[r+6],9,-1069501632),f,p,e[r+11],14,643717713),m,f,e[r],20,-373897302),h=i(h,m=i(m,f=i(f,p,h,m,e[r+5],5,-701558691),p,h,e[r+10],9,38016083),f,p,e[r+15],14,-660478335),m,f,e[r+4],20,-405537848),h=i(h,m=i(m,f=i(f,p,h,m,e[r+9],5,568446438),p,h,e[r+14],9,-1019803690),f,p,e[r+3],14,-187363961),m,f,e[r+8],20,1163531501),h=i(h,m=i(m,f=i(f,p,h,m,e[r+13],5,-1444681467),p,h,e[r+2],9,-51403784),f,p,e[r+7],14,1735328473),m,f,e[r+12],20,-1926607734),h=a(h,m=a(m,f=a(f,p,h,m,e[r+5],4,-378558),p,h,e[r+8],11,-2022574463),f,p,e[r+11],16,1839030562),m,f,e[r+14],23,-35309556),h=a(h,m=a(m,f=a(f,p,h,m,e[r+1],4,-1530992060),p,h,e[r+4],11,1272893353),f,p,e[r+7],16,-155497632),m,f,e[r+10],23,-1094730640),h=a(h,m=a(m,f=a(f,p,h,m,e[r+13],4,681279174),p,h,e[r],11,-358537222),f,p,e[r+3],16,-722521979),m,f,e[r+6],23,76029189),h=a(h,m=a(m,f=a(f,p,h,m,e[r+9],4,-640364487),p,h,e[r+12],11,-421815835),f,p,e[r+15],16,530742520),m,f,e[r+2],23,-995338651),h=s(h,m=s(m,f=s(f,p,h,m,e[r],6,-198630844),p,h,e[r+7],10,1126891415),f,p,e[r+14],15,-1416354905),m,f,e[r+5],21,-57434055),h=s(h,m=s(m,f=s(f,p,h,m,e[r+12],6,1700485571),p,h,e[r+3],10,-1894986606),f,p,e[r+10],15,-1051523),m,f,e[r+1],21,-2054922799),h=s(h,m=s(m,f=s(f,p,h,m,e[r+8],6,1873313359),p,h,e[r+15],10,-30611744),f,p,e[r+6],15,-1560198380),m,f,e[r+13],21,1309151649),h=s(h,m=s(m,f=s(f,p,h,m,e[r+4],6,-145523070),p,h,e[r+11],10,-1120210379),f,p,e[r+2],15,718787259),m,f,e[r+9],21,-343485551),f=n(f,l),p=n(p,u),h=n(h,c),m=n(m,d);return[f,p,h,m]}function u(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function c(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function d(e){var t,n,r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return r}function f(e){return unescape(encodeURIComponent(e))}function p(e){return function(e){return u(l(c(e),8*e.length))}(f(e))}function h(e,t){return function(e,t){var n,r,o=c(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=l(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=l(i.concat(c(t)),512+8*t.length),u(l(a.concat(r),640))}(f(e),f(t))}e.exports=function(e,t,n){return t?n?h(t,e):function(e,t){return d(h(e,t))}(t,e):n?p(e):function(e){return d(p(e))}(e)}},function(e,t,n){(function(t){var r=n(120),o={collectWindowErrors:!0,debug:!1},i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},a=[].slice,s="?",l=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function u(){return"undefined"==typeof document||null==document.location?"":document.location.href}function c(){return"undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:"")}o.report=function(){var e,t,n=[],c=null,d=null,f=null;function p(e,t){var r=null;if(!t||o.collectWindowErrors){for(var i in n)if(n.hasOwnProperty(i))try{n[i].apply(null,[e].concat(a.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function h(t,n,i,a,c){var d=r.isErrorEvent(c)?c.error:c,h=r.isErrorEvent(t)?t.message:t;if(f)o.computeStackTrace.augmentStackTraceWithInitialElement(f,n,i,h),m();else if(d&&r.isError(d))p(o.computeStackTrace(d),!0);else{var g,y={url:n,line:i,column:a},v=void 0;if("[object String]"==={}.toString.call(h))(g=h.match(l))&&(v=g[1],h=g[2]);y.func=s,p({name:v,message:h,url:u(),stack:[y]},!0)}return!!e&&e.apply(this,arguments)}function m(){var e=f,t=c;c=null,f=null,d=null,p.apply(null,[e,!1].concat(t))}function g(e,t){var n=a.call(arguments,1);if(f){if(d===e)return;m()}var r=o.computeStackTrace(e);if(f=r,d=e,c=n,setTimeout(function(){d===e&&m()},r.incomplete?2e3:0),!1!==t)throw e}return g.subscribe=function(r){!function(){t||(e=i.onerror,i.onerror=h,t=!0)}(),n.push(r)},g.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},g.uninstall=function(){!function(){t&&(i.onerror=e,t=!1,e=void 0)}(),n=[]},g}(),o.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,n,r,o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,d=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=e.stack.split("\n"),p=[],h=(/^(.*) is undefined$/.exec(e.message),0),m=f.length;h<m;++h){if(n=o.exec(f[h])){var g=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=d.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:g?null:n[2],func:n[1]||s,args:g?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=i.exec(f[h]))r={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(f[h])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=l.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==h||n[5]||void 0===e.columnNumber||(p[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func=s),r.url&&"blob:"===r.url.substr(0,5)){var y=new XMLHttpRequest;if(y.open("GET",r.url,!1),y.send(null),200===y.status){var v=y.responseText||"",_=(v=v.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(_){var b=_[1];"~"===b.charAt(0)&&(b=c()+b.slice(1)),r.url=b.slice(0,-4)}}}p.push(r)}return p.length?{name:e.name,message:e.message,url:u(),stack:p}:null}}function t(e,t,n,r){var o={url:t,line:n};if(o.url&&o.line){if(e.incomplete=!1,o.func||(o.func=s),e.stack.length>0&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,!1}return e.stack.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,i){for(var a,l,c=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,d=[],f={},p=!1,h=n.caller;h&&!p;h=h.caller)if(h!==r&&h!==o.report){if(l={url:null,func:s,line:null,column:null},h.name?l.func=h.name:(a=c.exec(h.toString()))&&(l.func=a[1]),void 0===l.func)try{l.func=a.input.substring(0,a.input.indexOf("{"))}catch(e){}f[""+h]?p=!0:f[""+h]=!0,d.push(l)}i&&d.splice(0,i);var m={name:e.name,message:e.message,url:u(),stack:d};return t(m,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),m}function r(t,r){var i=null;r=null==r?0:+r;try{if(i=e(t))return i}catch(e){if(o.debug)throw e}try{if(i=n(t,r+1))return i}catch(e){if(o.debug)throw e}return{name:t.name,message:t.message,url:u()}}return r.augmentStackTraceWithInitialElement=t,r.computeStackTraceFromStackProp=e,r}(),e.exports=o}).call(this,n(1))},function(e,t,n){(function(t){var r=n(682),o=n(203),i=n(681),a=n(680),s=n(120),l=s.isErrorEvent,u=s.isDOMError,c=s.isDOMException,d=s.isError,f=s.isObject,p=s.isPlainObject,h=s.isUndefined,m=s.isFunction,g=s.isString,y=s.isArray,v=s.isEmptyObject,_=s.each,b=s.objectMerge,w=s.truncate,E=s.objectFrozen,k=s.hasKey,S=s.joinRegExp,x=s.urlencode,T=s.uuid4,A=s.htmlTreeAsString,P=s.isSameException,C=s.isSameStacktrace,O=s.parseUrl,L=s.fill,I=s.supportsFetch,R=s.supportsReferrerPolicy,M=s.serializeKeysForMessage,U=s.serializeException,D=s.sanitize,F=n(679).wrapMethod,N="source protocol user pass host port path".split(" "),j=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function B(){return+new Date}var V="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},H=V.document,q=V.navigator;function $(e,t){return m(t)?function(n){return t(n,e)}:t}function z(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!h(H),this._hasNavigator=!h(q),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:V.SENTRY_RELEASE&&V.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:R()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=V.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=B(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=V.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}z.prototype={VERSION:"3.26.2",debug:!1,TraceKit:r,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var o=n._globalOptions;t&&_(t,function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:o[e]=t}),n.setDSN(e),o.ignoreErrors.push(/^Script error\.?$/),o.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),o.ignoreErrors=S(o.ignoreErrors),o.ignoreUrls=!!o.ignoreUrls.length&&S(o.ignoreUrls),o.whitelistUrls=!!o.whitelistUrls.length&&S(o.whitelistUrls),o.includePaths=S(o.includePaths),o.maxBreadcrumbs=Math.max(0,Math.min(o.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=o.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=b(i,a):!1!==a&&(a=i),o.autoBreadcrumbs=a;var s={tryCatch:!0},l=o.instrument;return"[object Object]"==={}.toString.call(l)?l=b(s,l):!1!==l&&(l=s),o.instrument=l,r.collectWindowErrors=!!o.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(r.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)}),e._globalOptions.captureUnhandledRejections&&e._attachPromiseRejectionHandler(),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this._parseDSN(e),n=t.path.lastIndexOf("/"),r=t.path.substr(1,n);this._dsn=e,this._globalKey=t.user,this._globalSecret=t.pass&&t.pass.substr(1),this._globalProject=t.path.substr(n+1),this._globalServer=this._getGlobalServer(t),this._globalEndpoint=this._globalServer+"/"+r+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return m(e)&&(n=t||[],t=e,e={}),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){var r=this;if(h(t)&&!m(e))return e;if(m(e)&&(t=e,e=void 0),!m(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function o(){var o=[],i=arguments.length,a=!e||e&&!1!==e.deep;for(n&&m(n)&&n.apply(this,arguments);i--;)o[i]=a?r.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,o)}catch(t){throw r._ignoreNextOnError(),r.captureException(t,e),t}}for(var i in t)k(t,i)&&(o[i]=t[i]);return o.prototype=t.prototype,t.__raven_wrapper__=o,o.__raven__=!0,o.__orig__=t,o},uninstall:function(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(e){this._logDebug("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),V.addEventListener&&V.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return V.removeEventListener&&V.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(e,t){if(t=b({trimHeadFrames:0},t||{}),l(e)&&e.error)e=e.error;else{if(u(e)||c(e)){var n=e.name||(u(e)?"DOMError":"DOMException"),o=e.message?n+": "+e.message:n;return this.captureMessage(o,b(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(d(e))e=e;else{if(!p(e))return this.captureMessage(e,b(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this._getCaptureExceptionOptionsFromPlainObject(t,e),e=new Error(t.message)}}this._lastCapturedException=e;try{var i=r.computeStackTrace(e);this._handleStackInfo(i,t)}catch(t){if(e!==t)throw t}return this},_getCaptureExceptionOptionsFromPlainObject:function(e,t){var n=Object.keys(t).sort(),r=b(e,{message:"Non-Error exception captured with keys: "+M(n),fingerprint:[i(n)],extra:e.extra||{}});return r.extra.__serialized__=U(t),r},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,o=b({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var i=r.computeStackTrace(n),a=y(i.stack)&&i.stack[1];a&&"Raven.captureException"===a.func&&(a=i.stack[2]);var s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t&&t.stacktrace){o.fingerprint=null==o.fingerprint?e:o.fingerprint,(t=b({trimHeadFrames:0},t)).trimHeadFrames+=1;var l=this._prepareFrames(i,t);o.stacktrace={frames:l.reverse()}}return o.fingerprint&&(o.fingerprint=y(o.fingerprint)?o.fingerprint:[o.fingerprint]),this._send(o),this}}},captureBreadcrumb:function(e){var t=b({timestamp:B()/1e3},e);if(m(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(f(n)&&!v(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(o(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=$(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=$(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=$(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=V.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(H){var t=(e=e||{}).eventId||this.lastEventId();if(!t)throw new a("Missing eventId");var n=e.dsn||this._dsn;if(!n)throw new a("Missing DSN");var r=encodeURIComponent,o="";o+="?eventId="+r(t),o+="&dsn="+r(n);var i=e.user||this._globalContext.user;i&&(i.name&&(o+="&name="+r(i.name)),i.email&&(o+="&email="+r(i.email)));var s=this._getGlobalServer(this._parseDSN(n)),l=H.createElement("script");l.async=!0,l.src=s+"/api/embed/error-page/"+o,(H.head||H.body).appendChild(l)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),H.createEvent?(n=H.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=H.createEventObject()).eventType=e,t)k(t,r)&&(n[r]=t[r]);if(H.createEvent)H.dispatchEvent(n);else try{H.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){var r;t._lastCapturedEvent=n;try{r=A(n.target)}catch(e){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},_keypressEventHandler:function(){var e=this;return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var o=e._keypressTimeout;o||e._breadcrumbEventHandler("input")(t),clearTimeout(o),e._keypressTimeout=setTimeout(function(){e._keypressTimeout=null},1e3)}}},_captureUrlChange:function(e,t){var n=O(this._location.href),r=O(t),o=O(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===o.protocol&&n.host===o.host&&(e=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function n(t){return function(n,r){for(var o=new Array(arguments.length),i=0;i<o.length;++i)o[i]=arguments[i];var a=o[0];return m(a)&&(o[0]=e.wrap({mechanism:{type:"instrument",data:{function:t.name||"<anonymous>"}}},a)),t.apply?t.apply(this,o):t(o[0],o[1])}}var r=this._globalOptions.autoBreadcrumbs;function o(n){var o=V[n]&&V[n].prototype;o&&o.hasOwnProperty&&o.hasOwnProperty("addEventListener")&&(L(o,"addEventListener",function(t){return function(o,i,a,s){try{i&&i.handleEvent&&(i.handleEvent=e.wrap({mechanism:{type:"instrument",data:{target:n,function:"handleEvent",handler:i&&i.name||"<anonymous>"}}},i.handleEvent))}catch(e){}var l,u,c;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(u=e._breadcrumbEventHandler("click"),c=e._keypressEventHandler(),l=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?u(e):"keypress"===t?c(e):void 0}}),t.call(this,o,e.wrap({mechanism:{type:"instrument",data:{target:n,function:"addEventListener",handler:i&&i.name||"<anonymous>"}}},i,l),a,s)}},t),L(o,"removeEventListener",function(e){return function(t,n,r,o){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,r,o)}},t))}L(V,"setTimeout",n,t),L(V,"setInterval",n,t),V.requestAnimationFrame&&L(V,"requestAnimationFrame",function(t){return function(n){return t(e.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},n))}},t);for(var i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<i.length;a++)o(i[a])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,n=e._wrappedBuiltIns;function r(t,n){t in n&&m(n[t])&&L(n,t,function(n){return e.wrap({mechanism:{type:"instrument",data:{function:t,handler:n&&n.name||"<anonymous>"}}},n)})}if(t.xhr&&"XMLHttpRequest"in V){var o=V.XMLHttpRequest&&V.XMLHttpRequest.prototype;L(o,"open",function(t){return function(n,r){return g(r)&&-1===r.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}},n),L(o,"send",function(t){return function(){var n=this;function o(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var i=["onload","onerror","onprogress"],a=0;a<i.length;a++)r(i[a],n);return"onreadystatechange"in n&&m(n.onreadystatechange)?L(n,"onreadystatechange",function(t){return e.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,o)}):n.onreadystatechange=o,t.apply(this,arguments)}},n)}t.xhr&&I()&&L(V,"fetch",function(t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var o,i=n[0],a="GET";if("string"==typeof i?o=i:"Request"in V&&i instanceof V.Request?(o=i.url,i.method&&(a=i.method)):o=""+i,-1!==o.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:o,status_code:null};return t.apply(this,n).then(function(t){return s.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t}).catch(function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),t})}},n),t.dom&&this._hasDocument&&(H.addEventListener?(H.addEventListener("click",e._breadcrumbEventHandler("click"),!1),H.addEventListener("keypress",e._keypressEventHandler(),!1)):H.attachEvent&&(H.attachEvent("onclick",e._breadcrumbEventHandler("click")),H.attachEvent("onkeypress",e._keypressEventHandler())));var i=V.chrome,a=!(i&&i.app&&i.app.runtime)&&V.history&&V.history.pushState&&V.history.replaceState;if(t.location&&a){var s=V.onpopstate;V.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),s)return s.apply(this,arguments)};var l=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};L(V.history,"pushState",l,n),L(V.history,"replaceState",l,n)}if(t.console&&"console"in V&&console.log){var u=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};_(["debug","info","warn","error","log"],function(e,t){F(console,t,u)})}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}},_restoreConsole:function(){for(var e in this._originalConsoleMethods)this._originalConsole[e]=this._originalConsoleMethods[e]},_drainPlugins:function(){var e=this;_(this._plugins,function(t,n){var r=n[0],o=n[1];r.apply(e,[e].concat(o))})},_parseDSN:function(e){var t=j.exec(e),n={},r=7;try{for(;r--;)n[N[r]]=t[r]||""}catch(t){throw new a("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(e,t)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,r=[];if(e.stack&&e.stack.length&&(_(e.stack,function(t,o){var i=n._normalizeFrame(o,e.url);i&&r.push(i)}),t&&t.trimHeadFrames))for(var o=0;o<t.trimHeadFrames&&o<r.length;o++)r[o].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,r,o,i){var a,s=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(s))&&(o&&o.length?(n=o[0].filename||n,o.reverse(),a={frames:o}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var l=b({exception:{values:[{type:e,value:t,stacktrace:a}]},transaction:n},i);!l.exception.mechanism&&l.mechanism&&(l.exception.mechanism=l.mechanism,delete l.mechanism),l.exception.mechanism=b({type:"generic",handled:!0},l.exception.mechanism||{}),this._send(l)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=w(e.message,t)),e.exception){var n=e.exception.values[0];n.value=w(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=w(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=w(r.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,r,o=["to","from","url"],i=0;i<e.values.length;++i)if((n=e.values[i]).hasOwnProperty("data")&&f(n.data)&&!E(n.data)){r=b({},n.data);for(var a=0;a<o.length;++a)t=o[a],r.hasOwnProperty(t)&&r[t]&&(r[t]=w(r[t],this._globalOptions.maxUrlLength));e.values[i].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&q.userAgent&&(e.headers={"User-Agent":q.userAgent}),V.location&&V.location.href&&(e.url=V.location.href),this._hasDocument&&H.referrer&&(e.headers||(e.headers={}),e.headers.Referer=H.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&B()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?C(e.stacktrace,t.stacktrace):!e.exception&&!t.exception||P(e.exception,t.exception))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=I()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=B()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),e.trimHeadFrames&&delete e.trimHeadFrames,(e=b(n,e)).tags=b(b({},this._globalContext.tags),e.tags),e.extra=b(b({},this._globalContext.extra),e.extra),e.extra["session:duration"]=B()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this._sanitizeData(e),Object.keys(e).forEach(function(t){(null==e[t]||""===e[t]||v(e[t]))&&delete e[t]}),m(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!v(e)&&(m(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_sanitizeData:function(e){return D(e,this._globalOptions.sanitizeKeys)},_getUuid:function(){return T()},_sendProcessedPayload:function(e,t){var n=this,r=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret);var i=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:i?(i.type?i.type+": ":"")+i.value:e.message,event_id:e.event_id,level:e.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:o,data:e,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:e,src:a}),t&&t()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:e,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),t&&t(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+x(e.auth),n=null,r={};if(e.options.headers&&(n=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(r=this._evaluateHash(e.options.fetchParameters)),I()){r.body=o(e.data);var i=b({},this._fetchDefaults),a=b(i,r);return n&&(a.headers=n),V.fetch(t,a).then(function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var n=new Error("Sentry error code: "+t.status);n.request=t,e.onError&&e.onError(n)}}).catch(function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))})}var s=V.XMLHttpRequest&&new V.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+s.status);t.request=s,e.onError(t)}}:(s=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(s.onload=e.onSuccess),e.onError&&(s.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=s,e.onError(t)})),s.open("POST",t),n&&_(n,function(e,t){s.setRequestHeader(e,t)}),s.send(o(e.data))))},_evaluateHash:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="function"==typeof r?r():r}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){h(t)?delete this._globalContext[e]:this._globalContext[e]=b(this._globalContext[e]||{},t)}},z.prototype.setUser=z.prototype.setUserContext,z.prototype.setReleaseContext=z.prototype.setRelease,e.exports=z}).call(this,n(1))},function(e,t,n){(function(t){var r=n(683),o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},i=o.Raven,a=new r;a.noConflict=function(){return o.Raven=i,a},a.afterLoad(),e.exports=a,e.exports.Client=r}).call(this,n(1))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.install=function(){function t(e){return f.push(e.error),!1}return window.addEventListener("error",t),Promise.all([function(){return o.default.fetch([c]).then(e=>e[c]||0).catch(()=>"spotify:app:login"===p("app_uri")?.5:0)}(),function(){return new Promise(e=>{(0,a.messageProxy)({method:"GET",uri:"client-state",target:"top"},(t,n)=>{e(t?0:n.state.session_uuid)})})}()]).then(n=>{let o=.1*parseFloat(n[0]);const a=n[1];(0,i.hasFlag)(d)&&(o=e.__spotify.product_state[d]);let s="production";(0,i.hasValue)("ta-environment",1)?s="ta":e.__spotify&&e.__spotify.developer_mode&&(s="development");const c={sampleRate:o,environment:s,autoBreadcrumbs:{console:!1},release:p("client_version","0.0.0"),tags:{locale:p("locale","en"),gitRevision:p("app_manifest",{}).GitRevision,uuid:a}};l("config",c),r.default.config(u,c).install(),f.forEach(e=>{l("reporting queued error",e),r.default.captureException(e)}),window.removeEventListener("error",t),window.addEventListener("unhandledrejection",e=>{r.default.captureException(e.reason)})})};var r=s(n(684)),o=s(n(119)),i=n(675),a=n(27);function s(e){return e&&e.__esModule?e:{default:e}}const l=(0,s(n(6)).default)("sentry"),u="https://29161b091d014a3e9abe8f73f325d46b@sentry.io/57674",c="sentry-desktop-sample-rate-v2",d="sentry-sample-rate",f=[];function p(t,n){return e.__spotify&&e.__spotify.hasOwnProperty(t)?e.__spotify[t]:n}}).call(this,n(1))},function(e,t,n){"use strict";var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(685)),o=n(670),i=function(e){return e&&e.__esModule?e:{default:e}}(n(207));n(206),r.install(),new o.Runner(document,window,{"app/backend":"hm://hubview/km/v2/browse/","app/name":"browse","app/version":i.default.version}).newApplicationContext(document.body).bootstrap()},function(e,t,n){e.exports=n(686)}]);
//# sourceMappingURL=browse.bundle.js.map